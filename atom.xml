<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ã„…ã„†ã„‡ã„ˆ</title>
  <icon>https://sulfurandcu.github.io/sulfurandcu.io/icon.png</icon>
  <subtitle>bopomofo</subtitle>
  <link href="https://sulfurandcu.github.io/sulfurandcu.io/atom.xml" rel="self"/>
  
  <link href="https://sulfurandcu.github.io/sulfurandcu.io/"/>
  <updated>2024-12-05T10:45:59.000Z</updated>
  <id>https://sulfurandcu.github.io/sulfurandcu.io/</id>
  
  <author>
    <name>åˆ˜æ±²æ¡</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æŠŠ RT-THREAD è®¾å¤‡æ¡†æ¶ç§»æ¤åˆ°è£¸æœºå¹³å°</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/cm4aw35rg000270rq43hj5g6x.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/cm4aw35rg000270rq43hj5g6x.html</id>
    <published>2024-12-05T10:45:59.000Z</published>
    <updated>2024-12-05T10:45:59.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ RT-THREAD çš„è®¾å¤‡æ¡†æ¶ç¡®å®æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œèƒ½ä¸èƒ½ç§»æ¤åˆ°è£¸æœºå·¥ç¨‹ä¸Šï¼Œä¸ºæˆ‘ bootloader æ‰€ç”¨å‘¢ğŸ˜ï¼Ÿ</p><p>äº‹å®è¯æ˜å¯ä»¥ğŸ˜ï¼</p><p><img src="/sulfurandcu.io/cm4aw35rg000270rq43hj5g6x/architecture.png"></p><span id="more"></span><h2 id="ç§»æ¤å‰ï¼ˆå‘ä¸‹è°ƒç”¨æœºåˆ¶ï¼‰"><a href="#ç§»æ¤å‰ï¼ˆå‘ä¸‹è°ƒç”¨æœºåˆ¶ï¼‰" class="headerlink" title="ç§»æ¤å‰ï¼ˆå‘ä¸‹è°ƒç”¨æœºåˆ¶ï¼‰"></a>ç§»æ¤å‰ï¼ˆå‘ä¸‹è°ƒç”¨æœºåˆ¶ï¼‰</h2><p><img src="/sulfurandcu.io/cm4aw35rg000270rq43hj5g6x/now.png"></p><h2 id="ç§»æ¤åï¼ˆå‘ä¸Šæ³¨å†Œæœºåˆ¶ï¼‰"><a href="#ç§»æ¤åï¼ˆå‘ä¸Šæ³¨å†Œæœºåˆ¶ï¼‰" class="headerlink" title="ç§»æ¤åï¼ˆå‘ä¸Šæ³¨å†Œæœºåˆ¶ï¼‰"></a>ç§»æ¤åï¼ˆå‘ä¸Šæ³¨å†Œæœºåˆ¶ï¼‰</h2><p><img src="/sulfurandcu.io/cm4aw35rg000270rq43hj5g6x/redesign.png"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;è¿™ RT-THREAD çš„è®¾å¤‡æ¡†æ¶ç¡®å®æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œèƒ½ä¸èƒ½ç§»æ¤åˆ°è£¸æœºå·¥ç¨‹ä¸Šï¼Œä¸ºæˆ‘ bootloader æ‰€ç”¨å‘¢ğŸ˜ï¼Ÿ&lt;/p&gt;
&lt;p&gt;äº‹å®è¯æ˜å¯ä»¥ğŸ˜ï¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/sulfurandcu.io/cm4aw35rg000270rq43hj5g6x/architecture.png&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>é¡¹ç›®ä»£ç ç®¡ç†æ–¹æ¡ˆ</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/cm4azoo32001n70rqdt923mqq.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/cm4azoo32001n70rqdt923mqq.html</id>
    <published>2024-11-22T12:12:46.000Z</published>
    <updated>2024-11-22T12:12:46.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/sulfurandcu.io/cm4azoo32001n70rqdt923mqq/solution.png"></p><center><b>â€œé¡¹ç›®åŒ–äº¤ä»˜â€æ¨¡å¼ä¸‹çš„â€œåŸºçº¿äº§å“åŒ–â€æ–¹æ¡ˆ</b></center><br><span id="more"></span><h2 id="å­˜åœ¨çš„é—®é¢˜"><a href="#å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="å­˜åœ¨çš„é—®é¢˜"></a>å­˜åœ¨çš„é—®é¢˜</h2><p><img src="/sulfurandcu.io/cm4azoo32001n70rqdt923mqq/current_situation.png"></p><ul><li>æ¨¡å—ã€åˆ›æ–°ã€æˆæœåˆ†æ•£åœ¨å„ä¸ªé¡¹ç›®ä¸­ï¼Œéš¾ä»¥ç»´æŠ¤ã€ç»§æ‰¿ã€å¤ç”¨ã€æŒç»­ä¼˜åŒ–ã€‚</li><li>ä¿®å¤çš„ç¼ºé™·æ— æ³•ç»§æ‰¿ï¼Œé‡å¤çš„é—®é¢˜ä¸€è€Œå†ï¼Œå†è€Œä¸‰å‡ºç°ï¼Œé¡¹ç›®è´¨é‡éš¾ä»¥ä¿è¯ã€‚</li><li>é‡å¤çš„å·¥ä½œï¼Œå¼€å‘ä½“éªŒå·®ã€‚</li></ul><h2 id="å¯è¡Œçš„æ–¹æ¡ˆ"><a href="#å¯è¡Œçš„æ–¹æ¡ˆ" class="headerlink" title="å¯è¡Œçš„æ–¹æ¡ˆ"></a>å¯è¡Œçš„æ–¹æ¡ˆ</h2><p><img src="/sulfurandcu.io/cm4azoo32001n70rqdt923mqq/solution_dir.png"></p><ol><li>å»ºç«‹ç»„ä»¶åº“å’ŒåŸºçº¿åº“ï¼š</li></ol><ul><li>ç»„ä»¶åº“<ul><li>è½¯ä»¶å¤ç”¨æ¨¡å—</li><li>å®æ—¶æ“ä½œç³»ç»Ÿ</li><li>ç¡¬ä»¶æ ‡å‡†æ¥å£</li><li>ç¡¬ä»¶å¹³å°é©±åŠ¨</li><li>ç¡¬ä»¶è®¾å¤‡é©±åŠ¨</li></ul></li><li>åŸºçº¿åº“<ul><li>å‡çº§å¼•å¯¼ç¨‹åºåŸºçº¿å·¥ç¨‹ï¼ˆbootloaderï¼‰</li><li>è£¸æœºå¾ªç¯ç³»ç»ŸåŸºçº¿å·¥ç¨‹ï¼ˆNoOSï¼‰</li><li>å®æ—¶æ“ä½œç³»ç»ŸåŸºçº¿å·¥ç¨‹ï¼ˆRTOSï¼‰</li><li>é€šç”¨æ“ä½œç³»ç»ŸåŸºçº¿å·¥ç¨‹ï¼ˆLinux *optionalï¼‰</li></ul></li></ul><ol start="2"><li>ç°æœ‰çš„é¡¹ç›®ç»è¿‡æ•´åˆã€æ±‡æ€»ï¼Œå½¢æˆé¡¹ç›®åº“ï¼š</li></ol><ul><li>é¡¹ç›®åº“<ul><li>é¡¹ç›®ï¼¡</li><li>é¡¹ç›®ï¼¢</li><li>é¡¹ç›®ï¼£</li></ul></li></ul><ol start="3"><li>åæœŸæ–°çš„é¡¹ç›®åœ¨åŸºçº¿å·¥ç¨‹çš„åŸºç¡€ä¸Šåˆ›å»º</li><li>åœ¨å„ä¸ªé¡¹ç›®ä¸Šæ‰€åšçš„ä¼˜åŒ–ã€åˆ›æ–°ï¼Œè¦åŠæ—¶å›é¦ˆåˆ°ã€ŒåŸºçº¿å·¥ç¨‹ã€å’Œã€Œç»„ä»¶åº“ã€ä¸­ã€‚</li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/sulfurandcu.io/cm4azoo32001n70rqdt923mqq/solution.png&quot;&gt;&lt;/p&gt;
&lt;center&gt;&lt;b&gt;â€œé¡¹ç›®åŒ–äº¤ä»˜â€æ¨¡å¼ä¸‹çš„â€œåŸºçº¿äº§å“åŒ–â€æ–¹æ¡ˆ&lt;/b&gt;&lt;/center&gt;&lt;br&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Kconfig</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/cm0n3u4b4000mo4rqa9febgd1.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/cm0n3u4b4000mo4rqa9febgd1.html</id>
    <published>2024-09-04T09:17:34.000Z</published>
    <updated>2024-09-04T09:17:34.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/sulfurandcu.io/cm0n3u4b4000mo4rqa9febgd1/Kconfig.png"></p><table><thead><tr><th align="center">å¼€å‘å¹³å°</th><th align="center">Embedded-RTOS</th><th align="center">Embedded-NoOS</th><th align="center">Embedded-Linux</th></tr></thead><tbody><tr><td align="center">linux</td><td align="center"><strong>kconfiglib.menuconfig</strong><br>Kconfig<br>makefile&#x2F;sconscript</td><td align="center"><strong>kconfiglib.menuconfig</strong><br>Kconfig<br>makefile&#x2F;sconscript</td><td align="center"><strong>kconfiglib.menuconfig</strong><br>Kconfig<br>makefile&#x2F;sconscript</td></tr><tr><td align="center">windows</td><td align="center"><strong>windows-curses</strong><br><strong>kconfiglib.menuconfig</strong><br>Kconfig<br>makefile&#x2F;sconscript<br>or<br><strong>env-windows</strong><br>Kconfig<br>makefile&#x2F;sconscript</td><td align="center"><strong>windows-curses</strong><br><strong>kconfiglib.menuconfig</strong><br>Kconfig<br>makefile&#x2F;sconscript<br><br><br><br><br></td><td align="center"><strong>windows-curses</strong><br><strong>kconfiglib.menuconfig</strong><br>Kconfig<br>makefile&#x2F;sconscript<br><br><br><br><br></td></tr></tbody></table><span id="more"></span><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p><strong>Linux</strong></p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">python -m pip install kconfiglib</span><br></pre></td></tr></table></figure><figure class="highlight sh"><figcaption><span>/usr/local/bin</span></figcaption><table><tr><td class="code"><pre><span class="line">alldefconfig</span><br><span class="line">allmodconfig</span><br><span class="line">allnoconfig</span><br><span class="line">allyesconfig</span><br><span class="line">defconfig</span><br><span class="line">genconfig</span><br><span class="line">guiconfig</span><br><span class="line">listnewconfig</span><br><span class="line">menuconfig</span><br><span class="line">oldconfig</span><br><span class="line">olddefconfig</span><br><span class="line">savedefconfig</span><br><span class="line">setconfig</span><br></pre></td></tr></table></figure><p><strong>Windows</strong></p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">python -m pip install kconfiglib</span><br><span class="line">python -m pip install windows-curses</span><br></pre></td></tr></table></figure><figure class="highlight sh"><figcaption><span>..\python\Scripts\</span></figcaption><table><tr><td class="code"><pre><span class="line">alldefconfig.exe</span><br><span class="line">allmodconfig.exe</span><br><span class="line">allnoconfig.exe</span><br><span class="line">allyesconfig.exe</span><br><span class="line">defconfig.exe</span><br><span class="line">genconfig.exe</span><br><span class="line">guiconfig.exe</span><br><span class="line">listnewconfig.exe</span><br><span class="line">menuconfig.exe</span><br><span class="line">oldconfig.exe</span><br><span class="line">olddefconfig.exe</span><br><span class="line">savedefconfig.exe</span><br><span class="line">setconfig.exe</span><br></pre></td></tr></table></figure><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">menuconfig -h</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">genconfig -h</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><figure class="highlight txt"><figcaption><span>1. æ–°å»º demo å·¥ç¨‹</span></figcaption><table><tr><td class="code"><pre><span class="line">main.c</span><br><span class="line">Kconfig</span><br><span class="line">Makefile</span><br></pre></td></tr></table></figure><figure class="highlight txt"><figcaption><span>2. ä½¿ç”¨ make ç¼–è¯‘</span></figcaption><table><tr><td class="code"><pre><span class="line">make</span><br><span class="line">make clean</span><br></pre></td></tr></table></figure><figure class="highlight txt"><figcaption><span>3. æ‰‹åŠ¨æ‰“å¼€é…ç½®ç•Œé¢</span></figcaption><table><tr><td class="code"><pre><span class="line">make menuconfig</span><br></pre></td></tr></table></figure><h2 id="ä¾‹ç¨‹"><a href="#ä¾‹ç¨‹" class="headerlink" title="ä¾‹ç¨‹"></a>ä¾‹ç¨‹</h2><figure class="highlight c"><figcaption><span>example: main.c</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;config.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;hello, world\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">ifdef</span> CONFIG_FUNCTION_1_ENABLE</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;CONFIG_FUNCTION_1_ENABLE\n&quot;</span>);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">ifdef</span> CONFIG_FUNCTION_1_1_ENABLE</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;CONFIG_FUNCTION_1_1_ENABLE\n&quot;</span>);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">ifdef</span> CONFIG_FUNCTION_1_2_ENABLE</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;CONFIG_FUNCTION_1_2_ENABLE\n&quot;</span>);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">ifdef</span> CONFIG_FUNCTION_1_3_ENABLE</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;CONFIG_FUNCTION_1_3_ENABLE\n&quot;</span>);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">ifdef</span> CONFIG_FUNCTION_2_ENABLE</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;CONFIG_FUNCTION_2_ENABLE\n&quot;</span>);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">ifdef</span> CONFIG_FUNCTION_2_1_ENABLE</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;CONFIG_FUNCTION_2_1_ENABLE\n&quot;</span>);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">ifdef</span> CONFIG_FUNCTION_2_2_ENABLE</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;CONFIG_FUNCTION_2_2_ENABLE\n&quot;</span>);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">ifdef</span> CONFIG_FUNCTION_2_3_ENABLE</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;CONFIG_FUNCTION_2_3_ENABLE\n&quot;</span>);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;USERNAME: %s\n&quot;</span>, CONFIG_USERNAME);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;PASSWORD: %d\n&quot;</span>, CONFIG_PASSWORD);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span>example: Kconfig</span></figcaption><table><tr><td class="code"><pre><span class="line">mainmenu <span class="string">&quot;Kconfig&quot;</span></span><br><span class="line"></span><br><span class="line">menu <span class="string">&quot;example&quot;</span></span><br><span class="line"></span><br><span class="line">config FUNCTION_1_ENABLE</span><br><span class="line">    <span class="type">bool</span> <span class="string">&quot;Function 1&quot;</span></span><br><span class="line">    <span class="keyword">default</span> n</span><br><span class="line">    help</span><br><span class="line">        Function <span class="number">1</span></span><br><span class="line"></span><br><span class="line">config FUNCTION_1_1_ENABLE</span><br><span class="line">    <span class="type">bool</span> <span class="string">&quot;Function 1.1&quot;</span></span><br><span class="line">    <span class="keyword">default</span> n</span><br><span class="line">    depends on FUNCTION_1_ENABLE</span><br><span class="line">    help</span><br><span class="line">        Function <span class="number">1.1</span></span><br><span class="line"></span><br><span class="line">config FUNCTION_1_2_ENABLE</span><br><span class="line">    <span class="type">bool</span> <span class="string">&quot;Function 1.2&quot;</span></span><br><span class="line">    <span class="keyword">default</span> n</span><br><span class="line">    depends on FUNCTION_1_ENABLE</span><br><span class="line">    help</span><br><span class="line">        Function <span class="number">1.2</span></span><br><span class="line"></span><br><span class="line">config FUNCTION_1_3_ENABLE</span><br><span class="line">    <span class="type">bool</span> <span class="string">&quot;Function 1.3&quot;</span></span><br><span class="line">    <span class="keyword">default</span> n</span><br><span class="line">    depends on FUNCTION_1_ENABLE</span><br><span class="line">    help</span><br><span class="line">        Function <span class="number">1.3</span></span><br><span class="line"></span><br><span class="line">config FUNCTION_2_ENABLE</span><br><span class="line">    <span class="type">bool</span> <span class="string">&quot;Function 2&quot;</span></span><br><span class="line">    <span class="keyword">default</span> n</span><br><span class="line">    help</span><br><span class="line">        Function <span class="number">2</span></span><br><span class="line"></span><br><span class="line">config FUNCTION_2_1_ENABLE</span><br><span class="line">    <span class="type">bool</span> <span class="string">&quot;Function 2.1&quot;</span></span><br><span class="line">    <span class="keyword">default</span> n</span><br><span class="line">    depends on FUNCTION_2_ENABLE</span><br><span class="line">    help</span><br><span class="line">        Function <span class="number">2.1</span></span><br><span class="line"></span><br><span class="line">config FUNCTION_2_2_ENABLE</span><br><span class="line">    <span class="type">bool</span> <span class="string">&quot;Function 2.2&quot;</span></span><br><span class="line">    <span class="keyword">default</span> n</span><br><span class="line">    depends on FUNCTION_2_ENABLE</span><br><span class="line">    help</span><br><span class="line">        Function <span class="number">2.2</span></span><br><span class="line"></span><br><span class="line">config FUNCTION_2_3_ENABLE</span><br><span class="line">    <span class="type">bool</span> <span class="string">&quot;Function 2.3&quot;</span></span><br><span class="line">    <span class="keyword">default</span> n</span><br><span class="line">    depends on FUNCTION_2_ENABLE</span><br><span class="line">    help</span><br><span class="line">        Function <span class="number">2.3</span></span><br><span class="line"></span><br><span class="line">config USERNAME</span><br><span class="line">    <span class="built_in">string</span> <span class="string">&quot;username&quot;</span></span><br><span class="line">    <span class="keyword">default</span> <span class="string">&quot;abc&quot;</span></span><br><span class="line">    help</span><br><span class="line">        Input a <span class="built_in">string</span> value.</span><br><span class="line"></span><br><span class="line">config PASSWORD</span><br><span class="line">    <span class="type">int</span> <span class="string">&quot;password&quot;</span></span><br><span class="line">    range <span class="number">0</span> <span class="number">255</span></span><br><span class="line">    <span class="keyword">default</span> <span class="number">123</span></span><br><span class="line">    help</span><br><span class="line">        Input a <span class="type">int</span> value. Range from <span class="number">0</span> to <span class="number">255.</span></span><br><span class="line"></span><br><span class="line">endmenu</span><br></pre></td></tr></table></figure><figure class="highlight makefile"><figcaption><span>example: Makefile</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="section">all: main.o</span></span><br><span class="line">gcc main.o -o main</span><br><span class="line"><span class="section">main.o: main.c config.h</span></span><br><span class="line">gcc main.c -c -o main.o</span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">rm  main.o main</span><br><span class="line"></span><br><span class="line"><span class="section">config.h:.config</span></span><br><span class="line">genconfig --header-path config.h</span><br><span class="line"><span class="section">.config:</span></span><br><span class="line">menuconfig</span><br><span class="line"><span class="section">menuconfig:</span></span><br><span class="line">menuconfig</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/sulfurandcu.io/cm0n3u4b4000mo4rqa9febgd1/Kconfig.png&quot;&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;å¼€å‘å¹³å°&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;Embedded-RTOS&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;Embedded-NoOS&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;Embedded-Linux&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;linux&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;strong&gt;kconfiglib.menuconfig&lt;/strong&gt;&lt;br&gt;Kconfig&lt;br&gt;makefile&amp;#x2F;sconscript&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;strong&gt;kconfiglib.menuconfig&lt;/strong&gt;&lt;br&gt;Kconfig&lt;br&gt;makefile&amp;#x2F;sconscript&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;strong&gt;kconfiglib.menuconfig&lt;/strong&gt;&lt;br&gt;Kconfig&lt;br&gt;makefile&amp;#x2F;sconscript&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;windows&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;strong&gt;windows-curses&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;kconfiglib.menuconfig&lt;/strong&gt;&lt;br&gt;Kconfig&lt;br&gt;makefile&amp;#x2F;sconscript&lt;br&gt;or&lt;br&gt;&lt;strong&gt;env-windows&lt;/strong&gt;&lt;br&gt;Kconfig&lt;br&gt;makefile&amp;#x2F;sconscript&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;strong&gt;windows-curses&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;kconfiglib.menuconfig&lt;/strong&gt;&lt;br&gt;Kconfig&lt;br&gt;makefile&amp;#x2F;sconscript&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;strong&gt;windows-curses&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;kconfiglib.menuconfig&lt;/strong&gt;&lt;br&gt;Kconfig&lt;br&gt;makefile&amp;#x2F;sconscript&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>é€šä¿¡æ¨¡å—è®¾è®¡è¯´æ˜</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/clz2cld8l000q1orq40fzah1z.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/clz2cld8l000q1orq40fzah1z.html</id>
    <published>2024-07-21T07:02:38.000Z</published>
    <updated>2024-07-21T07:02:38.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/sulfurandcu.io/clz2cld8l000q1orq40fzah1z/cover.png"></p><br><table><thead><tr><th align="center">ç‰¹æ€§æ¦‚è¿°</th><th align="center">è¯¦ç»†è¯´æ˜</th></tr></thead><tbody><tr><td align="center">è¾ƒå¼ºçš„æ¥æ”¶å®¹é”™èƒ½åŠ›</td><td align="center">è‡ªåŠ¨ä»ä¸‹ä¸€ä¸ªèµ·å§‹ç¬¦ç»§ç»­åŒ¹é…</td></tr><tr><td align="center">ä¸°å¯Œçš„åè®®è§£æèƒ½åŠ›</td><td align="center">åŒä¸€ä¸ªç«¯å£æ”¯æŒè§£æå¤šç§åè®®</td></tr><tr><td align="center">çµæ´»çš„ç«¯å£è½¬å‘èƒ½åŠ›</td><td align="center">æ”¯æŒåœ¨ä»»æ„ç«¯å£ä¹‹é—´ç›¸äº’è½¬å‘ï¼ˆè½¬å‘æ—¶æ”¯æŒåè®®è½¬æ¢ï¼‰</td></tr><tr><td align="center">è‰¯å¥½çš„åè®®æ‰©å±•èƒ½åŠ›</td><td align="center">é‡‡ç”¨æ˜Ÿå½¢æ‹“æ‰‘ï½œæ–¹ä¾¿åæœŸæ‰©å±•</td></tr></tbody></table><span id="more"></span><h2 id="è¾ƒå¼ºçš„æ¥æ”¶å®¹é”™èƒ½åŠ›"><a href="#è¾ƒå¼ºçš„æ¥æ”¶å®¹é”™èƒ½åŠ›" class="headerlink" title="è¾ƒå¼ºçš„æ¥æ”¶å®¹é”™èƒ½åŠ›"></a>è¾ƒå¼ºçš„æ¥æ”¶å®¹é”™èƒ½åŠ›</h2><p><img src="/sulfurandcu.io/clz2cld8l000q1orq40fzah1z/receive.png"></p><p>æ¥æ”¶å¹¶è§£æä¸€ä¸ªæ­£å¸¸çš„æ•°æ®å¸§æ˜¯æ¯”è¾ƒå®¹æ˜“å®ç°çš„ï¼Œä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬å¾€å¾€ä¼šç¢°åˆ°ä¸€äº›å˜æ€çš„åœºæ™¯æˆ–è€…å˜æ€çš„ç”¨æˆ·éœ€æ±‚ï¼Œæ¯”å¦‚è¯´åœ¨ä¸€å †ä¹±ç ä¸­æ··å…¥ä¸€ä¸ªæ­£å¸¸å¸§ï¼Œåˆæˆ–è€…æ˜¯åœ¨ä¸€ä¸ªåŠå¸§åé¢æ¥ä¸€ä¸ªæ­£å¸¸å¸§ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ç¨‹åºèƒ½å¦æ­£å¸¸è§£æï¼Œå°±å¾ˆè€ƒéªŒç¨‹åºè®¾è®¡çš„åŠŸåŠ›äº†ã€‚ç›®å‰çš„æ–¹æ¡ˆæ˜¯ï¼Œä»ç¬¬ä¸€ä¸ªèµ·å§‹ç¬¦å¼€å§‹å°è¯•ä¸æŒ‡å®šçš„åè®®è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™æ­£å¸¸è¿”å›ï¼›å¦‚æœåŒ¹é…å¤±è´¥ï¼Œåˆ™è‡ªåŠ¨ä»ä¸‹ä¸€ä¸ªå­—èŠ‚æˆ–è€…ä¸‹ä¸€ä¸ªèµ·å§‹ç¬¦å¼€å§‹ç»§ç»­åŒ¹é…ï¼Œç›´åˆ°åŒ¹é…æˆåŠŸã€‚</p><h2 id="ä¸°å¯Œçš„åè®®è§£æèƒ½åŠ›"><a href="#ä¸°å¯Œçš„åè®®è§£æèƒ½åŠ›" class="headerlink" title="ä¸°å¯Œçš„åè®®è§£æèƒ½åŠ›"></a>ä¸°å¯Œçš„åè®®è§£æèƒ½åŠ›</h2><p><img src="/sulfurandcu.io/clz2cld8l000q1orq40fzah1z/protocol.png"></p><p>æˆ‘ä¸ªäººè®¤ä¸ºä¸€ä¸ªç«¯å£åªæ”¯æŒè§£æä¸€ç§åè®®çš„è®¾è®¡æ˜¯å¾ˆé¸¡è‚‹çš„ï¼Œæ— æ³•æ»¡è¶³ä¸€äº›å˜æ€çš„ç”¨æˆ·éœ€æ±‚ã€‚ä¸ºæ­¤ï¼Œæœ¬äººè®¾è®¡äº†ä¸€å¥—å…¨æ–°çš„é€šä¿¡ç³»ç»Ÿï¼Œæ”¯æŒåœ¨åŒä¸€ä¸ªç«¯å£ä¸Šè§£æå¤šç§åè®®ã€‚å…¶åŸç†ä¸ºï¼Œä»åº•å±‚æ•°æ®ç¼“å†²åŒºä¸­ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚åœ°è¯»å–æ•°æ®ï¼Œæ¯æ‹¿å–ä¸€ä¸ªå­—èŠ‚ï¼Œå°±ä¸åè®®åº“ä¸­çš„è‹¥å¹²åè®®æ¯”å¯¹ä¸€æ¬¡ï¼Œç›´åˆ°æ¯”å¯¹æˆåŠŸã€‚</p><h2 id="çµæ´»çš„ç«¯å£è½¬å‘èƒ½åŠ›"><a href="#çµæ´»çš„ç«¯å£è½¬å‘èƒ½åŠ›" class="headerlink" title="çµæ´»çš„ç«¯å£è½¬å‘èƒ½åŠ›"></a>çµæ´»çš„ç«¯å£è½¬å‘èƒ½åŠ›</h2><p><img src="/sulfurandcu.io/clz2cld8l000q1orq40fzah1z/transforward.png"></p><p>æ•°æ®å¸§åœ¨å•ä¸ªç«¯å£å†…å®Œæˆæ¥æ”¶ã€è§£æã€å¤„ç†ã€å“åº”çš„è®¾è®¡æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œè€Œä¸€æ—¦æ¶‰åŠåˆ°è½¬å‘ï¼Œäº‹æƒ…å°±å˜å¾—å¤æ‚äº†ã€‚é¦–å…ˆï¼Œè¦æƒ³åœ¨ä»»æ„ç«¯å£ä¹‹é—´è½¬å‘ï¼Œå°±ä¸èƒ½æŠŠç«¯å£åˆ†æˆä¸Šè¡Œã€ä¸‹è¡Œï¼Œå·¦è¡Œã€å³è¡Œä¹Ÿä¸è¡Œï¼Œæ‰€æœ‰ç«¯å£éƒ½åº”è¯¥æ˜¯å¹³ç­‰çš„ï¼Œä¸”éµå¾ªåŒä¸€å¥—è§„åˆ™ã€‚å…¶æ¬¡ï¼Œä¸¤ä¸ªç«¯å£æ‰€ç”¨çš„åè®®æœ‰å¾ˆå¤§å¯èƒ½æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥è¿˜éœ€è¦æ”¯æŒåè®®è½¬æ¢ã€‚åè®®è½¬æ¢è¯¦è§ä¸‹ä¸€ç« èŠ‚ã€‚</p><h2 id="è‰¯å¥½çš„åè®®æ‰©å±•èƒ½åŠ›"><a href="#è‰¯å¥½çš„åè®®æ‰©å±•èƒ½åŠ›" class="headerlink" title="è‰¯å¥½çš„åè®®æ‰©å±•èƒ½åŠ›"></a>è‰¯å¥½çš„åè®®æ‰©å±•èƒ½åŠ›</h2><p><img src="/sulfurandcu.io/clz2cld8l000q1orq40fzah1z/topology.png"></p><p>åè®®è½¬æ¢æœ€å®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯ä¸¤ä¸¤è½¬æ¢ï¼Œä¸è¿‡ä¸¤ä¸¤è½¬æ¢åœ¨åè®®å°‘çš„æ—¶å€™è¿˜å¥½è¯´ï¼Œå¹²å°±å®Œäº†ï¼Œä½†æ˜¯åæœŸè‹¥æ˜¯è¦æ‰©å±•ç¬¬ä¸‰ä¸ªã€ç¬¬ï¼®ä¸ªåè®®ï¼Œä¸¤ä¸¤è½¬æ¢çš„å¼Šç«¯å°±æ˜¾ç°å‡ºæ¥äº†ï¼Œå…¶å·¥ä½œé‡å¯æ˜¯å‘ˆCâ‚‚â¿çº§å¢é•¿çš„ã€‚è€Œæ˜Ÿå½¢æ‹“æ‰‘çš„è®¾è®¡åˆ™å¯ä»¥å¾ˆå¥½åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><table><thead><tr><th align="center">åè®®æ•°é‡</th><th align="center">ç½‘çŠ¶æ‹“æ‰‘ O(Câ‚‚â¿)</th><th align="center">æ˜Ÿå½¢æ‹“æ‰‘ O(n)</th></tr></thead><tbody><tr><td align="center">2</td><td align="center">1</td><td align="center">2</td></tr><tr><td align="center">3</td><td align="center">3</td><td align="center">3</td></tr><tr><td align="center">4</td><td align="center">6</td><td align="center">4</td></tr><tr><td align="center">5</td><td align="center">10</td><td align="center">5</td></tr><tr><td align="center">6</td><td align="center">15</td><td align="center">6</td></tr></tbody></table><h2 id="é€šä¿¡æ¨¡å—çš„è½¬å‘åŸç†"><a href="#é€šä¿¡æ¨¡å—çš„è½¬å‘åŸç†" class="headerlink" title="é€šä¿¡æ¨¡å—çš„è½¬å‘åŸç†"></a>é€šä¿¡æ¨¡å—çš„è½¬å‘åŸç†</h2><p><img src="/sulfurandcu.io/clz2cld8l000q1orq40fzah1z/implementation.png"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/sulfurandcu.io/clz2cld8l000q1orq40fzah1z/cover.png&quot;&gt;&lt;/p&gt;
&lt;br&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;ç‰¹æ€§æ¦‚è¿°&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;è¯¦ç»†è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;è¾ƒå¼ºçš„æ¥æ”¶å®¹é”™èƒ½åŠ›&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;è‡ªåŠ¨ä»ä¸‹ä¸€ä¸ªèµ·å§‹ç¬¦ç»§ç»­åŒ¹é…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;ä¸°å¯Œçš„åè®®è§£æèƒ½åŠ›&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;åŒä¸€ä¸ªç«¯å£æ”¯æŒè§£æå¤šç§åè®®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;çµæ´»çš„ç«¯å£è½¬å‘èƒ½åŠ›&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒåœ¨ä»»æ„ç«¯å£ä¹‹é—´ç›¸äº’è½¬å‘ï¼ˆè½¬å‘æ—¶æ”¯æŒåè®®è½¬æ¢ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;è‰¯å¥½çš„åè®®æ‰©å±•èƒ½åŠ›&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;é‡‡ç”¨æ˜Ÿå½¢æ‹“æ‰‘ï½œæ–¹ä¾¿åæœŸæ‰©å±•&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>è°ƒè¯•ç²¾çµä½¿ç”¨è¯´æ˜</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/cly6m4gfj002qscrq77a5a7cn.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/cly6m4gfj002qscrq77a5a7cn.html</id>
    <published>2024-06-30T01:51:48.000Z</published>
    <updated>2024-06-30T01:51:48.000Z</updated>
    
    <content type="html"><![CDATA[<center><a href="https://code.visualstudio.com/Download">ã€Œè¿™æ˜¯ä¸€ä¸ªå†…ç½® DLT645 è§„åˆ™è§£æå¼•æ“çš„åè®®æµ‹è¯•å·¥å…·ã€</a></center><br><p><img src="/sulfurandcu.io/cly6m4gfj002qscrq77a5a7cn/toolkit.dlt645.png"></p><span id="more"></span><h2 id="é…ç½®è§„åˆ™"><a href="#é…ç½®è§„åˆ™" class="headerlink" title="é…ç½®è§„åˆ™"></a>é…ç½®è§„åˆ™</h2><p>æŒ‰ç…§æ•°æ®ç±»å‹å¯åˆ†ä¸ºï¼š</p><ul><li>time</li><li>bcd</li><li>hex</li><li>bit</li><li>string</li><li>block</li></ul><h3 id="time"><a href="#time" class="headerlink" title="time"></a>time</h3><p>æ•°æ®æ ¼å¼ä¸º YYã€MMã€DDã€WWã€hhã€mmã€ss çš„è‡ªç”±ç»„åˆã€‚</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;id&quot;: &quot;00000000&quot;,</span><br><span class="line">    &quot;name&quot;: &quot;æ—¥æœŸæ—¶é—´&quot;,</span><br><span class="line">    &quot;type&quot;: &quot;time&quot;,</span><br><span class="line">    &quot;data&quot;: &quot;YYMMDDWWhhmmss&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="bcd"><a href="#bcd" class="headerlink" title="bcd"></a>bcd</h3><p>ç¬¬ä¸€ç§ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;id&quot;: &quot;00000000&quot;,</span><br><span class="line">    &quot;name&quot;: &quot;å½“å‰ç”µå‹ï¼ˆï¼¡ç›¸ï¼‰ï¼ˆXXX.Xï¼‰&quot;,</span><br><span class="line">    &quot;type&quot;: &quot;bcd&quot;,</span><br><span class="line">    &quot;data&quot;: &quot;XXX.X&quot;,</span><br><span class="line">    &quot;unit&quot;: &quot;V&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒç§ï¼ˆæ•°æ®å—ï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;id&quot;: &quot;00000000&quot;,</span><br><span class="line">    &quot;name&quot;: &quot;å½“å‰ç”µå‹ï¼ˆæ•´å—ï¼‰ï¼ˆXXX.Xï¼‰ã€€&quot;,</span><br><span class="line">    &quot;type&quot;: &quot;bcd&quot;,</span><br><span class="line">    &quot;data&quot;: [</span><br><span class="line">        &quot;XXX.X&quot;,</span><br><span class="line">        &quot;XXX.X&quot;,</span><br><span class="line">        &quot;XXX.X&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;unit&quot;: &quot;V&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœæ•°æ®å—ä¸­çš„æ•°æ®å•ä½ä¸ä¸€æ ·ï¼Œåˆ™å»ºè®®ä½¿ç”¨ block ç±»å‹ã€‚</p></blockquote><h3 id="hex"><a href="#hex" class="headerlink" title="hex"></a>hex</h3><p>éœ€è¦æ˜¾ç¤ºåŸæ•°æ®çš„è¦ä½¿ç”¨ hex ç±»å‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;id&quot;: &quot;00000000&quot;,</span><br><span class="line">    &quot;name&quot;: &quot;é€šä¿¡åœ°å€&quot;,</span><br><span class="line">    &quot;type&quot;: &quot;hex&quot;,</span><br><span class="line">    &quot;data&quot;: &quot;XXXXXXXXXXXX&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>ä¸€äº›æ²¡æœ‰æ•°æ®åŸŸçš„æ§åˆ¶æŒ‡ä»¤ä¹Ÿå¯ä»¥ä½¿ç”¨ hex ç±»å‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;id&quot;: &quot;00000000&quot;,</span><br><span class="line">    &quot;name&quot;: &quot;è®¾å¤‡é‡å¯&quot;,</span><br><span class="line">    &quot;type&quot;: &quot;hex&quot;,</span><br><span class="line">    &quot;data&quot;: &quot;&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="bit"><a href="#bit" class="headerlink" title="bit"></a>bit</h3><p>ä½è§£æé…ç½®å¦‚ä¸‹ï¼š</p><ul><li>lsbï¼šè¡¨ç¤ºè¯¥ä½æ®µçš„æœ€ä½ä½</li><li>msbï¼šè¡¨ç¤ºè¯¥ä½æ®µçš„æœ€é«˜ä½</li><li>XX.ï¼šè¡¨ç¤ºè¯¥ä½æ®µçš„æšä¸¾å€¼ï¼ˆ00 ~ FFï¼‰</li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;id&quot;: &quot;00000000&quot;,</span><br><span class="line">    &quot;name&quot;: &quot;æœ‰åŠŸç»„åˆæ–¹å¼ç‰¹å¾å­—&quot;,</span><br><span class="line">    &quot;type&quot;: &quot;bit&quot;,</span><br><span class="line">    &quot;data&quot;: &quot;XX&quot;,</span><br><span class="line">    &quot;bits&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;æ­£å‘æœ‰åŠŸ&quot;,</span><br><span class="line">            &quot;lsb&quot;: 0,</span><br><span class="line">            &quot;msb&quot;: 1,</span><br><span class="line">            &quot;00&quot;: &quot;ä¸åŠ ä¸å‡&quot;,</span><br><span class="line">            &quot;01&quot;: &quot;åŠ &quot;,</span><br><span class="line">            &quot;02&quot;: &quot;å‡&quot;,</span><br><span class="line">            &quot;03&quot;: &quot;åˆåŠ åˆå‡&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;åå‘æœ‰åŠŸ&quot;,</span><br><span class="line">            &quot;lsb&quot;: 2,</span><br><span class="line">            &quot;msb&quot;: 3,</span><br><span class="line">            &quot;00&quot;: &quot;ä¸åŠ ä¸å‡&quot;,</span><br><span class="line">            &quot;01&quot;: &quot;åŠ &quot;,</span><br><span class="line">            &quot;02&quot;: &quot;å‡&quot;,</span><br><span class="line">            &quot;03&quot;: &quot;åˆåŠ åˆå‡&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>æ”¯æŒå¤šå­—èŠ‚çš„ä½è§£æï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;id&quot;: &quot;00000000&quot;,</span><br><span class="line">    &quot;name&quot;: &quot;ä¸»åŠ¨ä¸ŠæŠ¥æ¨¡å¼å­—&quot;,</span><br><span class="line">    &quot;type&quot;: &quot;bit&quot;,</span><br><span class="line">    &quot;data&quot;: &quot;XXXXXXXXXXXXXXXX&quot;,</span><br><span class="line">    &quot;bits&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;bit-14: åˆ†é—¸&quot;,</span><br><span class="line">            &quot;lsb&quot;: 14,</span><br><span class="line">            &quot;msb&quot;: 14,</span><br><span class="line">            &quot;00&quot;: &quot;&quot;,</span><br><span class="line">            &quot;01&quot;: &quot;âœ”&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;bit-15: åˆé—¸&quot;,</span><br><span class="line">            &quot;lsb&quot;: 15,</span><br><span class="line">            &quot;msb&quot;: 15,</span><br><span class="line">            &quot;00&quot;: &quot;&quot;,</span><br><span class="line">            &quot;01&quot;: &quot;âœ”&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;bit-16: å¤±å‹&quot;,</span><br><span class="line">            &quot;lsb&quot;: 16,</span><br><span class="line">            &quot;msb&quot;: 16,</span><br><span class="line">            &quot;00&quot;: &quot;&quot;,</span><br><span class="line">            &quot;01&quot;: &quot;âœ”&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;bit-17: æ¬ å‹&quot;,</span><br><span class="line">            &quot;lsb&quot;: 17,</span><br><span class="line">            &quot;msb&quot;: 17,</span><br><span class="line">            &quot;00&quot;: &quot;&quot;,</span><br><span class="line">            &quot;01&quot;: &quot;âœ”&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;bit-18: è¿‡å‹&quot;,</span><br><span class="line">            &quot;lsb&quot;: 18,</span><br><span class="line">            &quot;msb&quot;: 18,</span><br><span class="line">            &quot;00&quot;: &quot;&quot;,</span><br><span class="line">            &quot;01&quot;: &quot;âœ”&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="string"><a href="#string" class="headerlink" title="string"></a>string</h3><p>ç›®å‰ã€Œfillinã€ã€Œfillatã€ã€Œendianã€æš‚ä¸æ”¯æŒã€‚</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;id&quot;: &quot;00000000&quot;,</span><br><span class="line">    &quot;name&quot;: &quot;èµ„äº§ç¼–ç ï¼ˆASCIIï¼‰&quot;,</span><br><span class="line">    &quot;type&quot;: &quot;string&quot;,</span><br><span class="line">    &quot;len&quot;: 32,</span><br><span class="line">    &quot;fillin&quot;: 0,</span><br><span class="line">    &quot;fillat&quot;: &quot;front&quot;,</span><br><span class="line">    &quot;endian&quot;: &quot;LE&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="block"><a href="#block" class="headerlink" title="block"></a>block</h3><p>block ç±»å‹ä¸­å¯ä»¥æ”¾ç½®ä¸Šè¿°ä»»æ„ç±»å‹ï¼Œæ”¯æŒåœ¨ block ä¸­åµŒå¥— block ç±»å‹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;id&quot;: &quot;00000000&quot;,</span><br><span class="line">    &quot;name&quot;: &quot;ç”µå‹æ•´å®šå‚æ•°å—&quot;,</span><br><span class="line">    &quot;type&quot;: &quot;block&quot;,</span><br><span class="line">    &quot;data&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;è¿‡å‹æ•´å®šå€¼&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;bcd&quot;,</span><br><span class="line">            &quot;data&quot;: &quot;XXX.X&quot;,</span><br><span class="line">            &quot;unit&quot;: &quot;V&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;æ¬ å‹æ•´å®šå€¼&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;bcd&quot;,</span><br><span class="line">            &quot;data&quot;: &quot;XXX.X&quot;,</span><br><span class="line">            &quot;unit&quot;: &quot;V&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;æ–­ç›¸æ•´å®šå€¼&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;bcd&quot;,</span><br><span class="line">            &quot;data&quot;: &quot;XXX.X&quot;,</span><br><span class="line">            &quot;unit&quot;: &quot;V&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;id&quot;: &quot;00000000&quot;,</span><br><span class="line">    &quot;name&quot;: &quot;ç¬æ—¶å†»ç»“ï¼ˆæ•°æ®å—ï¼‰&quot;,</span><br><span class="line">    &quot;type&quot;: &quot;block&quot;,</span><br><span class="line">    &quot;data&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;å†»ç»“æ—¶é—´&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;time&quot;,</span><br><span class="line">            &quot;data&quot;: &quot;YYMMDDhhmm&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;æ­£å‘æœ‰åŠŸç”µèƒ½ï¼ˆæ€»ï¼‰&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;bcd&quot;,</span><br><span class="line">            &quot;data&quot;: [</span><br><span class="line">                &quot;XXXXXX.XX&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;unit&quot;: &quot;kWh&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;åå‘æœ‰åŠŸç”µèƒ½ï¼ˆæ€»ï¼‰&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;bcd&quot;,</span><br><span class="line">            &quot;data&quot;: [</span><br><span class="line">                &quot;XXXXXX.XX&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;unit&quot;: &quot;kWh&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;ç»„åˆæ— åŠŸç”µèƒ½ï¼ˆc1ï¼‰&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;bcd&quot;,</span><br><span class="line">            &quot;data&quot;: [</span><br><span class="line">                &quot;XXXXXX.XX&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;unit&quot;: &quot;kvarh&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;ç»„åˆæ— åŠŸç”µèƒ½ï¼ˆc2ï¼‰&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;bcd&quot;,</span><br><span class="line">            &quot;data&quot;: [</span><br><span class="line">                &quot;XXXXXX.XX&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;unit&quot;: &quot;kvarh&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;center&gt;&lt;a href=&quot;https://code.visualstudio.com/Download&quot;&gt;ã€Œè¿™æ˜¯ä¸€ä¸ªå†…ç½® DLT645 è§„åˆ™è§£æå¼•æ“çš„åè®®æµ‹è¯•å·¥å…·ã€&lt;/a&gt;&lt;/center&gt;

&lt;br&gt;

&lt;p&gt;&lt;img src=&quot;/sulfurandcu.io/cly6m4gfj002qscrq77a5a7cn/toolkit.dlt645.png&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>å¼€å‘ç¯å¢ƒé…ç½®æŒ‡å—</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/clrznawwf0001a4rq8nfh1qw2.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/clrznawwf0001a4rq8nfh1qw2.html</id>
    <published>2024-01-30T00:52:09.000Z</published>
    <updated>2024-01-30T00:52:09.000Z</updated>
    
    <content type="html"><![CDATA[<p>vscode + scons + arm-none-eabi-gcc + cortex-debug + jlink</p><h2 id="1-å‡†å¤‡"><a href="#1-å‡†å¤‡" class="headerlink" title="1. å‡†å¤‡"></a>1. å‡†å¤‡</h2><h3 id="1-1-å®‰è£…-vscode-è½¯ä»¶"><a href="#1-1-å®‰è£…-vscode-è½¯ä»¶" class="headerlink" title="1.1 å®‰è£… vscode è½¯ä»¶"></a>1.1 å®‰è£… vscode è½¯ä»¶</h3><p><img src="/sulfurandcu.io/clrznawwf0001a4rq8nfh1qw2/download.vscode.png"></p><center><a href="https://code.visualstudio.com/download">https://code.visualstudio.com/download</a></center><br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">install vscode extentions: C/C++ &amp; C/C++ Extension Pack</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">install vscode extentions: Cortex-Debug</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">install vscode extentions: RTOS-Views, Memory-View, Peripheral-Viewer</span><br></pre></td></tr></table></figure><span id="more"></span><h3 id="1-2-å®‰è£…-python-ç¯å¢ƒ"><a href="#1-2-å®‰è£…-python-ç¯å¢ƒ" class="headerlink" title="1.2 å®‰è£… python ç¯å¢ƒ"></a>1.2 å®‰è£… python ç¯å¢ƒ</h3><p><img src="/sulfurandcu.io/clrznawwf0001a4rq8nfh1qw2/download.python.png"></p><center><a href="https://www.python.org/downloads/">https://www.python.org/downloads/</a></center><br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">install python scripts: cmd &gt; pip install scons==3.1.2</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">install python scripts: cmd &gt; pip install pywin32</span><br></pre></td></tr></table></figure><figure class="highlight py"><figcaption><span>ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ scons æ–‡ä»¶ï¼ˆè¯¥æ–‡ä»¶åœ¨ä½  python å®‰è£…è·¯å¾„ä¸‹çš„ Scripts ç›®å½•ä¸­ï¼‰</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.dont_write_bytecode = <span class="literal">True</span></span><br><span class="line"><span class="comment"># åœ¨ `import sys` çš„ä¸‹ä¸€è¡Œæ·»åŠ  `sys.dont_write_bytecode = True` è¯­å¥ï¼ˆé¿å…ç”Ÿæˆ __pycache__ ç›®å½•ï¼‰</span></span><br></pre></td></tr></table></figure><h2 id="2-ç¼–è¯‘"><a href="#2-ç¼–è¯‘" class="headerlink" title="2. ç¼–è¯‘"></a>2. ç¼–è¯‘</h2><h3 id="2-1-å®‰è£…-arm-none-eabi-äº¤å‰ç¼–è¯‘å·¥å…·é“¾"><a href="#2-1-å®‰è£…-arm-none-eabi-äº¤å‰ç¼–è¯‘å·¥å…·é“¾" class="headerlink" title="2.1 å®‰è£… arm-none-eabi äº¤å‰ç¼–è¯‘å·¥å…·é“¾"></a>2.1 å®‰è£… arm-none-eabi äº¤å‰ç¼–è¯‘å·¥å…·é“¾</h3><p><img src="/sulfurandcu.io/clrznawwf0001a4rq8nfh1qw2/download.armtoolchain.png"></p><center><a href="https://developer.arm.com/downloads/-/gnu-rm">gcc-arm-none-eabi-10.3-2021.10-win32.zip</a></center><br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å°†å‹ç¼©æ–‡ä»¶è§£å‹è‡³ä»»æ„ä½ç½®</span><br></pre></td></tr></table></figure><h3 id="2-2-æ–°å»º-build-ä»»åŠ¡"><a href="#2-2-æ–°å»º-build-ä»»åŠ¡" class="headerlink" title="2.2 æ–°å»º build ä»»åŠ¡"></a>2.2 æ–°å»º build ä»»åŠ¡</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è‹¥ä»»åŠ¡å­˜åœ¨åˆ™è¯¥æ­¥éª¤å¯è·³è¿‡</span><br></pre></td></tr></table></figure><figure class="highlight json"><figcaption><span>task.json</span><a href="https://code.visualstudio.com/docs/editor/tasks">link</a></figcaption><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;scons -j16&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;group&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;kind&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;isDefault&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;clean&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;scons -c&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="2-3-æµ‹è¯•-build-ä»»åŠ¡"><a href="#2-3-æµ‹è¯•-build-ä»»åŠ¡" class="headerlink" title="2.3 æµ‹è¯• build ä»»åŠ¡"></a>2.3 æµ‹è¯• build ä»»åŠ¡</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨ vscode æ‰“å¼€æµ‹è¯•å·¥ç¨‹</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç‚¹å‡» Terminal-&gt;RunTask-&gt;buildï¼ˆé¦–æ¬¡æ‰§è¡Œæ—¶ä¼šæŠ¥é”™å¹¶è‡ªåŠ¨ç”Ÿæˆ rtconfig.ini æ–‡ä»¶ï¼‰</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ‰“å¼€ rtconfig.ini å¡«å…¥ arm-none-eabi å®‰è£…è·¯å¾„ï¼ˆi.e. d:\arm-none-eabi-10.3-2021.10\binï¼‰</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç‚¹å‡» Terminal-&gt;RunTask-&gt;clean</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç‚¹å‡» Terminal-&gt;RunTask-&gt;build</span><br></pre></td></tr></table></figure><h2 id="3-çƒ§å½•"><a href="#3-çƒ§å½•" class="headerlink" title="3. çƒ§å½•"></a>3. çƒ§å½•</h2><h3 id="3-1-å®‰è£…-JLink-å·¥å…·"><a href="#3-1-å®‰è£…-JLink-å·¥å…·" class="headerlink" title="3.1 å®‰è£… JLink å·¥å…·"></a>3.1 å®‰è£… JLink å·¥å…·</h3><p><img src="/sulfurandcu.io/clrznawwf0001a4rq8nfh1qw2/download.jlink.png"></p><center><a href="https://www.segger.com/downloads/jlink/">JLink 7.22b</a></center><br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å®‰è£… JLink åè¦è®°å¾—ä¿®æ”¹ JLinkDevices.xml å¹¶æ‹·è´ç›¸åº”çš„ device æ–‡ä»¶</span><br></pre></td></tr></table></figure><h3 id="3-2-ç¼–å†™-write-è„šæœ¬"><a href="#3-2-ç¼–å†™-write-è„šæœ¬" class="headerlink" title="3.2 ç¼–å†™ write è„šæœ¬"></a>3.2 ç¼–å†™ write è„šæœ¬</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è‹¥è„šæœ¬å­˜åœ¨åˆ™è¯¥æ­¥éª¤å¯è·³è¿‡</span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>download.bat (build/gcc/bin/download.bat)</span></figcaption><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> config=download.ini</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> <span class="variable">%config%</span> (</span><br><span class="line">    <span class="built_in">echo</span> error: <span class="variable">%config%</span> does <span class="keyword">not</span> <span class="keyword">exist</span>. but it should have been generated automatically, you need to fill <span class="keyword">in</span> some informations. ^(greetings from liujitong^)</span><br><span class="line">    <span class="built_in">echo</span> <span class="built_in">replace</span> this line with your jlink.exe <span class="built_in">path</span>. ^(i.e. D:\JLink\JLink.exe^) ^(<span class="keyword">do</span> <span class="keyword">not</span> commit this file to svn^) &gt; <span class="variable">%config%</span></span><br><span class="line">    <span class="keyword">goto</span> end</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> /f &quot;delims=&quot; <span class="variable">%%i</span> <span class="keyword">in</span> (<span class="variable">%config%</span>) <span class="keyword">do</span> (</span><br><span class="line">    <span class="built_in">set</span> <span class="built_in">path</span>=&quot;<span class="variable">%%i</span>&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="variable">%path%</span> -Device %<span class="number">1</span> -<span class="keyword">If</span> SWD -Speed <span class="number">12000</span> -AutoConnect <span class="number">1</span> -NoGui <span class="number">1</span> -CommandFile %~dp0\download.txt</span><br><span class="line"></span><br><span class="line">:end</span><br></pre></td></tr></table></figure><figure class="highlight txt"><figcaption><span>download.txt (build/gcc/bin/download.txt)</span></figcaption><table><tr><td class="code"><pre><span class="line">r</span><br><span class="line">h</span><br><span class="line">erase 0x00000000 0x00080000</span><br><span class="line">loadfile .\rtthread.bin 0x00000000</span><br><span class="line">r</span><br><span class="line">g</span><br><span class="line">q</span><br></pre></td></tr></table></figure><h3 id="3-3-æ–°å»º-write-ä»»åŠ¡"><a href="#3-3-æ–°å»º-write-ä»»åŠ¡" class="headerlink" title="3.3 æ–°å»º write ä»»åŠ¡"></a>3.3 æ–°å»º write ä»»åŠ¡</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è‹¥ä»»åŠ¡å­˜åœ¨åˆ™è¯¥æ­¥éª¤å¯è·³è¿‡</span><br></pre></td></tr></table></figure><figure class="highlight json"><figcaption><span>task.json</span><a href="https://code.visualstudio.com/docs/editor/tasks">link</a></figcaption><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;write&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cd ./build/gcc/bin/; ./download.bat STM32F103&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;batch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;scons -j16; cd ./build/gcc/bin/; ./download.bat STM32F103&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="3-4-æµ‹è¯•-write-ä»»åŠ¡"><a href="#3-4-æµ‹è¯•-write-ä»»åŠ¡" class="headerlink" title="3.4 æµ‹è¯• write ä»»åŠ¡"></a>3.4 æµ‹è¯• write ä»»åŠ¡</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨ vscode æ‰“å¼€æµ‹è¯•å·¥ç¨‹</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç‚¹å‡» Terminal-&gt;RunTask-&gt;build</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç‚¹å‡» Terminal-&gt;RunTask-&gt;writeï¼ˆé¦–æ¬¡æ‰§è¡Œæ—¶ä¼šæŠ¥é”™å¹¶è‡ªåŠ¨ç”Ÿæˆ build/gcc/bin/download.ini æ–‡ä»¶ï¼‰</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ‰“å¼€ download.ini å¡«å…¥ JLink.exe æ‰€åœ¨è·¯å¾„ï¼ˆi.e. d:\JLink_V722b\JLink.exeï¼‰ï¼ˆæ³¨æ„ JLink.exe ä¸èƒ½çœç•¥ï¼‰</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç‚¹å‡» Terminal-&gt;RunTask-&gt;write</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç‚¹å‡» Terminal-&gt;RunTask-&gt;batch (batch == build + write)</span><br></pre></td></tr></table></figure><h2 id="4-è°ƒè¯•"><a href="#4-è°ƒè¯•" class="headerlink" title="4. è°ƒè¯•"></a>4. è°ƒè¯•</h2><h3 id="4-1-å®‰è£…-vscode-æ’ä»¶"><a href="#4-1-å®‰è£…-vscode-æ’ä»¶" class="headerlink" title="4.1 å®‰è£… vscode æ’ä»¶"></a>4.1 å®‰è£… vscode æ’ä»¶</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Cortex-Debug</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">RTOS-Views</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Memory-View</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Peripheral-Viewer</span><br></pre></td></tr></table></figure><h3 id="4-2-é…ç½®-vscode-æ’ä»¶"><a href="#4-2-é…ç½®-vscode-æ’ä»¶" class="headerlink" title="4.2 é…ç½® vscode æ’ä»¶"></a>4.2 é…ç½® vscode æ’ä»¶</h3><figure class="highlight json"><figcaption><span>Cortex-Debug</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;cortex-debug.ArmToolchainPath&quot;</span>  <span class="punctuation">:</span> <span class="string">&quot;i.e. d:\\arm-none-eabi-10.3-2021.10\\bin&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;cortex-debug.JLinkGDBServerPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;i.e. d:\\JLink_V722b\\JLinkGDBServerCL.exe&quot;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><h3 id="4-3-æ–°å»º-launch-é…ç½®"><a href="#4-3-æ–°å»º-launch-é…ç½®" class="headerlink" title="4.3 æ–°å»º launch é…ç½®"></a>4.3 æ–°å»º launch é…ç½®</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è‹¥é…ç½®å­˜åœ¨åˆ™è¯¥æ­¥éª¤å¯è·³è¿‡</span><br></pre></td></tr></table></figure><figure class="highlight json"><figcaption><span>launch.json</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Debug@JLinkGDBServerCL.exe/stm32f103&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cortex-debug&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;servertype&quot;</span><span class="punctuation">:</span> <span class="string">&quot;jlink&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;serverArgs&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;interface&quot;</span><span class="punctuation">:</span> <span class="string">&quot;swd&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;attach&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;executable&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./build/gcc/bin/rtthread.elf&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">            <span class="attr">&quot;device&quot;</span><span class="punctuation">:</span> <span class="string">&quot;STM32F103&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;svdFile&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./underlayer/cpu/st/arm/stm32f1xx_libraries/device/stm32f103.svd&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;liveWatch&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;samplesPerSecond&quot;</span><span class="punctuation">:</span> <span class="number">4</span><span class="punctuation">,</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="4-3-æµ‹è¯•-launch-é…ç½®"><a href="#4-3-æµ‹è¯•-launch-é…ç½®" class="headerlink" title="4.3 æµ‹è¯• launch é…ç½®"></a>4.3 æµ‹è¯• launch é…ç½®</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨ vscode æ‰“å¼€æµ‹è¯•å·¥ç¨‹</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç‚¹å‡» RunAndDebug å›¾æ ‡ï¼ˆå·¦ä¾§è¾¹æ ï¼‰</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€‰æ‹© launch é…ç½®</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç‚¹å‡» StartDebugging æŒ‰é’®å¯åŠ¨è°ƒè¯•</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å·¦ä¾§ VARIABLES çª—å£æŸ¥çœ‹æœ¬åœ°å˜é‡æ•°æ®</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å·¦ä¾§ WATCH çª—å£æŸ¥çœ‹å˜é‡æ•°æ®</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å·¦ä¾§ XPERIPHERALS çª—å£æŸ¥çœ‹å¯„å­˜å™¨æ•°æ®</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ‰“å¼€ MEMORY çª—å£æŸ¥çœ‹å†…å­˜æ•°æ®</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ‰“å¼€ DEBUG CONSOLE çª—å£é”®å…¥ x/nfu addr æŸ¥çœ‹å†…å­˜æ•°æ®</span><br><span class="line">https://sourceware.org/gdb/current/onlinedocs/gdb.html/Memory.html</span><br></pre></td></tr></table></figure><h2 id="5-è·³è½¬"><a href="#5-è·³è½¬" class="headerlink" title="5. è·³è½¬"></a>5. è·³è½¬</h2><h3 id="5-1-å®‰è£…-mingw-ç¯å¢ƒ"><a href="#5-1-å®‰è£…-mingw-ç¯å¢ƒ" class="headerlink" title="5.1 å®‰è£… mingw ç¯å¢ƒ"></a>5.1 å®‰è£… mingw ç¯å¢ƒ</h3><p><img src="/sulfurandcu.io/clrznawwf0001a4rq8nfh1qw2/download.mingw.png"></p><center><a href="https://www.mingw-w64.org/downloads/">MingW-W64: x86_64-x.x.x-release-win32-seh-ucrt-xxx.7z</a></center><br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å°†å‹ç¼©æ–‡ä»¶è§£å‹è‡³ä»»æ„ä½ç½®</span><br></pre></td></tr></table></figure><h3 id="5-2-é…ç½®-C-x2F-C-æ’ä»¶"><a href="#5-2-é…ç½®-C-x2F-C-æ’ä»¶" class="headerlink" title="5.2 é…ç½® C&#x2F;C++ æ’ä»¶"></a>5.2 é…ç½® C&#x2F;C++ æ’ä»¶</h3><figure class="highlight json"><figcaption><span>C/C++</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;C_Cpp.default.compilerPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;i.e. d:\\mingw-w64-builds\\x86_64-win32-seh-ucrt\\mingw64\\bin\\gcc.exe&quot;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><h3 id="5-3-é…ç½®-c-cpp-properties-json-æ–‡ä»¶"><a href="#5-3-é…ç½®-c-cpp-properties-json-æ–‡ä»¶" class="headerlink" title="5.3 é…ç½® c_cpp_properties.json æ–‡ä»¶"></a>5.3 é…ç½® c_cpp_properties.json æ–‡ä»¶</h3><figure class="highlight json"><figcaption><span>c_cpp_properties.json</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;main&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;includePath&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;$&#123;workspaceFolder&#125;/**&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;workspaceFolder&#125;/application&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;workspaceFolder&#125;/board&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;workspaceFolder&#125;/packages&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;workspaceFolder&#125;/rt-thread&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;workspaceFolder&#125;/underlayer&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;workspaceFolder&#125;&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;defines&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;_DEBUG&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;__CC_ARM&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cStandard&quot;</span><span class="punctuation">:</span> <span class="string">&quot;c99&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cppStandard&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gnu++17&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;intelliSenseMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;windows-gcc-x64&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="number">4</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="5-4-æµ‹è¯•-c-cpp-properties-json-æ–‡ä»¶"><a href="#5-4-æµ‹è¯•-c-cpp-properties-json-æ–‡ä»¶" class="headerlink" title="5.4 æµ‹è¯• c_cpp_properties.json æ–‡ä»¶"></a>5.4 æµ‹è¯• c_cpp_properties.json æ–‡ä»¶</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é‡å¯ vscode æ‰“å¼€æµ‹è¯•å·¥ç¨‹åä¸å¼¹å‡ºè­¦å‘Šå³å¯</span><br></pre></td></tr></table></figure><h2 id="6-äº¤äº’ï¼ˆshellï¼‰"><a href="#6-äº¤äº’ï¼ˆshellï¼‰" class="headerlink" title="6. äº¤äº’ï¼ˆshellï¼‰"></a>6. äº¤äº’ï¼ˆshellï¼‰</h2><h3 id="6-1-å®‰è£…-shell-å·¥å…·"><a href="#6-1-å®‰è£…-shell-å·¥å…·" class="headerlink" title="6.1 å®‰è£… shell å·¥å…·"></a>6.1 å®‰è£… shell å·¥å…·</h3><ul><li><a href="https://github.com/kingToolbox/WindTerm/releases/download/2.6.0/WindTerm_2.6.0_Windows_Portable_x86_32.zip">WindTerm_2.6.0_Windows_Portable_x86_32.zip</a></li><li><a href="https://github.com/kingToolbox/WindTerm/releases/download/2.6.0/WindTerm_2.6.0_Windows_Portable_x86_64.zip">WindTerm_2.6.0_Windows_Portable_x86_64.zip</a></li></ul><h3 id="6-2-æ–°å»º-shell-ä¼šè¯"><a href="#6-2-æ–°å»º-shell-ä¼šè¯" class="headerlink" title="6.2 æ–°å»º shell ä¼šè¯"></a>6.2 æ–°å»º shell ä¼šè¯</h3><figure class="highlight txt"><figcaption><span>serial</span></figcaption><table><tr><td class="code"><pre><span class="line">- ä¼šè¯</span><br><span class="line">  - ä¸²å£ï¼šCOM3</span><br><span class="line">  - æ•°æ®ï¼štext</span><br><span class="line">- ä¸²å£</span><br><span class="line">  - åè®®</span><br><span class="line">    - æ³¢ç‰¹ç‡ï¼š115200</span><br><span class="line">    - æ•°æ®ä½ï¼š8</span><br><span class="line">    - æ ¡éªŒä½ï¼šN</span><br><span class="line">    - åœæ­¢ä½ï¼š1</span><br><span class="line">    - æµæ§åˆ¶ï¼šN</span><br></pre></td></tr></table></figure><h3 id="6-3-æµ‹è¯•-shell-äº¤äº’"><a href="#6-3-æµ‹è¯•-shell-äº¤äº’" class="headerlink" title="6.3 æµ‹è¯• shell äº¤äº’"></a>6.3 æµ‹è¯• shell äº¤äº’</h3><figure class="highlight txt"><figcaption><span>serial COM3</span></figcaption><table><tr><td class="code"><pre><span class="line">msh &gt;</span><br><span class="line">msh &gt;</span><br><span class="line">msh &gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;vscode + scons + arm-none-eabi-gcc + cortex-debug + jlink&lt;/p&gt;
&lt;h2 id=&quot;1-å‡†å¤‡&quot;&gt;&lt;a href=&quot;#1-å‡†å¤‡&quot; class=&quot;headerlink&quot; title=&quot;1. å‡†å¤‡&quot;&gt;&lt;/a&gt;1. å‡†å¤‡&lt;/h2&gt;&lt;h3 id=&quot;1-1-å®‰è£…-vscode-è½¯ä»¶&quot;&gt;&lt;a href=&quot;#1-1-å®‰è£…-vscode-è½¯ä»¶&quot; class=&quot;headerlink&quot; title=&quot;1.1 å®‰è£… vscode è½¯ä»¶&quot;&gt;&lt;/a&gt;1.1 å®‰è£… vscode è½¯ä»¶&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/sulfurandcu.io/clrznawwf0001a4rq8nfh1qw2/download.vscode.png&quot;&gt;&lt;/p&gt;
&lt;center&gt;&lt;a href=&quot;https://code.visualstudio.com/download&quot;&gt;https://code.visualstudio.com/download&lt;/a&gt;&lt;/center&gt;&lt;br&gt;

&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;install vscode extentions: C/C++ &amp;amp; C/C++ Extension Pack&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;install vscode extentions: Cortex-Debug&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;install vscode extentions: RTOS-Views, Memory-View, Peripheral-Viewer&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>freertos or rtthread ?</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/cm03lc8n5007fdgrqhk1m06ee.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/cm03lc8n5007fdgrqhk1m06ee.html</id>
    <published>2023-11-30T06:53:09.000Z</published>
    <updated>2023-11-30T06:53:09.000Z</updated>
    
    <content type="html"><![CDATA[<table><thead><tr><th align="center">å¯¹æ¯”æ¡ç›®</th><th align="center">FreeRTOS</th><th align="center">RT-Thread</th></tr></thead><tbody><tr><td align="center">è®¸å¯åè®®</td><td align="center">MIT</td><td align="center">Apache License 2.0</td></tr><tr><td align="center">å†…æ ¸å¼€é”€</td><td align="center">ROM: 5KB<br>RAM: 2KB</td><td align="center">ROM: 3KB<br>RAM: 1KB</td></tr><tr><td align="center">å®æµ‹å¼€é”€</td><td align="center"></td><td align="center">ROM: 11KB<br>RAM: 1KB</td></tr><tr><td align="center">æŠ¢å è°ƒåº¦</td><td align="center">æ”¯æŒ</td><td align="center">æ”¯æŒ</td></tr><tr><td align="center">è½®è½¬è°ƒåº¦</td><td align="center">æ”¯æŒ</td><td align="center">æ”¯æŒ</td></tr><tr><td align="center">å¤šä»»åŠ¡</td><td align="center">æ”¯æŒ</td><td align="center">æ”¯æŒ</td></tr><tr><td align="center">ä¼˜å…ˆçº§</td><td align="center">32</td><td align="center">8&#x2F;32&#x2F;256</td></tr><tr><td align="center">ä¿¡å·é‡</td><td align="center">æ”¯æŒ</td><td align="center">æ”¯æŒ</td></tr><tr><td align="center">äº’æ–¥é‡</td><td align="center">æ”¯æŒ</td><td align="center">æ”¯æŒ</td></tr><tr><td align="center">äº‹ä»¶é›†</td><td align="center">Ã—</td><td align="center">æ”¯æŒ</td></tr><tr><td align="center">é‚®ç®±</td><td align="center">Ã—</td><td align="center">æ”¯æŒ</td></tr><tr><td align="center">ä¿¡å·</td><td align="center">Ã—</td><td align="center">æ”¯æŒ</td></tr><tr><td align="center">æ¶ˆæ¯é˜Ÿåˆ—</td><td align="center">æ”¯æŒ</td><td align="center">æ”¯æŒ</td></tr><tr><td align="center">å†…å­˜ç®¡ç†</td><td align="center">heap1 - heap5</td><td align="center">å†…å­˜å †ç®¡ç† | å†…å­˜æ± ç®¡ç†</td></tr><tr><td align="center"><br></td><td align="center"><br></td><td align="center"><br></td></tr><tr><td align="center">ç³»ç»Ÿå…¼å®¹</td><td align="center">Ã—</td><td align="center">æä¾› FreeRTOS_Wrapper å…¼å®¹å±‚</td></tr><tr><td align="center">posix</td><td align="center">Ã—</td><td align="center">æ”¯æŒ</td></tr><tr><td align="center">shell</td><td align="center">Ã—</td><td align="center">MSH, FINSH</td></tr><tr><td align="center">ç½‘ç»œç³»ç»Ÿ</td><td align="center">Ã—</td><td align="center">SAL + AT &#x2F; LwIP</td></tr><tr><td align="center">æ–‡ä»¶ç³»ç»Ÿ</td><td align="center">FATFS</td><td align="center">DFS + FATFS &#x2F; RomFS &#x2F; Yaffs2 &#x2F; Uffs2 &#x2F; DevFS</td></tr><tr><td align="center">spiflash</td><td align="center">Ã—</td><td align="center">FlashDB + FAL + SFUD</td></tr><tr><td align="center">è®¾å¤‡æ¡†æ¶</td><td align="center">Ã—</td><td align="center">æ”¯æŒ</td></tr><tr><td align="center">ç”µæºç®¡ç†</td><td align="center">Ã—</td><td align="center">æ”¯æŒ</td></tr><tr><td align="center">å›¾å½¢ç•Œé¢</td><td align="center">Ã—</td><td align="center">æ”¯æŒ</td></tr></tbody></table><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Code (inc. data)   RO Data    RW Data    ZI Data      Debug   Object Name</span><br><span class="line"></span><br><span class="line"> 656         58          0         28       1024       8091   heap_4.o</span><br><span class="line"> 124          0          0          0          0       6561   list.o</span><br><span class="line"> 894         78          0         12          0      11256   port.o</span><br><span class="line">2212        270          0         64        240      31123   tasks.o</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Code (inc. data)   RO Data    RW Data    ZI Data      Debug   Object Name</span><br><span class="line"></span><br><span class="line"> 168         16          0          8          0       2064   clock.o</span><br><span class="line"> 186         30         16          0          0       5388   components.o</span><br><span class="line"> 252         28          0          0          0        780   context_rvds.o</span><br><span class="line"> 640        342          0         16          0       3954   cpuport.o</span><br><span class="line">  24          0          0          0          0        609   cstdlib.o</span><br><span class="line"> 270          0          0          0          0       2774   device.o</span><br><span class="line"> 300         34          0          8        416       6238   idle.o</span><br><span class="line">1680         24          0          0          0      16384   ipc.o</span><br><span class="line"> 132         26          0          9          0       2282   irq.o</span><br><span class="line">2316        240        154        140        172      14344   kservice.o</span><br><span class="line"> 676         68          0          0          0       4430   mem.o</span><br><span class="line"> 486         26          0        196          0      10134   object.o</span><br><span class="line">  56         12          0          0         68       1341   pin.o</span><br><span class="line"> 976        178          0         24        256       9528   scheduler_up.o</span><br><span class="line">  12          0          0          0          0        540   syscalls.o</span><br><span class="line">1170         28          0         12          0      14517   thread.o</span><br><span class="line"> 948         44          0         20          0       9237   timer.o</span><br><span class="line"> 346         28          4          4          0       6717   workqueue.o</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;å¯¹æ¯”æ¡ç›®&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;FreeRTOS&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;RT-Thread&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;è®¸å¯åè®®&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;MIT&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;Apache License 2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;å†…æ ¸å¼€é”€&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;ROM: 5KB&lt;br&gt;RAM: 2KB&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;ROM: 3KB&lt;br&gt;RAM: 1KB&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;å®æµ‹å¼€é”€&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;ROM: 11KB&lt;br&gt;RAM: 1KB&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;æŠ¢å è°ƒåº¦&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;è½®è½¬è°ƒåº¦&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;å¤šä»»åŠ¡&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;ä¼˜å…ˆçº§&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;32&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;8&amp;#x2F;32&amp;#x2F;256&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;ä¿¡å·é‡&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;äº’æ–¥é‡&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;äº‹ä»¶é›†&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;é‚®ç®±&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;ä¿¡å·&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;æ¶ˆæ¯é˜Ÿåˆ—&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;å†…å­˜ç®¡ç†&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;heap1 - heap5&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;å†…å­˜å †ç®¡ç† | å†…å­˜æ± ç®¡ç†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;br&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;br&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;br&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;ç³»ç»Ÿå…¼å®¹&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æä¾› FreeRTOS_Wrapper å…¼å®¹å±‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;posix&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;shell&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;MSH, FINSH&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;ç½‘ç»œç³»ç»Ÿ&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;SAL + AT &amp;#x2F; LwIP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;æ–‡ä»¶ç³»ç»Ÿ&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;FATFS&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;DFS + FATFS &amp;#x2F; RomFS &amp;#x2F; Yaffs2 &amp;#x2F; Uffs2 &amp;#x2F; DevFS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;spiflash&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;FlashDB + FAL + SFUD&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;è®¾å¤‡æ¡†æ¶&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;ç”µæºç®¡ç†&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;å›¾å½¢ç•Œé¢&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>ä¸­æ–­å‘é‡è¡¨åç§»å¯„å­˜å™¨é…ç½®æ–¹å¼</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/clpga8j0y00i3dcrq5x5t1gkd.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/clpga8j0y00i3dcrq5x5t1gkd.html</id>
    <published>2023-11-27T02:19:53.000Z</published>
    <updated>2023-11-27T02:19:53.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¯¹äºã€Œå¼•å¯¼ç¨‹åºï¼‹åº”ç”¨ç¨‹åºã€ä¹‹ç±»çš„æ–¹æ¡ˆï¼Œæˆ‘ä»¬é€šå¸¸æ˜¯åœ¨ç³»ç»Ÿåˆå§‹åŒ–å‡½æ•°ï¼ˆSystemInit()ï¼‰ä¸­é…ç½®ä¸­æ–­å‘é‡è¡¨åç§»å¯„å­˜å™¨æ¥å®ç°ä¸­æ–­å‘é‡è¡¨çš„é‡å®šå‘ã€‚ä½†æ˜¯è¿™ç§ç›´æ¥ä¿®æ”¹å®˜æ–¹åº“çš„æ–¹å¼å¾€å¾€ä¼šç»™åæœŸçš„ç‰ˆæœ¬ç®¡ç†å¸¦æ¥è¯¸å¤šä¸ä¾¿ã€‚åŸºäºæ­¤ï¼Œæœ¬æ–‡ç»™å‡ºä¸€ä¸ªæ›¿ä»£æ–¹æ¡ˆï¼Œä¾›è¯¸ä½å‚è€ƒã€‚</p><figure class="highlight c"><figcaption><span>vtor.c</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;xxx32xxxx.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> VECTOR_TABLE_OFFSET             ((uint32_t)0x00018000) <span class="comment">/* % 0x200 == 0 */</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ROM_BASE                        ((uint32_t)0x08000000)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> RAM_BASE                        ((uint32_t)0x20000000)</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">SystemVTOR</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="meta">#<span class="keyword">ifdef</span> EXECUTE_IN_RAM</span></span><br><span class="line">    SCB-&gt;VTOR = RAM_BASE | VECTOR_TABLE_OFFSET;</span><br><span class="line">    <span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    SCB-&gt;VTOR = ROM_BASE | VECTOR_TABLE_OFFSET;</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><figcaption><span>startup_xxx32xxxx.s</span></figcaption><table><tr><td class="code"><pre><span class="line">Reset_Handler   PROC</span><br><span class="line">                EXPORT  Reset_Handler   [WEAK]</span><br><span class="line">                IMPORT  SystemVTOR</span><br><span class="line">                IMPORT  SystemInit</span><br><span class="line">                IMPORT  __main</span><br><span class="line"></span><br><span class="line">                LDR     R0, =SystemVTOR</span><br><span class="line">                BLX     R0</span><br><span class="line">                LDR     R0, =SystemInit</span><br><span class="line">                BLX     R0</span><br><span class="line">                LDR     R0, =__main</span><br><span class="line">                BX      R0</span><br><span class="line">                ENDP</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
        
        
    <summary type="html"></summary>
        
      
    
    
    
    <category term="å¼€å‘ç¬”è®°" scheme="https://sulfurandcu.github.io/sulfurandcu.io/categories/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>å¼€å‘æŒ‡å—ï¼šåå¤§ HC32F460 &amp; HC32F4A0 æ¯”è¾ƒ</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/cm04je64700adckrq3udz79n5.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/cm04je64700adckrq3udz79n5.html</id>
    <published>2023-11-21T02:35:29.000Z</published>
    <updated>2023-11-21T02:35:29.000Z</updated>
    
    <content type="html"><![CDATA[<table><thead><tr><th align="center">å¯¹æ¯”æ¡ç›®</th><th align="center">HC32F460</th><th align="center">HC32F4A0</th></tr></thead><tbody><tr><td align="center">å·¥ä½œé¢‘ç‡</td><td align="center">200MHz</td><td align="center">240MHz</td></tr><tr><td align="center">å†…æ ¸æ¶æ„</td><td align="center">Cortex-M4 + FPU + DSP + MPU</td><td align="center">Cortex-M4 + FPU + DSP + MPU</td></tr><tr><td align="center">èŠ¯ç‰‡å°è£…</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">ROM</td><td align="center">512KB | 256KB</td><td align="center">1024KB | 2048KB</td></tr><tr><td align="center">RAM</td><td align="center">192KB</td><td align="center">516KB</td></tr><tr><td align="center">PGA</td><td align="center">Ã—1</td><td align="center">Ã—4</td></tr><tr><td align="center">CMP</td><td align="center">Ã—3</td><td align="center">Ã—4</td></tr><tr><td align="center">ADC</td><td align="center">Ã—2</td><td align="center">Ã—3</td></tr><tr><td align="center">DAC</td><td align="center">Ã—2</td><td align="center">Ã—4</td></tr><tr><td align="center">TMR</td><td align="center">Timer6 Ã—3 (16bit é«˜çº§ PWM Timer)<br>Timer4 Ã—3 (16bit ç”µæœº PWM Timer)<br>TimerA Ã—6 (16bit é€šç”¨ PWM Timer)<br><br>Timer0 Ã—2 (16bit é€šç”¨ ___ Timer)</td><td align="center">Timer6  Ã—8 (16bit é«˜çº§ PWM Timer)<br>Timer4  Ã—3 (16bit ç”µæœº PWM Timer)<br>TimerA Ã—C (16bit é€šç”¨ PWM Timer)<br>Timer2  Ã—4 (16bit é€šç”¨ ___ Timer)<br>Timer0  Ã—2 (16bit é€šç”¨ ___ Timer)</td></tr><tr><td align="center">RTC</td><td align="center">Ã—1</td><td align="center">Ã—1</td></tr><tr><td align="center">WDT</td><td align="center">WDT &amp; SWDT</td><td align="center">WDT &amp; SWDT</td></tr><tr><td align="center">URT</td><td align="center">Ã—4</td><td align="center">Ã—10</td></tr><tr><td align="center">SPI</td><td align="center">Ã—4</td><td align="center">Ã—6</td></tr><tr><td align="center">QSPI</td><td align="center">Ã—1</td><td align="center">Ã—1</td></tr><tr><td align="center">I2C</td><td align="center">Ã—3</td><td align="center">Ã—6</td></tr><tr><td align="center">I2S</td><td align="center">Ã—4</td><td align="center">Ã—4</td></tr><tr><td align="center">CAN</td><td align="center">Ã—1</td><td align="center">Ã—2</td></tr><tr><td align="center">USB</td><td align="center">Ã—1</td><td align="center">Ã—1</td></tr><tr><td align="center">ETH</td><td align="center">-</td><td align="center">Ã—1</td></tr><tr><td align="center">SDIO</td><td align="center">Ã—2</td><td align="center">Ã—2</td></tr></tbody></table>]]></content>
    
    
      
      
        
        
    <summary type="html"></summary>
        
      
    
    
    
    <category term="å¼€å‘ç¬”è®°" scheme="https://sulfurandcu.github.io/sulfurandcu.io/categories/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="åå¤§åŠå¯¼ä½“" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%8D%8E%E5%A4%A7%E5%8D%8A%E5%AF%BC%E4%BD%93/"/>
    
    <category term="HC32F460" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/HC32F460/"/>
    
    <category term="HC32F4A0" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/HC32F4A0/"/>
    
  </entry>
  
  <entry>
    <title>é—®é¢˜è®°å½•ï¼šåå¤§ HC32F460 å†…å­˜è¾¹ç•Œç¦æ­¢éå¯¹é½è®¿é—®</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/cloqi184y000s8wrqg4ga0ei1.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/cloqi184y000s8wrqg4ga0ei1.html</id>
    <published>2023-11-09T01:14:29.000Z</published>
    <updated>2023-11-09T01:14:29.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ–‡ç« æ›´æ–°ï¼ˆ2023-11-14ï¼‰"><a href="#æ–‡ç« æ›´æ–°ï¼ˆ2023-11-14ï¼‰" class="headerlink" title="æ–‡ç« æ›´æ–°ï¼ˆ2023-11-14ï¼‰"></a>æ–‡ç« æ›´æ–°ï¼ˆ2023-11-14ï¼‰</h2><p>ç»è¿‡æ’æŸ¥ï¼Œæœ¬æ–‡æ‰€è¿°å¼‚å¸¸ç°è±¡å¹¶éç”±ã€Œéå¯¹é½è®¿é—®ã€æ‰€è‡´ï¼Œè€Œæ˜¯å› ä¸º SRAM3 å¼€å¯ ECC æ ¡éªŒæ—¶ä»…æ”¯æŒä»¥å­—ä¸ºå•ä½è¿›è¡Œè®¿é—®ã€‚</p><h2 id="ç°è±¡æè¿°"><a href="#ç°è±¡æè¿°" class="headerlink" title="ç°è±¡æè¿°"></a>ç°è±¡æè¿°</h2><ul><li>ç¨‹åºæ— æ³•æ­£å¸¸å¯åŠ¨</li><li>æœ‰æ—¶ä¼šè¿›å…¥ hard fault ä¸­æ–­</li><li>æœ‰æ—¶å€™ä¼šå‡ºç°ä»¥ä¸‹å¼‚å¸¸ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Call Stack + Locals                                                                    âœ˜</span><br><span class="line">    Name                                Location/Value                          Type</span><br><span class="line">    __scatterload_zeroinit              0x00074C56                              function</span><br><span class="line">    __scatterload                       0x00018DFE                              function</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="åŸºç¡€ä¿¡æ¯"><a href="#åŸºç¡€ä¿¡æ¯" class="headerlink" title="åŸºç¡€ä¿¡æ¯"></a>åŸºç¡€ä¿¡æ¯</h2><h3 id="èŠ¯ç‰‡èµ„æº"><a href="#èŠ¯ç‰‡èµ„æº" class="headerlink" title="èŠ¯ç‰‡èµ„æº"></a>èŠ¯ç‰‡èµ„æº</h3><ul><li>RAM 192KB&#x2F;0x30000</li><li>ROM 512KB&#x2F;0x80000ï¼ˆå…¶ä¸­é€šè¿‡åˆ†æ•£åŠ è½½ç»™åº”ç”¨ç¨‹åºåˆ†é…çš„ç©ºé—´ä¸º 416KB&#x2F;0x68000ï¼‰</li></ul><h3 id="é“¾æ¥æ•°æ®"><a href="#é“¾æ¥æ•°æ®" class="headerlink" title="é“¾æ¥æ•°æ®"></a>é“¾æ¥æ•°æ®</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">==============================================================================</span><br><span class="line"></span><br><span class="line">    Total RO  Size (Code + RO Data)               419844 ( 410.00kB)</span><br><span class="line">    Total RW  Size (RW Data + ZI Data)            163952 ( 160.11kB)</span><br><span class="line">    Total ROM Size (Code + RO Data + RW Data)     421056 ( 411.19kB)</span><br><span class="line"></span><br><span class="line">==============================================================================</span><br></pre></td></tr></table></figure><h3 id="åˆ†æ•£åŠ è½½"><a href="#åˆ†æ•£åŠ è½½" class="headerlink" title="åˆ†æ•£åŠ è½½"></a>åˆ†æ•£åŠ è½½</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LR_IROM1 0x00018000 0x00068000 &#123;</span><br><span class="line"></span><br><span class="line">; ä¸­æ–­å‘é‡</span><br><span class="line">ER_IROM1 0x00018000 0x00068000 &#123;</span><br><span class="line">*.o (RESET, +First)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">; ç¨‹åºä¿¡æ¯</span><br><span class="line">ER_IROM2 + 0 &#123;</span><br><span class="line">*.o (SECTION_INFO_APP, +First)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">; ç¨‹åºä»£ç </span><br><span class="line">ER_IROM3 + 0 &#123;</span><br><span class="line">*(InRoot$$Sections)</span><br><span class="line">.ANY (+RO)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">; å†…å­˜ç©ºé—´</span><br><span class="line">RW_IRAM1 0x1FFF8000 0x00030000 &#123;</span><br><span class="line">.ANY (+RW +ZI)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŸå› åˆ†æ"><a href="#åŸå› åˆ†æ" class="headerlink" title="åŸå› åˆ†æ"></a>åŸå› åˆ†æ</h2><p>ç”±äºä»£ç é‡æ¯”è¾ƒä¸´ç•Œï¼Œèµ·åˆæˆ‘ä»¥ä¸ºæ˜¯ flash çš„é—®é¢˜ã€‚ä½†æ˜¯ map æ–‡ä»¶ä¸­æ˜¾ç¤º ROM åªå ç”¨äº† 411.19kB çš„ç©ºé—´ï¼Œå¹¶æ²¡æœ‰è¶…è¿‡ 416KB çš„æ€»é‡ã€‚é‚£ RAM å‘¢ï¼ŸRAM åªç”¨äº† 160.11KB ä¹Ÿæ²¡æœ‰è¶…è¿‡ 192KB çš„æ€»é‡ï¼Œé‚ªäº†é—¨å„¿äº†çœŸæ˜¯ï¼å“ï¼Œç­‰ç­‰ï¼è¿™æ¬¾èŠ¯ç‰‡çš„ RAM æˆ‘è®°å¾—å¥½åƒæ˜¯åˆ†æˆäº†ä¸¤å—ï¼Œæ€ä¹ˆè¯´çš„æ¥ç€ï¼Œç…ä¸€çœ¼ã€Šå‚è€ƒæ‰‹å†Œã€‹ï¼š</p><p><img src="/sulfurandcu.io/cloqi184y000s8wrqg4ga0ei1/HC32F460-manual.png"></p><p>æœç„¶ï¼Œä¸¤å— RAM é—´ä¸æ”¯æŒéå¯¹é½è®¿é—®ï¼Œå†ä¸€çœ‹ SRAMH çš„å¤§å°ï¼š32KBï¼<del>ç ´æ¡ˆäº†ï¼ç°åœ¨ RAM çš„ç”¨é‡ä¸æ­£å¥½åˆ°è¾¾ 160KBï¼ˆ192KB - 32KB &#x3D; 160KBï¼‰è¿™ä¸ªä¸´ç•Œç‚¹äº†ä¹ˆï¼</del></p><blockquote><p>è¶…è¿‡ 160KB ç¡®å®ä¼šå‡ºç°å¼‚å¸¸ï¼Œä½†ä¸æ˜¯å› è¾¾åˆ° SRAMH æ‰€è‡´ï¼ˆSRAMH åœ°å€æœ€å°ï¼Œå§‹ç»ˆä¼šç”¨åˆ°ï¼‰è€Œæ˜¯å› è¾¾åˆ° SRAM3 ä¸”ä½¿èƒ½ ECC æ ¡éªŒæ‰€è‡´ã€‚æ³¨æ„çœ‹çº¢çº¿ä¸Šé¢çš„é‚£å¥è¯ï¼šã€Œåœ¨å…è®¸ RAM ECC æ ¡éªŒé”™è¯¯äº§ç”Ÿ NMI ä¸­æ–­å’Œå¤ä½çš„æƒ…å†µä¸‹ï¼Œå¿…é¡»å¯¹æ‰€ç”¨ RAM ç©ºé—´ä»¥å­—ï¼ˆ16bitï¼‰ä¸ºå•ä½è¿›è¡Œè®¿é—®ã€ã€‚</p></blockquote><p>æŒ‰ç…§ç°æœ‰åˆ†æ•£åŠ è½½æ–‡ä»¶çš„å†™æ³•ï¼Œä¸¤å—å†…å­˜ä¼šè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œé‚£ä¹ˆå°±å¿…ç„¶å­˜åœ¨ã€Œåœ¨å†…å­˜è¾¹ç•Œå¤„è¿›è¡Œéå¯¹é½è®¿é—®ã€çš„å¯èƒ½ã€‚</p><h2 id="è§„é¿æ–¹æ³•"><a href="#è§„é¿æ–¹æ³•" class="headerlink" title="è§„é¿æ–¹æ³•"></a>è§„é¿æ–¹æ³•</h2><p>éå¯¹é½è®¿é—®çš„é£é™©å¯ä»¥åœ¨åˆ†æ•£åŠ è½½æ–‡ä»¶ä¸­å°†ä¸¤å—å†…å­˜æ–­å¼€ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LR_IROM1 0x00018000 0x00068000 &#123;</span><br><span class="line"></span><br><span class="line">; ä¸­æ–­å‘é‡</span><br><span class="line">ER_IROM1 0x00018000 0x00068000 &#123;</span><br><span class="line">*.o (RESET, +First)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">; ç¨‹åºä¿¡æ¯</span><br><span class="line">ER_IROM2 + 0 &#123;</span><br><span class="line">*.o (SECTION_INFO_APP, +First)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">; ç¨‹åºä»£ç </span><br><span class="line">ER_IROM3 + 0 &#123;</span><br><span class="line">*(InRoot$$Sections)</span><br><span class="line">.ANY (+RO)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">; å†…å­˜ç©ºé—´</span><br><span class="line">RW_IRAM1 0x1FFF8000 0x00007FF0 &#123; ; ç©ºå‡ºè‹¥å¹²å­—èŠ‚ä¸ç”¨ï¼Œä»¥é¿å…éå¯¹é½è®¿é—®ã€‚</span><br><span class="line">.ANY (+RW +ZI)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">; å†…å­˜ç©ºé—´</span><br><span class="line">RW_IRAM2 0x20000000 0x00028000 &#123;</span><br><span class="line">.ANY (+RW +ZI)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>SRAM3 å¼€å¯ ECC åä»…æ”¯æŒä»¥å­—ä¸ºå•ä½è¿›è¡Œè®¿é—®çš„é—®é¢˜å¯ä»¥é€šè¿‡ç¦ç”¨ ECC åŠŸèƒ½æ¥è§£å†³ã€‚å½“ç„¶å¦‚æœä½ ä¸€å®šè¦ç”¨ ECC çš„è¯ï¼Œé‚£è¿™å—ç©ºé—´è‚¯å®šä¸èƒ½ç”¨æ¥è®©ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…å†…å­˜ï¼Œè€Œæ˜¯è¦è‡ªå·±æ¥æ‰‹åŠ¨ç®¡ç†ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;æ–‡ç« æ›´æ–°ï¼ˆ2023-11-14ï¼‰&quot;&gt;&lt;a href=&quot;#æ–‡ç« æ›´æ–°ï¼ˆ2023-11-14ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;æ–‡ç« æ›´æ–°ï¼ˆ2023-11-14ï¼‰&quot;&gt;&lt;/a&gt;æ–‡ç« æ›´æ–°ï¼ˆ2023-11-14ï¼‰&lt;/h2&gt;&lt;p&gt;ç»è¿‡æ’æŸ¥ï¼Œæœ¬æ–‡æ‰€è¿°å¼‚å¸¸ç°è±¡å¹¶éç”±ã€Œéå¯¹é½è®¿é—®ã€æ‰€è‡´ï¼Œè€Œæ˜¯å› ä¸º SRAM3 å¼€å¯ ECC æ ¡éªŒæ—¶ä»…æ”¯æŒä»¥å­—ä¸ºå•ä½è¿›è¡Œè®¿é—®ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç°è±¡æè¿°&quot;&gt;&lt;a href=&quot;#ç°è±¡æè¿°&quot; class=&quot;headerlink&quot; title=&quot;ç°è±¡æè¿°&quot;&gt;&lt;/a&gt;ç°è±¡æè¿°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ç¨‹åºæ— æ³•æ­£å¸¸å¯åŠ¨&lt;/li&gt;
&lt;li&gt;æœ‰æ—¶ä¼šè¿›å…¥ hard fault ä¸­æ–­&lt;/li&gt;
&lt;li&gt;æœ‰æ—¶å€™ä¼šå‡ºç°ä»¥ä¸‹å¼‚å¸¸ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Call Stack + Locals                                                                    âœ˜&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Name                                Location/Value                          Type&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    __scatterload_zeroinit              0x00074C56                              function&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    __scatterload                       0x00018DFE                              function&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é—®é¢˜è®°å½•" scheme="https://sulfurandcu.github.io/sulfurandcu.io/categories/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="åå¤§åŠå¯¼ä½“" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%8D%8E%E5%A4%A7%E5%8D%8A%E5%AF%BC%E4%BD%93/"/>
    
    <category term="HC32F460" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/HC32F460/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘çš„ä¸€å¥—ç”Ÿäº§å·¥å…·</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/clnyhr2mr003710rqgjtuhj11.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/clnyhr2mr003710rqgjtuhj11.html</id>
    <published>2023-10-15T02:54:20.000Z</published>
    <updated>2023-10-15T02:54:20.000Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ†äº«ä¸€äº›æé«˜å·¥ä½œæ•ˆç‡çš„å·¥å…·</p><span id="more"></span><h2 id="æœºæ¢°é”®ç›˜"><a href="#æœºæ¢°é”®ç›˜" class="headerlink" title="æœºæ¢°é”®ç›˜"></a>æœºæ¢°é”®ç›˜</h2><ul><li>ä½¿ç”¨ tmk, qmk ç­‰å·¥å…·çƒ§å½•è‡ªå®šä¹‰å›ºä»¶</li></ul><h2 id="é”®ä½å¸ƒå±€"><a href="#é”®ä½å¸ƒå±€" class="headerlink" title="é”®ä½å¸ƒå±€"></a>é”®ä½å¸ƒå±€</h2><ul><li><a href="/sulfurandcu.io/clnor6mvz0015ocrq2jks39ew.html">dÆ·vorak</a></li></ul><h2 id="è¾“å…¥æ³•å„¿"><a href="#è¾“å…¥æ³•å„¿" class="headerlink" title="è¾“å…¥æ³•å„¿"></a>è¾“å…¥æ³•å„¿</h2><ul><li>æ˜¨å¤åŒæ‹¼</li><li>å°é¹¤åŒæ‹¼</li><li>æœ™æœˆæ‹¼éŸ³</li><li>å®«ä¿æ‹¼éŸ³</li></ul><h2 id="è¾“å…¥å¼•æ“"><a href="#è¾“å…¥å¼•æ“" class="headerlink" title="è¾“å…¥å¼•æ“"></a>è¾“å…¥å¼•æ“</h2><ul><li>ä¸­å·éŸµè¾“å…¥æ³•å¼•æ“ï¼ˆrime, weasel, squirrelï¼‰</li></ul><h2 id="æ˜¾ç¤ºå­—ä½“"><a href="#æ˜¾ç¤ºå­—ä½“" class="headerlink" title="æ˜¾ç¤ºå­—ä½“"></a>æ˜¾ç¤ºå­—ä½“</h2><ul><li>æ€æºå®‹ä½“</li><li>æ€æºé»‘ä½“</li><li>æ›´çº±é»‘ä½“</li><li>ç­‰å®½å­—ä½“ï¼ˆiosevkaï¼‰</li><li>å¯å˜å­—ä½“ï¼ˆAmstelvarï¼‰</li></ul><h2 id="ç³»ç»Ÿä¼˜åŒ–"><a href="#ç³»ç»Ÿä¼˜åŒ–" class="headerlink" title="ç³»ç»Ÿä¼˜åŒ–"></a>ç³»ç»Ÿä¼˜åŒ–</h2><ul><li>powertoys</li></ul><h2 id="ç§‘å­¦ä¸Šç½‘"><a href="#ç§‘å­¦ä¸Šç½‘" class="headerlink" title="ç§‘å­¦ä¸Šç½‘"></a>ç§‘å­¦ä¸Šç½‘</h2><ul><li>clash.for.windows (<a href="https://github.com/Fndroid/clash_for_windows_pkg/releases">https://github.com/Fndroid/clash_for_windows_pkg/releases</a>)</li><li>xtls.space (<a href="https://xtlspace.20181024.xyz/#/register?code=bUox1yaB">https://xtlspace.20181024.xyz/#/register?code=bUox1yaB</a>)</li><li>tor.browser (<a href="https://www.torproject.org/download/">https://www.torproject.org/download/</a>)</li><li>tor.zlibrary (<a href="http://bookszlibb74ugqojhzhg2a63w5i2atv5bqarulgczawnbmsb6s6qead.onion/">http://bookszlibb74ugqojhzhg2a63w5i2atv5bqarulgczawnbmsb6s6qead.onion/</a>)</li></ul><h2 id="æ–‡ä»¶ä¸‹è½½"><a href="#æ–‡ä»¶ä¸‹è½½" class="headerlink" title="æ–‡ä»¶ä¸‹è½½"></a>æ–‡ä»¶ä¸‹è½½</h2><ul><li>Aria2</li><li>ndm</li><li>qbittorrent</li></ul><h2 id="æ–‡ä»¶å…±äº«"><a href="#æ–‡ä»¶å…±äº«" class="headerlink" title="æ–‡ä»¶å…±äº«"></a>æ–‡ä»¶å…±äº«</h2><ul><li>localsend</li></ul><h2 id="æ–‡ä»¶ç®¡ç†"><a href="#æ–‡ä»¶ç®¡ç†" class="headerlink" title="æ–‡ä»¶ç®¡ç†"></a>æ–‡ä»¶ç®¡ç†</h2><ul><li>qdir</li><li>everything</li></ul><h2 id="æ–‡ä»¶å¯¹æ¯”"><a href="#æ–‡ä»¶å¯¹æ¯”" class="headerlink" title="æ–‡ä»¶å¯¹æ¯”"></a>æ–‡ä»¶å¯¹æ¯”</h2><ul><li>winmerge</li></ul><h2 id="è¿œç¨‹ç»ˆç«¯"><a href="#è¿œç¨‹ç»ˆç«¯" class="headerlink" title="è¿œç¨‹ç»ˆç«¯"></a>è¿œç¨‹ç»ˆç«¯</h2><ul><li>windterm</li></ul><h2 id="è™šæ‹Ÿç¯å¢ƒ"><a href="#è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="è™šæ‹Ÿç¯å¢ƒ"></a>è™šæ‹Ÿç¯å¢ƒ</h2><ul><li>windows.terminal</li><li>windows.sandboxs</li><li>wsl</li><li>docker</li><li>cygwin (posix.api&#x2F;cygwin1.dll, bin&#x3D;windows.pe)</li></ul><h2 id="å¼€å‘ç¯å¢ƒ"><a href="#å¼€å‘ç¯å¢ƒ" class="headerlink" title="å¼€å‘ç¯å¢ƒ"></a>å¼€å‘ç¯å¢ƒ</h2><ul><li>mingw&#x2F;msys1 (shell) (posix.api&#x2F;msys-1.0.dll) (msys1~cmd.exe, mingw&#x2F;msys1~cygwin)</li><li>mingw&#x2F;msys2 (shell) (posix.api&#x2F;msys-2.0.dll) (msys2~cmd.exe, mingw&#x2F;msys2~cygwin)</li><li>scons</li><li>cmake.for.windows</li><li>ninja.for.windows</li><li>mingw.for.windows   (win32.api, bin&#x3D;windows.pe) ~ (visual studio)</li><li>mingw32 (mingw-w64) (win32.api, bin&#x3D;windows.pe) ~ (visual studio)</li><li>mingw64 (mingw-w64) (win32.api, bin&#x3D;windows.pe) ~ (visual studio)</li></ul><h2 id="è½¯ä»¶å¼€å‘"><a href="#è½¯ä»¶å¼€å‘" class="headerlink" title="è½¯ä»¶å¼€å‘"></a>è½¯ä»¶å¼€å‘</h2><ul><li>vscode</li><li>vs</li><li>eclipse</li><li>android.studio</li></ul><h2 id="è½¯ä»¶å¼€å‘ï¼ˆåµŒå…¥å¼ï¼‰"><a href="#è½¯ä»¶å¼€å‘ï¼ˆåµŒå…¥å¼ï¼‰" class="headerlink" title="è½¯ä»¶å¼€å‘ï¼ˆåµŒå…¥å¼ï¼‰"></a>è½¯ä»¶å¼€å‘ï¼ˆåµŒå…¥å¼ï¼‰</h2><ul><li>arm-none-eabi</li><li>jlink</li><li>openocd</li></ul><h2 id="ç¡¬ä»¶å¼€å‘"><a href="#ç¡¬ä»¶å¼€å‘" class="headerlink" title="ç¡¬ä»¶å¼€å‘"></a>ç¡¬ä»¶å¼€å‘</h2><ul><li>KiCAD</li></ul><h2 id="æœºæ¢°å·¥ä¸š"><a href="#æœºæ¢°å·¥ä¸š" class="headerlink" title="æœºæ¢°å·¥ä¸š"></a>æœºæ¢°å·¥ä¸š</h2><ul><li>AutoCAD</li><li>FreeCAD</li><li>Revit</li><li>Rhino</li><li>3dsMax</li><li>SketchUp</li><li>Render.Vray</li><li>Render.D5</li><li>Render.Enscape</li></ul><h2 id="å›¾ç‰‡æ–‡æ¡£"><a href="#å›¾ç‰‡æ–‡æ¡£" class="headerlink" title="å›¾ç‰‡æ–‡æ¡£"></a>å›¾ç‰‡æ–‡æ¡£</h2><ul><li>æˆªå±å·¥å…·<ul><li>fscapture</li><li>sharex</li></ul></li><li>å›¾ç‰‡æŸ¥çœ‹<ul><li>honeyview</li></ul></li><li>å›¾ç‰‡ç¼–è¾‘<ul><li>GIMP</li><li>inkscape</li><li>shift.n</li><li>ascii.generator</li></ul></li><li>æ–‡æ¡£æŸ¥çœ‹<ul><li>PDF.24</li></ul></li><li>æ–‡æ¡£ç¼–è¾‘<ul><li>draw.io</li><li>wave.drom.editor</li></ul></li></ul><h2 id="è§†é¢‘éŸ³é¢‘"><a href="#è§†é¢‘éŸ³é¢‘" class="headerlink" title="è§†é¢‘éŸ³é¢‘"></a>è§†é¢‘éŸ³é¢‘</h2><ul><li>å½•å±å·¥å…·<ul><li>obs.studio</li><li>lonelyscreen (ios screen display)</li></ul></li><li>è§†é¢‘æ’­æ”¾<ul><li>MPC-HC</li><li>VLC</li><li>PotPlayer</li></ul></li><li>è§†é¢‘å‰ªè¾‘<ul><li>shotcut</li><li>losslesscut</li></ul></li><li>è§†é¢‘è½¬ç <ul><li>handbrake</li></ul></li><li>éŸ³é¢‘æ’­æ”¾<ul><li>foobar2000</li></ul></li><li>éŸ³é¢‘å‰ªè¾‘<ul><li>audacity</li><li>wavosaur</li></ul></li><li>éŸ³é¢‘è½¬ç <ul><li>ç•¥.</li></ul></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;åˆ†äº«ä¸€äº›æé«˜å·¥ä½œæ•ˆç‡çš„å·¥å…·&lt;/p&gt;</summary>
    
    
    
    <category term="æ•ˆç‡æå‡" scheme="https://sulfurandcu.github.io/sulfurandcu.io/categories/%E6%95%88%E7%8E%87%E6%8F%90%E5%8D%87/"/>
    
    
    <category term="ç”Ÿäº§å·¥å…·" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E7%94%9F%E4%BA%A7%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>åµŒå…¥å¼ IAP åœ¨çº¿å‡çº§ï¼å·®åˆ†è¿˜åŸ hpatchlite ç§»æ¤</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/cloidefbf00hzv0rqa7zg722r.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/cloidefbf00hzv0rqa7zg722r.html</id>
    <published>2023-09-30T16:00:04.000Z</published>
    <updated>2023-09-30T16:00:04.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘å‘ç°äº†ä¸€ä¸ªä¼˜ç§€çš„å·®åˆ†è¿˜åŸç®—æ³•ï¼šhdiff &amp; hpatchï¼Œå®ƒé€šè¿‡æ•°æ®æµçš„æ€æƒ³æŠŠ O(n) çš„ç©ºé—´å¤æ‚åº¦è½¬å«ç»™äº†ç¡¬ç›˜ï¼Œä½¿å¾—å†…å­˜çš„å¼€é”€æä½ï¼Œéå¸¸é€‚åˆåº”ç”¨äºåµŒå…¥å¼é¢†åŸŸã€‚</p><p><img src="/sulfurandcu.io/cloidefbf00hzv0rqa7zg722r/diff.tools.compare.png"></p><span id="more"></span><h2 id="æ€§èƒ½åˆ†æ"><a href="#æ€§èƒ½åˆ†æ" class="headerlink" title="æ€§èƒ½åˆ†æ"></a>æ€§èƒ½åˆ†æ</h2><h3 id="hpatchlite"><a href="#hpatchlite" class="headerlink" title="hpatchlite"></a>hpatchlite</h3><p>æ—¶é—´å¤æ‚åº¦ï¼šO(oldSize+newSize)<br>ç©ºé—´å¤æ‚åº¦ï¼šO(1)<br>ã€€ã€€è¿˜åŸä»£ç å¼€é”€ï½œROM &#x3D; 876 å­—èŠ‚ (compiled by armcc v5.06 update4 build 422)<br>ã€€ã€€è¿˜åŸå†…å­˜å¼€é”€ï½œRAM &#x3D; è¿˜åŸç¼“å†²å¤§å° + è§£å‹å†…å­˜å¼€é”€</p><p>æ³¨ï¼šè¿˜åŸç¼“å†²å¤§å°åœ¨è¿˜åŸæ—¶æŒ‡å®šï¼Œè‡³å°‘3ä¸ªå­—èŠ‚ï¼Œè¿˜åŸç¼“å†²è¶Šå°è¿˜åŸå¾—è¶Šæ…¢ã€‚</p><h3 id="tinyuz"><a href="#tinyuz" class="headerlink" title="tinyuz"></a>tinyuz</h3><p>æ—¶é—´å¤æ‚åº¦ï¼šO(oldSize+newSize)<br>ç©ºé—´å¤æ‚åº¦ï¼šO(1)<br>ã€€ã€€è§£å‹ä»£ç å¼€é”€ï½œæµæ¨¡å¼ï½œROM &#x3D; 1142 å­—èŠ‚ (compiled by armcc v5.06 update4 build 422)<br>ã€€ã€€è§£å‹å†…å­˜å¼€é”€ï½œæµæ¨¡å¼ï½œRAM &#x3D; å‹ç¼©å­—å…¸å¤§å° + è§£å‹ç¼“å†²å¤§å°</p><p>æ³¨ï¼šå‹ç¼©å­—å…¸å¤§å°åœ¨å‹ç¼©æ—¶æŒ‡å®šï¼Œè‡³å°‘1ä¸ªå­—èŠ‚ï¼Œå‹ç¼©å­—å…¸è¶Šå°å‹ç¼©ç‡è¶Šä½ã€‚<br>æ³¨ï¼šè§£å‹ç¼“å†²å¤§å°åœ¨è§£å‹æ—¶æŒ‡å®šï¼Œè‡³å°‘2ä¸ªå­—èŠ‚ï¼Œè§£å‹ç¼“å†²è¶Šå°è§£å‹ç¼©è¶Šæ…¢ã€‚</p><h3 id="appendix"><a href="#appendix" class="headerlink" title="appendix"></a>appendix</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Code (inc. data)   RO Data    RW Data    ZI Data      Debug   Object Name</span><br><span class="line"></span><br><span class="line"> 876          0          0          0          0      10783   hpatch_lite.o</span><br><span class="line">1142          0          0          0          0      13541   tuz_dec.o</span><br><span class="line"></span><br><span class="line"> 626         80          0         12          0      12256   hpatch_user.o</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">244           0          0          0          0       2146   bspatch.o</span><br><span class="line">586           6         64          0          0       6749   quicklz.o</span><br><span class="line"></span><br><span class="line">102           4          8          0          0       2821   bspatch_user.o</span><br><span class="line"> 52           0          0          0          0       2096   quicklz_user.o</span><br></pre></td></tr></table></figure><h2 id="ç§»æ¤è¯´æ˜"><a href="#ç§»æ¤è¯´æ˜" class="headerlink" title="ç§»æ¤è¯´æ˜"></a>ç§»æ¤è¯´æ˜</h2><p>å°† hdiffpatch.hpatchlite &amp; tinyuz ç§»æ¤è‡³å•ç‰‡æœº bare metal è£¸æœºç³»ç»Ÿï¼ˆbased on hdiffpatch v4ï¼‰</p><h3 id="æ‹¿æ¥"><a href="#æ‹¿æ¥" class="headerlink" title="æ‹¿æ¥"></a>æ‹¿æ¥</h3><p>å°† tinyuz&#x2F;decompress ç›®å½•æ‹·è´è‡³ç›®æ ‡å·¥ç¨‹ä¸­ã€‚</p><p>å°† HDiffPatch&#x2F;libHDiffPatch&#x2F;HPatch ç›®å½•æ‹·è´è‡³ç›®æ ‡å·¥ç¨‹ä¸­ã€‚</p><p>å°† HDiffPatch&#x2F;libHDiffPatch&#x2F;HPatchLite ç›®å½•æ‹·è´è‡³ç›®æ ‡å·¥ç¨‹ä¸­ã€‚</p><p>å°† HPatchLite&#x2F;decompresser_demo.h æ–‡ä»¶æ‹·è´è‡³ç›®æ ‡å·¥ç¨‹ä¸­ã€‚</p><h3 id="ç”»ç“¢"><a href="#ç”»ç“¢" class="headerlink" title="ç”»ç“¢"></a>ç”»ç“¢</h3><p>ä¾ HPatchLite&#x2F;hpatchi.c&#x2F;hpatchi() å‡½æ•°ç”»ç“¢ï¼šç§»æ¤è¿˜åŸåŠŸèƒ½</p><p>ä¾ tinyuz&#x2F;tinyuz_demo.cpp&#x2F;_tuz_decompress_stream() å‡½æ•°ç”»ç“¢ï¼šç§»æ¤è§£å‹åŠŸèƒ½</p><p>done!</p><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>æ‹¿æ¥ä¾è‘«èŠ¦ç”»ç“¢ï¼Œè¯´å¾—ç®€å•ï¼Œåšèµ·æ¥ç€å®è¿˜æ˜¯è´¹äº†ç‚¹åŠŸå¤«ï¼Œè¿™å‡ å¹´æåµŒå…¥å¼æå¾—æœ‰äº›å±€é™äº†ï¼Œé¢å¯¹å¥(gÅu)æŸ„è¿™ç§ç”¨æ³•ç«Ÿæ„Ÿè§‰æ— ä»ä¸‹æ‰‹ã€‚ğŸ˜…</p><p>ä½œè€…æä¾›äº†ä»¥ä¸‹ä¸¤ä¸ªæ¥å£å‡½æ•°ï¼š</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">hpatch_lite_open()</span><br><span class="line"></span><br><span class="line">hpatch_lite_patch()</span><br></pre></td></tr></table></figure><p>çœ‹ç€æŒºç®€å•çš„å§ï¼Œç„¶è€Œä»–å®é™…ä¸Šæ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// hpatch_lite by stream: hpatch_lite_open()+hpatch_lite_patch() compiled by Mbed Studio is 662 bytes</span></span><br><span class="line"><span class="comment">//   hdiffpatch v4.2.3, other patcher compiled by Mbed Studio:</span></span><br><span class="line"><span class="comment">//      patch_single_stream() 2356 bytes (hpatch_StreamPos_t=hpatch_uint32_t)</span></span><br><span class="line"><span class="comment">//      patch_decompress_with_cache() 2846 bytes (_IS_NEED_CACHE_OLD_BY_COVERS=0,hpatch_StreamPos_t=hpatch_uint32_t)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//diff_data must created by create_lite_diff()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">hpatchi_listener_t</span>&#123;</span></span><br><span class="line">    hpi_TInputStreamHandle  diff_data;</span><br><span class="line">    hpi_TInputStream_read   read_diff;</span><br><span class="line">    <span class="comment">//must read data_size data to out_data, from read_from_pos of stream; if read error return hpi_FALSE;</span></span><br><span class="line">    hpi_BOOL (*read_old)(<span class="keyword">struct</span> <span class="type">hpatchi_listener_t</span>* listener,<span class="type">hpi_pos_t</span> read_from_pos,hpi_byte* out_data,<span class="type">hpi_size_t</span> data_size);</span><br><span class="line">    <span class="comment">//must write data_size data to sequence stream; if write error return hpi_FALSE;</span></span><br><span class="line">    hpi_BOOL (*write_new)(<span class="keyword">struct</span> <span class="type">hpatchi_listener_t</span>* listener,<span class="type">const</span> hpi_byte* data,<span class="type">hpi_size_t</span> data_size);</span><br><span class="line">&#125; <span class="type">hpatchi_listener_t</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//hpatch_lite open</span></span><br><span class="line"><span class="comment">// read lite headinfo from diff_data</span></span><br><span class="line"><span class="comment">// if diff_data uncompress(*out_compress_type==hpi_compressType_no), *out_uncompressSize==0;</span></span><br><span class="line"><span class="comment">// if (*out_compress_type!=hpi_compressType_no), you need open compressed data by decompresser</span></span><br><span class="line"><span class="comment">//      (see https://github.com/sisong/HPatchLite/decompresser_demo.h &amp; https://github.com/sisong/HPatchLite/hpatchi.c)</span></span><br><span class="line">hpi_BOOL <span class="title function_">hpatch_lite_open</span><span class="params">(hpi_TInputStreamHandle diff_data,hpi_TInputStream_read read_diff,</span></span><br><span class="line"><span class="params">                          hpi_compressType* out_compress_type,<span class="type">hpi_pos_t</span>* out_newSize,<span class="type">hpi_pos_t</span>* out_uncompressSize)</span>;</span><br><span class="line"><span class="comment">//hpatch_lite patch</span></span><br><span class="line"><span class="comment">//used temp_cache_size memory + &#123;decompress buffer*1&#125;</span></span><br><span class="line"><span class="comment">//  note: temp_cache_size&gt;=hpi_kMinCacheSize</span></span><br><span class="line">hpi_BOOL <span class="title function_">hpatch_lite_patch</span><span class="params">(<span class="type">hpatchi_listener_t</span>* listener,<span class="type">hpi_pos_t</span> newSize,</span></span><br><span class="line"><span class="params">                           hpi_byte* temp_cache,<span class="type">hpi_size_t</span> temp_cache_size)</span>;</span><br></pre></td></tr></table></figure><p>è¯•ç€åˆ†æä¸€ä¸‹ï¼š</p><p><strong>å·®åˆ†åŒ…å¤´ä¿¡æ¯è¯»å–æ¥å£</strong></p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/** å·®åˆ†åŒ…å¤´ä¿¡æ¯è¯»å–æ¥å£</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @param hpi_TInputStreamHandle        diff_data           æ³¨æ„æ­¤å¤„å…¥å‚ï¼šå·®åˆ†æ•°æ®æµå¥æŸ„ï¼ˆä¸ªäººç†è§£ï¼šå¦‚æœä¸éœ€è¦è¯¥å¥æŸ„çš„è¯å¯ä»¥å°†å…¶å®šä¹‰ä¸ºç©ºæŒ‡é’ˆï¼‰</span></span><br><span class="line"><span class="comment"> * @param hpi_TInputStream_read         read_diff           æ³¨æ„æ­¤å¤„å…¥å‚ï¼šå·®åˆ†æ•°æ®æµè¯»å–å‡½æ•°ï¼ˆç”¨æˆ·å®ç°ï¼šä»¥æ•°æ®æµçš„æ–¹å¼è¯»å–å¤–éƒ¨å­˜å‚¨ä¸­å·®åˆ†æ•°æ®åˆ†åŒºçš„æ•°æ®ï¼‰</span></span><br><span class="line"><span class="comment"> * @param hpi_compressType             *out_compress_type   å·®åˆ†åŒ…å¤´ä¿¡æ¯ï¼šå·®åˆ†åŒ…å‹ç¼©ç±»å‹</span></span><br><span class="line"><span class="comment"> * @param hpi_pos_t                    *out_newSize         å·®åˆ†åŒ…å¤´ä¿¡æ¯ï¼šè¿˜åŸæ•°æ®çš„é•¿åº¦</span></span><br><span class="line"><span class="comment"> * @param hpi_pos_t                    *out_uncompressSize  å·®åˆ†åŒ…å¤´ä¿¡æ¯ï¼šè§£å‹ä¹‹åçš„é•¿åº¦ï¼ˆå¦‚æœå·®åˆ†åŒ…æœªè¢«å‹ç¼©åˆ™*out_uncompressSizeè¾“å‡º0ï¼‰</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line">hpi_BOOL <span class="title function_">hpatch_lite_open</span><span class="params">(hpi_TInputStreamHandle diff_data,hpi_TInputStream_read read_diff,hpi_compressType* out_compress_type,<span class="type">hpi_pos_t</span>* out_newSize,<span class="type">hpi_pos_t</span>* out_uncompressSize)</span>;</span><br></pre></td></tr></table></figure><p><strong>å·®åˆ†åŒ…å¤´å®šä¹‰</strong></p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> hpi_kHeadSize (2+1+1) <span class="comment">//&quot;hI&quot; + hpi_compressType + (versionCode + newSize_Bytes + uncompressSize_Bytes) &#123; + newSize + uncompressSize&#125; &#123; + dictSize&#125;</span></span></span><br><span class="line">å·®åˆ†åŒ…å¤´[<span class="number">0</span>] : é­”æœ¯æ•°å­— <span class="number">68</span> <span class="string">&#x27;h&#x27;</span></span><br><span class="line">å·®åˆ†åŒ…å¤´[<span class="number">1</span>] : é­”æœ¯æ•°å­— <span class="number">49</span> <span class="string">&#x27;I&#x27;</span></span><br><span class="line">å·®åˆ†åŒ…å¤´[<span class="number">2</span>] : å‹ç¼©ç±»å‹</span><br><span class="line">å·®åˆ†åŒ…å¤´[<span class="number">3</span>] : ç‰ˆæœ¬ä»£ç [<span class="number">7</span>:<span class="number">6</span>]+è§£å‹æ•°æ®é•¿åº¦æ‰€å çš„å­—èŠ‚æ•°u[<span class="number">5</span>:<span class="number">3</span>]+è¿˜åŸæ•°æ®é•¿åº¦æ‰€å çš„å­—èŠ‚æ•°n[<span class="number">2</span>:<span class="number">0</span>]</span><br><span class="line">å·®åˆ†åŒ…å¤´[<span class="number">4</span> ~ <span class="number">4</span>+n] : è¿˜åŸæ•°æ®é•¿åº¦</span><br><span class="line">å·®åˆ†åŒ…å¤´[? ~ ?+u] : è§£å‹æ•°æ®é•¿åº¦</span><br><span class="line"></span><br><span class="line">å‹ç¼©åŒ…å¤´[? ~ ?+<span class="number">4</span>] : å‹ç¼©å­—å…¸å¤§å°</span><br></pre></td></tr></table></figure><p><strong>å·®åˆ†è¿˜åŸæ¥å£</strong></p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/** å·®åˆ†è¿˜åŸæ¥å£</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @param hpatchi_listener_t            listener            è¯¦è§ hpatchi_listener_t åˆ†æ</span></span><br><span class="line"><span class="comment"> * @param hpi_pos_t                     newSize             è¿˜åŸæ•°æ®çš„é•¿åº¦</span></span><br><span class="line"><span class="comment"> * @param hpi_byte                     *temp_cache          è¿˜åŸç¼“å†²çš„åœ°å€</span></span><br><span class="line"><span class="comment"> * @param hpi_size_t                    temp_cache_size     è¿˜åŸç¼“å†²çš„å¤§å°ï¼ˆ&gt;=2ï¼‰</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line">hpi_BOOL <span class="title function_">hpatch_lite_patch</span><span class="params">(<span class="type">hpatchi_listener_t</span>* listener,<span class="type">hpi_pos_t</span> newSize,hpi_byte* temp_cache,<span class="type">hpi_size_t</span> temp_cache_size)</span>;</span><br></pre></td></tr></table></figure><p><strong>hpatchi_listener_t</strong></p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">hpatchi_listener_t</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    hpi_TInputStreamHandle  diff_data;</span><br><span class="line">    hpi_TInputStream_read   read_diff;</span><br><span class="line">    hpi_BOOL (*read_old)(<span class="keyword">struct</span> <span class="type">hpatchi_listener_t</span>* listener,<span class="type">hpi_pos_t</span> read_from_pos,hpi_byte* out_data,<span class="type">hpi_size_t</span> data_size);</span><br><span class="line">    hpi_BOOL (*write_new)(<span class="keyword">struct</span> <span class="type">hpatchi_listener_t</span>* listener,<span class="type">const</span> hpi_byte* data,<span class="type">hpi_size_t</span> data_size);</span><br><span class="line">&#125; <span class="type">hpatchi_listener_t</span>;</span><br></pre></td></tr></table></figure><p><strong>hpatchi_listener_t å®ä¾‹ï¼ˆå·®åˆ†åŒ…æœªç»å‹ç¼©ï¼‰</strong></p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">hpatchi_listener_t</span> listener =</span><br><span class="line">&#123;</span><br><span class="line">    .diff_data = å·®åˆ†æ•°æ®æµå¥æŸ„,</span><br><span class="line">    .read_diff = å·®åˆ†æ•°æ®æµè¯»å–å‡½æ•°,    ç”±ç”¨æˆ·å»å®ç°ï¼ˆä»å¤–éƒ¨å­˜å‚¨çš„å·®åˆ†æ•°æ®åˆ†åŒºè¯»å–ï¼‰ï¼ˆå‡½æ•°ä¸€ï¼‰</span><br><span class="line"></span><br><span class="line">    .read_old  = æ—§ç‰ˆæ•°æ®æµè¯»å–å‡½æ•°,    ç”±ç”¨æˆ·å»å®ç°ï¼ˆä»å†…éƒ¨å­˜å‚¨çš„æ—§ç‰ˆç¨‹åºåˆ†åŒºè¯»å–ï¼‰ï¼ˆå‡½æ•°äºŒï¼‰</span><br><span class="line">    .write_new = è¿˜åŸæ•°æ®æµå†™å…¥å‡½æ•°,    ç”±ç”¨æˆ·å»å®ç°ï¼ˆå†™å…¥åˆ°å¤–éƒ¨å­˜å‚¨çš„è¿˜åŸç¨‹åºåˆ†åŒºï¼‰ï¼ˆå‡½æ•°ä¸‰ï¼‰</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>hpatchi_listener_t å®ä¾‹ï¼ˆå·®åˆ†åŒ…ç»è¿‡å‹ç¼©ï¼‰</strong></p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">tuz_TStream _tuz_stream = <span class="comment">/* å‹ç¼©æ•°æ®æµå¥æŸ„ */</span></span><br><span class="line">&#123;</span><br><span class="line">    .in_Stream = å·®åˆ†æ•°æ®æµå¥æŸ„,</span><br><span class="line">    .read_code = å·®åˆ†æ•°æ®æµè¯»å–å‡½æ•°,    ç”±ç”¨æˆ·å»å®ç°ï¼ˆä»å¤–éƒ¨å­˜å‚¨çš„å·®åˆ†æ•°æ®åˆ†åŒºè¯»å–ï¼‰ï¼ˆå‡½æ•°ä¸€ï¼‰</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">hpatchi_listener_t</span> listener =</span><br><span class="line">&#123;</span><br><span class="line">    .diff_data = å‹ç¼©æ•°æ®æµå¥æŸ„,        _tuz_stream</span><br><span class="line">    .read_diff = å‹ç¼©æ•°æ®æµè§£å‹å‡½æ•°,    _tuz_TStream_decompress() <span class="comment">// decompresser_demo.h</span></span><br><span class="line"></span><br><span class="line">    .read_old  = æ—§ç‰ˆæ•°æ®æµè¯»å–å‡½æ•°,    ç”±ç”¨æˆ·å»å®ç°ï¼ˆä»å†…éƒ¨å­˜å‚¨çš„æ—§ç‰ˆç¨‹åºåˆ†åŒºè¯»å–ï¼‰ï¼ˆå‡½æ•°äºŒï¼‰</span><br><span class="line">    .write_new = è¿˜åŸæ•°æ®æµå†™å…¥å‡½æ•°,    ç”±ç”¨æˆ·å»å®ç°ï¼ˆå†™å…¥åˆ°å¤–éƒ¨å­˜å‚¨çš„è¿˜åŸç¨‹åºåˆ†åŒºï¼‰ï¼ˆå‡½æ•°ä¸‰ï¼‰</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æœ€åéœ€è¦ç‰¹åˆ«æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼šå·®åˆ†åŒ…å¿…é¡»ç”± create_lite_diff() å‡½æ•°åˆ›å»ºã€‚å®è§‚ä¸Šæ¥è¯´å°±æ˜¯å·®åˆ†åŒ…å¿…é¡»è¦é€šè¿‡ hdiffi.exe ç¨‹åºç”Ÿæˆï¼Œä¸èƒ½ä½¿ç”¨ hdiffz.exe ç”Ÿæˆã€‚</p><h3 id="æ¡†æ¶"><a href="#æ¡†æ¶" class="headerlink" title="æ¡†æ¶"></a>æ¡†æ¶</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¯¥å›è°ƒå‡½æ•°ç”±ç”¨æˆ·æä¾›</span></span><br><span class="line">hpi_BOOL å·®åˆ†æ•°æ®æµè¯»å–å‡½æ•°()</span><br><span class="line">&#123;</span><br><span class="line">    ç”±ç”¨æˆ·å®ç°</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯¥å›è°ƒå‡½æ•°ç”±ç”¨æˆ·æä¾›</span></span><br><span class="line">hpi_BOOL æ—§ç‰ˆæ•°æ®æµè¯»å–å‡½æ•°()</span><br><span class="line">&#123;</span><br><span class="line">    ç”±ç”¨æˆ·å®ç°</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯¥å›è°ƒå‡½æ•°ç”±ç”¨æˆ·æä¾›</span></span><br><span class="line">hpi_BOOL è¿˜åŸæ•°æ®æµå†™å…¥å‡½æ•°()</span><br><span class="line">&#123;</span><br><span class="line">    ç”±ç”¨æˆ·å®ç°</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¹æ® hpatch_lite_open() å’Œ hpatch_lite_patch() ç¼–å†™çš„è¿˜åŸç¨‹åº</span></span><br><span class="line"><span class="type">hpi_patch_result_t</span> <span class="title function_">hpi_patch</span><span class="params">(listener, â€œè¿˜åŸç¼“å†²å¤§å°â€, â€œè§£å‹ç¼“å†²å¤§å°â€, â€œå·®åˆ†æ•°æ®æµè¯»å–å‡½æ•°â€, â€œæ—§ç‰ˆæ•°æ®æµè¯»å–å‡½æ•°â€, â€œè¿˜åŸæ•°æ®æµå†™å…¥å‡½æ•°â€)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å·®åˆ†æ•°æ®æµå¥æŸ„ï¼šå¦‚æœä¸éœ€è¦è¯¥å¥æŸ„çš„è¯å¯ä»¥å°†å…¶å®šä¹‰ä¸ºç©ºæŒ‡é’ˆ</span></span><br><span class="line">    hpatch_lite_open(â€œå·®åˆ†æ•°æ®æµå¥æŸ„â€, â€œå·®åˆ†æ•°æ®æµè¯»å–å‡½æ•°â€, è¾“å‡ºâ€œå·®åˆ†åŒ…ä¿¡æ¯â€);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    è§£å‹ç¼“å†²åœ°å€ = <span class="built_in">malloc</span>();</span><br><span class="line">    è§£å‹å­—å…¸å¤§å° = _tuz_TStream_getReservedMemSize(â€œå·®åˆ†æ•°æ®æµå¥æŸ„â€, â€œå·®åˆ†æ•°æ®æµè¯»å–å‡½æ•°â€);</span><br><span class="line">    tuz_TStream_open(_tuz_stream, â€œå·®åˆ†æ•°æ®æµå¥æŸ„â€, â€œå·®åˆ†æ•°æ®æµè¯»å–å‡½æ•°â€, â€œè§£å‹ç¼“å†²åœ°å€â€, â€œè§£å‹å­—å…¸å¤§å°â€, â€œè§£å‹ç¼“å†²å¤§å°â€);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    patch_listener</span><br><span class="line">        .diff_data = _tuz_stream</span><br><span class="line">        .read_diff = _tuz_TStream_decompress() <span class="comment">// decompresser_demo.h</span></span><br><span class="line">        .read_old  = æ—§ç‰ˆæ•°æ®æµè¯»å–å‡½æ•°()</span><br><span class="line">        .write_new = è¿˜åŸæ•°æ®æµå†™å…¥å‡½æ•°()</span><br><span class="line"></span><br><span class="line">    è¿˜åŸç¼“å†²åœ°å€ = <span class="built_in">malloc</span>();</span><br><span class="line"></span><br><span class="line">    hpatch_lite_patch(â€œpatch_listenerâ€, â€œè¿˜åŸæ•°æ®æœŸæœ›é•¿åº¦â€, â€œè¿˜åŸç¼“å†²åœ°å€â€, â€œè¿˜åŸç¼“å†²å¤§å°â€);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h3><figure class="highlight c"><figcaption><span>hpatch_conf.h</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __hpatch_conf_h__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __hpatch_conf_h__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;rtthread.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> hpi_malloc(x) rt_malloc(x)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> hpi_free(x)   rt_free(x)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">/* __hpatch_conf_h__ */</span></span></span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span>hpatch_impl.h</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __hpatch_impl_h__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __hpatch_impl_h__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;hpatch_lite.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;patch_types.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;decompresser_demo.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span> <span class="title">hpi_patch_result_t</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    HPATCHI_SUCCESS = <span class="number">0</span>,</span><br><span class="line">    HPATCHI_OPTIONS_ERROR,</span><br><span class="line">    HPATCHI_PATHTYPE_ERROR,</span><br><span class="line">    HPATCHI_OPENREAD_ERROR,</span><br><span class="line">    HPATCHI_OPENWRITE_ERROR,</span><br><span class="line">    HPATCHI_FILEREAD_ERROR,</span><br><span class="line">    HPATCHI_FILEWRITE_ERROR,</span><br><span class="line">    HPATCHI_FILEDATA_ERROR,</span><br><span class="line">    HPATCHI_FILECLOSE_ERROR,</span><br><span class="line">    HPATCHI_MEM_ERROR,</span><br><span class="line">    HPATCHI_COMPRESSTYPE_ERROR,</span><br><span class="line">    HPATCHI_DECOMPRESSER_DICT_ERROR,</span><br><span class="line">    HPATCHI_DECOMPRESSER_OPEN_ERROR,</span><br><span class="line">    HPATCHI_DECOMPRESSER_CLOSE_ERROR,</span><br><span class="line">    HPATCHI_PATCH_OPEN_ERROR = <span class="number">20</span>,</span><br><span class="line">    HPATCHI_PATCH_ERROR,</span><br><span class="line">&#125; <span class="type">hpi_patch_result_t</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="title function_">hpi_BOOL</span> <span class="params">(*<span class="type">read_old_t</span>)</span><span class="params">(<span class="keyword">struct</span> <span class="type">hpatchi_listener_t</span> *listener, <span class="type">hpi_pos_t</span> addr, hpi_byte *data, <span class="type">hpi_size_t</span> size)</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="title function_">hpi_BOOL</span> <span class="params">(*<span class="type">write_new_t</span>)</span><span class="params">(<span class="keyword">struct</span> <span class="type">hpatchi_listener_t</span> *listener, <span class="type">const</span> hpi_byte *data, <span class="type">hpi_size_t</span> size)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">hpi_patch</span><span class="params">(<span class="type">hpatchi_listener_t</span> *listener, <span class="type">int</span> patch_cache_size, <span class="type">int</span> decompress_cache_size, hpi_TInputStream_read _do_read_diff, <span class="type">read_old_t</span> _do_read_old, <span class="type">write_new_t</span> _do_write_new)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">/* __hpatch_impl_h__ */</span></span></span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span>hpatch_impl.c</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;hpatch_impl.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;hpatch_conf.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">hpi_patch_result_t</span> <span class="title function_">hpi_patch</span><span class="params">(<span class="type">hpatchi_listener_t</span> *listener, <span class="type">int</span> patch_cache_size, <span class="type">int</span> decompress_cache_size, hpi_TInputStream_read _do_read_diff, <span class="type">read_old_t</span> _do_read_old, <span class="type">write_new_t</span> _do_write_new)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">hpi_patch_result_t</span> result = HPATCHI_SUCCESS;</span><br><span class="line">    hpi_byte *pmem            = <span class="number">0</span>;</span><br><span class="line">    hpi_byte *patch_cache;</span><br><span class="line"></span><br><span class="line">    hpi_compressType compress_type;</span><br><span class="line">    <span class="type">hpi_pos_t</span> new_size;</span><br><span class="line">    <span class="type">hpi_pos_t</span> uncompress_size;</span><br><span class="line"></span><br><span class="line">    hpi_BOOL patch_result;</span><br><span class="line">    patch_result = hpatch_lite_open(listener, _do_read_diff, &amp;compress_type, &amp;new_size, &amp;uncompress_size);</span><br><span class="line">    <span class="keyword">if</span> (patch_result != hpi_TRUE)</span><br><span class="line">    &#123;</span><br><span class="line">        result = HPATCHI_PATCH_OPEN_ERROR;</span><br><span class="line">        <span class="keyword">goto</span> clear;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    listener-&gt;read_old  = _do_read_old;</span><br><span class="line">    listener-&gt;write_new = _do_write_new;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> (compress_type)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> hpi_compressType_no: <span class="comment">// memory size: patch_cache_size</span></span><br><span class="line">        &#123;</span><br><span class="line">            pmem = (hpi_byte *)hpi_malloc(patch_cache_size);</span><br><span class="line">            <span class="keyword">if</span> (!pmem)</span><br><span class="line">            &#123;</span><br><span class="line">                result = HPATCHI_MEM_ERROR;</span><br><span class="line">                <span class="keyword">goto</span> clear;</span><br><span class="line">            &#125;</span><br><span class="line">            patch_cache = pmem;</span><br><span class="line"></span><br><span class="line">            listener-&gt;diff_data = listener;</span><br><span class="line">            listener-&gt;read_diff = _do_read_diff;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _CompressPlugin_tuz</span></span><br><span class="line">        <span class="keyword">case</span> hpi_compressType_tuz: <span class="comment">// requirements memory size: patch_cache_size + decompress_cache_size + decompress_dict_size</span></span><br><span class="line">        &#123;</span><br><span class="line">            tuz_TStream tuz_stream_handle;</span><br><span class="line"></span><br><span class="line">            <span class="type">size_t</span> decompress_dict_size = _tuz_TStream_getReservedMemSize(listener, _do_read_diff);</span><br><span class="line">            <span class="keyword">if</span> (decompress_dict_size &lt;= <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                result = HPATCHI_DECOMPRESSER_DICT_ERROR;</span><br><span class="line">                <span class="keyword">goto</span> clear;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            pmem = (hpi_byte *)hpi_malloc(decompress_dict_size + decompress_cache_size + patch_cache_size);</span><br><span class="line">            <span class="keyword">if</span> (!pmem)</span><br><span class="line">            &#123;</span><br><span class="line">                result = HPATCHI_MEM_ERROR;</span><br><span class="line">                <span class="keyword">goto</span> clear;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            tuz_TResult tuz_result = tuz_TStream_open(&amp;tuz_stream_handle, listener, _do_read_diff, pmem, (<span class="type">tuz_size_t</span>)decompress_dict_size, (<span class="type">tuz_size_t</span>)decompress_cache_size);</span><br><span class="line">            <span class="keyword">if</span> (tuz_result != tuz_OK)</span><br><span class="line">            &#123;</span><br><span class="line">                result = HPATCHI_DECOMPRESSER_OPEN_ERROR;</span><br><span class="line">                <span class="keyword">goto</span> clear;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            patch_cache = pmem + decompress_dict_size + decompress_cache_size;</span><br><span class="line"></span><br><span class="line">            listener-&gt;diff_data = &amp;tuz_stream_handle;</span><br><span class="line">            listener-&gt;read_diff = _tuz_TStream_decompress;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">        &#123;</span><br><span class="line">            result = HPATCHI_COMPRESSTYPE_ERROR;</span><br><span class="line">            <span class="keyword">goto</span> clear;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    patch_result = hpatch_lite_patch(listener, new_size, patch_cache, (<span class="type">hpi_size_t</span>)patch_cache_size);</span><br><span class="line">    <span class="keyword">if</span> (patch_result != hpi_TRUE)</span><br><span class="line">    &#123;</span><br><span class="line">        result = HPATCHI_PATCH_ERROR;</span><br><span class="line">        <span class="keyword">goto</span> clear;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">clear:</span><br><span class="line">    <span class="keyword">if</span> (pmem)</span><br><span class="line">    &#123;</span><br><span class="line">        hpi_free(pmem);</span><br><span class="line">        pmem = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span>hpatch_demo.c</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;hpatch_impl.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">hpatchi_instance_t</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">hpatchi_listener_t</span> parent;</span><br><span class="line">    <span class="type">int</span> patch_file_offset;</span><br><span class="line">    <span class="type">int</span> patch_file_len;</span><br><span class="line">    <span class="type">int</span> patch_read_pos;</span><br><span class="line">    <span class="type">int</span> newer_file_len;</span><br><span class="line">    <span class="type">int</span> newer_write_pos;</span><br><span class="line">&#125; <span class="type">hpatchi_instance_t</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥æ•°æ®æµçš„å½¢å¼è¯»å–ç©ºæ–‡ä»¶</span></span><br><span class="line">hpi_BOOL _do_read_empty(<span class="keyword">struct</span> <span class="type">hpatchi_listener_t</span> *listener, <span class="type">hpi_pos_t</span> addr, hpi_byte *data, <span class="type">hpi_size_t</span> size)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">memset</span>(data, <span class="number">0</span>, size);</span><br><span class="line">    <span class="keyword">return</span> hpi_TRUE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥æ•°æ®æµçš„å½¢å¼è¯»å–æ—§ç¨‹åº</span></span><br><span class="line">hpi_BOOL _do_read_old(<span class="keyword">struct</span> <span class="type">hpatchi_listener_t</span> *listener, <span class="type">hpi_pos_t</span> addr, hpi_byte *data, <span class="type">hpi_size_t</span> size)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> result = update_fetch_runapp(addr, data, size);</span><br><span class="line">    <span class="keyword">if</span> (result &lt; <span class="number">0</span>) &#123; <span class="keyword">return</span> hpi_FALSE; &#125;</span><br><span class="line">    <span class="keyword">return</span> hpi_TRUE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥æ•°æ®æµçš„å½¢å¼è¯»å–è¡¥ä¸åŒ…ï¼ˆç”±ç”¨æˆ·è®°å½•æ•°æ®æµçš„ä½ç½®ï¼šè¯»åˆ°å“ªå„¿äº†ï¼‰</span></span><br><span class="line">hpi_BOOL _do_read_patch(hpi_TInputStreamHandle input_stream, hpi_byte *data, <span class="type">hpi_size_t</span> *size)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">hpatchi_instance_t</span> *instance = (<span class="type">hpatchi_instance_t</span> *)input_stream;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ•°æ®æµç»“æŸæ—¶éœ€è¦å°† *size ç½®ä¸ºå½“å‰æ‰€è¯»æ•°æ®çš„å®é™…é•¿åº¦ï¼ˆ*size == decompress_cache_sizeï¼‰</span></span><br><span class="line">    <span class="keyword">if</span> ((instance-&gt;patch_read_pos + *size) &gt; instance-&gt;patch_file_len)</span><br><span class="line">    &#123;</span><br><span class="line">        *size = instance-&gt;patch_file_len - instance-&gt;patch_read_pos;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> result = update_fetch_backup(instance-&gt;patch_file_offset + instance-&gt;patch_read_pos, data, *size);</span><br><span class="line">    <span class="keyword">if</span> (result &lt; <span class="number">0</span>) &#123; <span class="keyword">return</span> hpi_FALSE; &#125;</span><br><span class="line">    instance-&gt;patch_read_pos += *size;</span><br><span class="line">    <span class="keyword">return</span> hpi_TRUE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥æ•°æ®æµçš„å½¢å¼å†™å…¥å·®åˆ†è¿˜åŸçš„æ•°æ®ï¼ˆç”±ç”¨æˆ·è®°å½•æ•°æ®æµçš„ä½ç½®ï¼šå†™åˆ°å“ªå„¿äº†ï¼‰</span></span><br><span class="line">hpi_BOOL _do_write_new(<span class="keyword">struct</span> <span class="type">hpatchi_listener_t</span> *listener, <span class="type">const</span> hpi_byte *data, <span class="type">hpi_size_t</span> size)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">hpatchi_instance_t</span> *instance = (<span class="type">hpatchi_instance_t</span> *)listener;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> percent = instance-&gt;newer_write_pos * <span class="number">100</span> / instance-&gt;newer_file_len;</span><br><span class="line">    <span class="keyword">if</span> (percent % <span class="number">5</span> == <span class="number">0</span> &amp;&amp; percent &lt; <span class="number">100</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        rt_kprintf(<span class="string">&quot;\b\b\b%02d%%&quot;</span>, percent);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> result = update_write_decode(instance-&gt;newer_write_pos, (<span class="type">unsigned</span> <span class="type">char</span> *)data, size);</span><br><span class="line">    <span class="keyword">if</span> (result &lt; <span class="number">0</span>) &#123; <span class="keyword">return</span> hpi_FALSE; &#125;</span><br><span class="line">    instance-&gt;newer_write_pos += size;</span><br><span class="line">    <span class="keyword">return</span> hpi_TRUE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">demo</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">hpatchi_instance_t</span> instance = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    instance.patch_file_offset  = update_pack-&gt;header_size; <span class="comment">// ä»å‡çº§åŒ…çš„åŒ…å¤´ä¸­è·å–å·®åˆ†æ•°æ®çš„åœ°å€</span></span><br><span class="line">    instance.patch_file_len     = update_pack-&gt;remain_size; <span class="comment">// ä»å‡çº§åŒ…çš„åŒ…å¤´ä¸­è·å–å·®åˆ†æ•°æ®çš„å¤§å°</span></span><br><span class="line">    instance.newer_file_len     = update_pack-&gt;newapp_size; <span class="comment">// ä»å‡çº§åŒ…çš„åŒ…å¤´ä¸­è·å–æ–°ç‰ˆç¨‹åºçš„å¤§å°</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å·®åˆ†å…¨é‡å‡çº§</span></span><br><span class="line">    &#123;</span><br><span class="line">        hpi_patch(&amp;instance.parent, <span class="number">128</span>, <span class="number">128</span>, _do_read_patch, _do_read_empty, _do_write_new);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å·®åˆ†å¢é‡å‡çº§</span></span><br><span class="line">    &#123;</span><br><span class="line">        hpi_patch(&amp;instance.parent, <span class="number">128</span>, <span class="number">128</span>, _do_read_patch, _do_read_old, _do_write_new);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ€è¿‘å‘ç°äº†ä¸€ä¸ªä¼˜ç§€çš„å·®åˆ†è¿˜åŸç®—æ³•ï¼šhdiff &amp;amp; hpatchï¼Œå®ƒé€šè¿‡æ•°æ®æµçš„æ€æƒ³æŠŠ O(n) çš„ç©ºé—´å¤æ‚åº¦è½¬å«ç»™äº†ç¡¬ç›˜ï¼Œä½¿å¾—å†…å­˜çš„å¼€é”€æä½ï¼Œéå¸¸é€‚åˆåº”ç”¨äºåµŒå…¥å¼é¢†åŸŸã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/sulfurandcu.io/cloidefbf00hzv0rqa7zg722r/diff.tools.compare.png&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="å¼€å‘ç¬”è®°" scheme="https://sulfurandcu.github.io/sulfurandcu.io/categories/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="åµŒå…¥å¼è½¯ä»¶å¼€å‘" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="åœ¨çº¿å‡çº§" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%9C%A8%E7%BA%BF%E5%8D%87%E7%BA%A7/"/>
    
    <category term="å·®åˆ†è¿˜åŸç®—æ³•" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%B7%AE%E5%88%86%E8%BF%98%E5%8E%9F%E7%AE%97%E6%B3%95/"/>
    
    <category term="å¢é‡å‡çº§" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%A2%9E%E9%87%8F%E5%8D%87%E7%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>åµŒå…¥å¼ IAP åœ¨çº¿å‡çº§ï¼ç¨‹åºè®¾è®¡</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/clnyhr2n4005410rqfyjmedv1.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/clnyhr2n4005410rqfyjmedv1.html</id>
    <published>2023-09-30T16:00:03.000Z</published>
    <updated>2023-09-30T16:00:03.000Z</updated>
    
    <content type="html"><![CDATA[<pre class="mermaid">flowchart TB%%{init: { &quot;flowchart&quot;: { &quot;curve&quot;: &quot;basis&quot; } } }%%A1(å¼•å¯¼ç¨‹åºä¹‹æµç¨‹)--&gt;B1(......)--&gt;C1(è·³è½¬è‡³åº”ç”¨ç¨‹åº)A2(åº”ç”¨ç¨‹åºä¹‹æµç¨‹)--&gt;B2(......)--&gt;C2(è·³è½¬è‡³å¼•å¯¼ç¨‹åº)</pre><span id="more"></span><h2 id="å¼•å¯¼ç¨‹åºæµç¨‹"><a href="#å¼•å¯¼ç¨‹åºæµç¨‹" class="headerlink" title="å¼•å¯¼ç¨‹åºæµç¨‹"></a>å¼•å¯¼ç¨‹åºæµç¨‹</h2><pre class="mermaid">flowchart TB%%{init: { &quot;flowchart&quot;: { &quot;curve&quot;: &quot;basis&quot; } } }%%PowerReset(è®¾å¤‡ä¸Šç”µå¤ä½)--&gt;IapStart(å¼•å¯¼ç¨‹åºå¼€å§‹)--&gt;IapCheckApp[æ£€æŸ¥åº”ç”¨ç¨‹åº&lt;br&gt;æ£€æŸ¥å‡çº§æ ‡è¯†&lt;br&gt;æ£€æŸ¥åœç•™æ ‡è¯†]--&gt;IapIsAppValid{ç¨‹åºæœ‰æ•ˆ&lt;br&gt;æ— éœ€å‡çº§&lt;br&gt;æ— éœ€åœç•™}IapIsAppValid--æ˜¯--&gt;IapJumpToApp[è·³è½¬è¿›å…¥åº”ç”¨ç¨‹åº]--&gt;IapOver(å¼•å¯¼ç¨‹åºç»“æŸ)IapIsAppValid--å¦--&gt;IapInit[é…ç½®ç›¸å…³å¤–è®¾]--&gt;IapCatchKeyboardInput{æ£€æµ‹æŒ‰é”®}IapCatchKeyboardInput--æŒç»­ä¸€ç§’--&gt;IapCatchKeyboardInputIapCatchKeyboardInput--æœ‰å›è½¦é”®æŒ‰ä¸‹&lt;br&gt;æˆ–&lt;br&gt;å‡çº§æ§åˆ¶åŒºä¸­çš„åœç•™æ ‡è¯†ç«‹èµ·---&gt;IapSetStayFlag[ç½®ä½åœç•™æ ‡è¯†]--&gt;IapIsHaveUpdateData{æ˜¯å¦å­˜åœ¨&lt;br&gt;å‡çº§æ•°æ®}IapCatchKeyboardInput--è¶…æ—¶--&gt;IapIsHaveUpdateDataIapIsHaveUpdateData--å¦---&gt;IapIsNeedWait{æ˜¯å¦åœç•™}IapIsNeedWait--å¦--&gt;IapBeforeJumpIapIsNeedWait--æ˜¯--&gt;IapWait{å»¶æ—¶è®¡æ•°}IapWait--æŒç»­ä¸€åˆ†é’Ÿ--&gt;IapWaitIapWait--è¶…æ—¶--------&gt;IapBeforeJumpIapIsHaveUpdateData--æ˜¯--&gt;IapDoUpdate[æ‰§è¡Œå‡çº§æ“ä½œ]---&gt;IapIsUpdateSucc{å‡çº§æˆåŠŸ}IapIsUpdateSucc--æ˜¯---&gt;IapBeforeJump[å…³é—­å¤–è®¾å’Œä¸­æ–­]--&gt;IapJumpToAppIapIsUpdateSucc--å¦--&gt;IapIsAppExist{ç¨‹åºå®Œå¥½}IapIsAppExist--æ˜¯--&gt;IapBeforeJumpIapIsAppExist--å¦--&gt;IapComm[ç•™åœ¨å¼•å¯¼ç¨‹åº&lt;br&gt;æ‰§è¡Œäº¤äº’ä»»åŠ¡]--&gt;IapIsRecvDone{æ”¶åˆ°å‡çº§åŒ…}IapIsRecvDone--å¦--&gt;IapCommIapIsRecvDone--æ˜¯--&gt;IapDoUpdate</pre><h2 id="åº”ç”¨ç¨‹åºæµç¨‹"><a href="#åº”ç”¨ç¨‹åºæµç¨‹" class="headerlink" title="åº”ç”¨ç¨‹åºæµç¨‹"></a>åº”ç”¨ç¨‹åºæµç¨‹</h2><pre class="mermaid">flowchart TB%%{init: { &quot;flowchart&quot;: { &quot;curve&quot;: &quot;basis&quot; } } }%%AppStart(åº”ç”¨ç¨‹åºå¼€å§‹)--&gt;AppRemap[é‡å®šå‘ä¸­æ–­å‘é‡è¡¨]--&gt;AppInit[é…ç½®ç›¸å…³å¤–è®¾]--&gt;AppTask[æ‰§è¡Œåº”ç”¨åŠŸèƒ½&lt;br&gt;æ‰§è¡Œé€šä¿¡ä»»åŠ¡]--&gt;AppIsRecvDone{æ”¶åˆ°å‡çº§åŒ…}AppIsRecvDone--å¦--&gt;AppTaskAppIsRecvDone--æ˜¯--&gt;AppSetAppInvalid[è®¾ç½®å‡çº§æ ‡è¯†]--&gt;AppBeforeJump[å…³é—­å¤–è®¾å’Œä¸­æ–­]--&gt;AppJumpToIap[é‡å¯è¿›å…¥å¼•å¯¼ç¨‹åºï½œè·³è½¬è¿›å…¥å¼•å¯¼ç¨‹åº]--&gt;AppOver(åº”ç”¨ç¨‹åºç»“æŸ)</pre>]]></content>
    
    
    <summary type="html">&lt;pre class=&quot;mermaid&quot;&gt;
flowchart TB
%%{init: { &amp;quot;flowchart&amp;quot;: { &amp;quot;curve&amp;quot;: &amp;quot;basis&amp;quot; } } }%%
A1(å¼•å¯¼ç¨‹åºä¹‹æµç¨‹)--&amp;gt;B1(......)--&amp;gt;C1(è·³è½¬è‡³åº”ç”¨ç¨‹åº)
A2(åº”ç”¨ç¨‹åºä¹‹æµç¨‹)--&amp;gt;B2(......)--&amp;gt;C2(è·³è½¬è‡³å¼•å¯¼ç¨‹åº)
&lt;/pre&gt;</summary>
    
    
    
    <category term="å¼€å‘ç¬”è®°" scheme="https://sulfurandcu.github.io/sulfurandcu.io/categories/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="åµŒå…¥å¼è½¯ä»¶å¼€å‘" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="åœ¨çº¿å‡çº§" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%9C%A8%E7%BA%BF%E5%8D%87%E7%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>åµŒå…¥å¼ IAP åœ¨çº¿å‡çº§ï¼æ•´ä½“æ–¹æ¡ˆ</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/clnyhr2n3004y10rq322c66uu.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/clnyhr2n3004y10rq322c66uu.html</id>
    <published>2023-09-30T16:00:02.000Z</published>
    <updated>2023-09-30T16:00:02.000Z</updated>
    
    <content type="html"><![CDATA[<pre class="mermaid">flowchart LR%%{init: { &quot;flowchart&quot;: { &quot;curve&quot;: &quot;basis&quot; } } }%%    full_update(å…¨é‡å·®åˆ†åŒ…)    diff_update(å¢é‡å·®åˆ†åŒ…)    app(å¤§ç¨‹åº)    iap(å°ç¨‹åº)    dnload(æ•°æ®æš‚å­˜åŒº)    backup(æ•°æ®æš‚å­˜åŒº)    runapp(ç¨‹åºè¿è¡ŒåŒº)    decode(æ•°æ®è§£ç åŒº)    full_update--&gt;app    full_update--&gt;iap    diff_update--&gt;app    diff_update--&gt;iap    app--&gt;dnload    iap--&gt;dnload    dnload--è·³è½¬è‡³å°ç¨‹åº--&gt;backup    backup-.ãˆ£&lt;br&gt;å›æ»šæ—§ç¨‹åº.-&gt;runapp    backup--ãˆ &lt;br&gt;è§£ç å‡çº§åŒ…--&gt;decode    decode--ãˆ¢&lt;br&gt;å†™å…¥æ–°ç¨‹åº--&gt;runapp    runapp--ãˆ¡&lt;br&gt;å¤‡ä»½æ—§ç¨‹åº--&gt;backup</pre><span id="more"></span><h2 id="å½“å‰æ–¹æ¡ˆ"><a href="#å½“å‰æ–¹æ¡ˆ" class="headerlink" title="å½“å‰æ–¹æ¡ˆ"></a>å½“å‰æ–¹æ¡ˆ</h2><ul><li>æ”¯æŒå·®åˆ†å‡çº§ï¼ˆhdiffpatchliteï¼‰</li><li>æ”¯æŒå‘½ä»¤äº¤äº’</li><li>æ”¯æŒ Y-Modem</li><li>æ”¯æŒå¼‚å¸¸å›æ»š</li><li>æ”¯æŒå¿«é€Ÿå¯åŠ¨</li><li>ç©ºé—´å ç”¨æƒ…å†µï¼ˆ40KB + 1ä¸ªæ‰‡åŒºï¼‰<ul><li>ç›®å‰ç¨‹åºå¤§å°ä¸º 31.5KBï¼Œå»ºè®®é¢„ç•™ 40KB çš„ç©ºé—´ã€‚</li><li>å¦å¤–è¿˜éœ€è¦ä¸€ä¸ªæ‰‡åŒºä½œä¸ºå¼•å¯¼ç¨‹åºä¸åº”ç”¨ç¨‹åºçš„å…±äº«ç©ºé—´ï¼Œå”¤ä½œã€Œå‡çº§æ§åˆ¶åŒºã€ã€‚</li><li>å¦‚æœå¼€å¯å¿«é€Ÿå¯åŠ¨ï¼Œå‡çº§æ§åˆ¶åŒºå¿…é¡»æ”¾åœ¨å†…éƒ¨ FLASH ä¸­ã€‚</li><li>å¦‚æœå…³é—­å¿«é€Ÿå¯åŠ¨ï¼Œå‡çº§æ§åˆ¶åŒºå¯ä»¥æ”¾åœ¨å†…éƒ¨ FLASH ä¸­ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨å¤–éƒ¨ FLASH ä¸­ã€‚</li></ul></li></ul><div class="note info no-icon"><p><strong>å¿«é€Ÿå¯åŠ¨ï¼š</strong>ä¸Šç”µåé¦–å…ˆæ£€æŸ¥åº”ç”¨ç¨‹åºçš„æœ‰æ•ˆæ€§ï¼Œæœ‰æ•ˆåˆ™ç«‹å³è·³è½¬ï¼Œæ— æ•ˆåˆ™ç•™åœ¨å¼•å¯¼ç¨‹åºä¸­ã€‚ä¼˜ç‚¹æ˜¯å¯åŠ¨é€Ÿåº¦å¿«ï¼Œä½†ä¸æ”¯æŒæŒ‰å›è½¦é”®ç•™åœ¨å¼•å¯¼ç¨‹åºã€‚</p></div><h2 id="ç¨‹åºåˆ†å·¥"><a href="#ç¨‹åºåˆ†å·¥" class="headerlink" title="ç¨‹åºåˆ†å·¥"></a>ç¨‹åºåˆ†å·¥</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œäººä¸èƒ½è¸©ç€è‡ªå·±çš„è„šä¸Šå¤©ï¼Œåº”ç”¨ç¨‹åºå‡çº§äº¦æ˜¯å¦‚æ­¤ï¼Œæ‰€ä»¥éœ€è¦å€ŸåŠ© bootloader æ¥å®Œæˆè‡ªèº«çš„æ›¿æ¢æ“ä½œã€‚</p><table><thead><tr><th align="center">åˆ†å·¥æ¡ç›®</th><th align="center">å¼•å¯¼ç¨‹åº</th><th align="center">åº”ç”¨ç¨‹åº</th></tr></thead><tbody><tr><td align="center">ç¨‹åºè§£ç </td><td align="center">âœ”</td><td align="center"></td></tr><tr><td align="center">å¤‡ä»½å›æ»š</td><td align="center">âœ”</td><td align="center"></td></tr><tr><td align="center">ç¨‹åºæ›¿æ¢</td><td align="center">âœ”</td><td align="center"></td></tr><tr><td align="center">å‘½ä»¤äº¤äº’</td><td align="center">âœ”</td><td align="center">âœ”</td></tr><tr><td align="center">æ•°æ®å­˜å–</td><td align="center">âœ”</td><td align="center">âœ”</td></tr><tr><td align="center">æ•°æ®ä¼ è¾“</td><td align="center">åŸºç¡€çš„é€šä¿¡åè®®æ ˆ</td><td align="center">å®Œå¤‡çš„é€šä¿¡åè®®æ ˆ</td></tr></tbody></table><p>åº”ç”¨ç¨‹åºï¼ˆå¤§ç¨‹åºï¼‰é›†æˆå®Œå¤‡çš„é€šä¿¡åè®®æ ˆï¼Œåªè´Ÿè´£æ¥æ”¶ã€å­˜å‚¨å’Œæ ¡éªŒå‡çº§åŒ…ã€‚</p><p>å¼•å¯¼ç¨‹åºï¼ˆå°ç¨‹åºï¼‰é›†æˆåŸºç¡€çš„é€šä¿¡åè®®æ ˆï¼Œæ²¡æœ‰åº”ç”¨ç¨‹åºæˆ–åº”ç”¨ç¨‹åºå¼‚å¸¸æ—¶ä¹Ÿèƒ½è¿›è¡Œå‡çº§ã€‚</p><h2 id="å­˜å‚¨ç©ºé—´"><a href="#å­˜å‚¨ç©ºé—´" class="headerlink" title="å­˜å‚¨ç©ºé—´"></a>å­˜å‚¨ç©ºé—´</h2><h3 id="1"><a href="#1" class="headerlink" title="#1"></a>#1</h3><table><thead><tr><th align="center">å†…éƒ¨flashå­˜å‚¨ç©ºé—´åˆ’åˆ†</th><th align="center">å†…éƒ¨flashå­˜å‚¨ç©ºé—´ç»†åˆ†</th></tr></thead><tbody><tr>    <td align="center" rowspan="2">å¼•å¯¼ç¨‹åºåŒº</td>    <td align="center">ä¸­æ–­å‘é‡è¡¨</td></tr><tr>    <td align="center">å¼•å¯¼ç¨‹åº</td></tr><tr>    <td align="center">å‡çº§æ§åˆ¶åŒº</td>    <td align="center">å‡çº§çŠ¶æ€</td></tr><tr>    <td align="center" rowspan="2">åº”ç”¨ç¨‹åºåŒº</td>    <td align="center">é‡å®šå‘çš„ä¸­æ–­å‘é‡è¡¨</td></tr><tr>    <td align="center">è¿è¡Œä¸­çš„æ—§ç¨‹åº</td></tr></tbody><thead><tr><th align="center">å¤–éƒ¨flashå­˜å‚¨ç©ºé—´åˆ’åˆ†</th><th align="center">å¤–éƒ¨flashå­˜å‚¨ç©ºé—´ç»†åˆ†</th></tr></thead><tbody><tr>    <td align="center">æ•°æ®æš‚å­˜åŒº</td>    <td align="center">æ¥æ”¶åˆ°çš„å‡çº§åŒ…<br>å¤‡ä»½æ¥çš„æ—§ç¨‹åº</td></tr></tbody><tbody><tr>    <td align="center">æ•°æ®è§£ç åŒº</td>    <td align="center">è§£ç åçš„æ–°ç¨‹åº</td></tr></tbody></table><div class="note info no-icon"><p>é€šç”¨æ–¹æ¡ˆ</p></div><h3 id="2"><a href="#2" class="headerlink" title="#2"></a>#2</h3><table><thead><tr><th align="center">å†…éƒ¨flashå­˜å‚¨ç©ºé—´åˆ’åˆ†</th><th align="center">å†…éƒ¨flashå­˜å‚¨ç©ºé—´ç»†åˆ†</th></tr></thead><tbody><tr>    <td align="center" rowspan="2">å¼•å¯¼ç¨‹åºåŒº</td>    <td align="center">ä¸­æ–­å‘é‡è¡¨</td></tr><tr>    <td align="center">å¼•å¯¼ç¨‹åº</td></tr><tr>    <td align="center">å‡çº§æ§åˆ¶åŒº</td>    <td align="center">å‡çº§çŠ¶æ€</td></tr><tr>    <td align="center" rowspan="2">åº”ç”¨ç¨‹åºåŒº</td>    <td align="center">é‡å®šå‘çš„ä¸­æ–­å‘é‡è¡¨</td></tr><tr>    <td align="center">è¿è¡Œä¸­çš„æ—§ç¨‹åº</td></tr></tbody><tbody><tr>    <td align="center">æ•°æ®æš‚å­˜åŒº</td>    <td align="center">æ¥æ”¶åˆ°çš„å‡çº§åŒ…<br>å¤‡ä»½æ¥çš„æ—§ç¨‹åº</td></tr></tbody><tbody><tr>    <td align="center">æ•°æ®è§£ç åŒº</td>    <td align="center">è§£ç åçš„æ–°ç¨‹åº</td></tr></tbody></table><div class="note info no-icon"><p>ä½æˆæœ¬äº§å“ï¼ˆæ²¡æœ‰å¤–éƒ¨å­˜å‚¨èŠ¯ç‰‡ï¼‰çš„æ–¹æ¡ˆ</p></div><h3 id="3"><a href="#3" class="headerlink" title="#3"></a>#3</h3><table><thead><tr><th align="center">å†…éƒ¨flashå­˜å‚¨ç©ºé—´åˆ’åˆ†</th><th align="center">å†…éƒ¨flashå­˜å‚¨ç©ºé—´ç»†åˆ†</th></tr></thead><tbody><tr>    <td align="center" rowspan="2">å¼•å¯¼ç¨‹åºåŒº</td>    <td align="center">ä¸­æ–­å‘é‡è¡¨</td></tr><tr>    <td align="center">å¼•å¯¼ç¨‹åº</td></tr><tr>    <td align="center">å‡çº§æ§åˆ¶åŒº</td>    <td align="center">å‡çº§çŠ¶æ€</td></tr><tr>    <td align="center" rowspan="2">åº”ç”¨ç¨‹åºåŒº<br>ï¼ˆï¼¡ï¼‰</td>    <td align="center">é‡å®šå‘çš„ä¸­æ–­å‘é‡è¡¨</td></tr><tr>    <td align="center">ä¸Šä¸€ç‰ˆçš„æ—§ç¨‹åº</td></tr><tr>    <td align="center" rowspan="2">åº”ç”¨ç¨‹åºåŒº<br>ï¼ˆï¼¢ï¼‰</td>    <td align="center">é‡å®šå‘çš„ä¸­æ–­å‘é‡è¡¨</td></tr><tr>    <td align="center">è¿è¡Œä¸­çš„æ—§ç¨‹åº</td></tr></tbody><thead><tr><th align="center">å¤–éƒ¨flashå­˜å‚¨ç©ºé—´åˆ’åˆ†</th><th align="center">å¤–éƒ¨flashå­˜å‚¨ç©ºé—´ç»†åˆ†</th></tr></thead><tbody><tr>    <td align="center">æ•°æ®æš‚å­˜åŒº</td>    <td align="center">æ¥æ”¶åˆ°çš„å‡çº§åŒ…</td></tr></tbody></table><div class="note danger no-icon"><p><strong>ä¸æ¨èçš„æ–¹æ¡ˆ</strong>ï¼šä»£ç é‡ä¸èƒ½è¶…è¿‡ FLASH çš„ä¸€åŠï¼Œå¹¶ä¸”åœ¨ç¼–è¯‘é˜¶æ®µè¦å°†åº”ç”¨ç¨‹åºï¼¡å’Œåº”ç”¨ç¨‹åºï¼¢é“¾æ¥åˆ°ä¸åŒçš„åœ°å€ç©ºé—´ï¼ŒåæœŸéš¾ä»¥ç»´æŠ¤ã€‚</p></div><h2 id="å¢é‡å‡çº§"><a href="#å¢é‡å‡çº§" class="headerlink" title="å¢é‡å‡çº§"></a>å¢é‡å‡çº§</h2><p>å…¨é‡å‡çº§ç”±äºè¦ä¼ è¾“æ–°ç‰ˆç¨‹åºçš„å®Œæ•´é•œåƒï¼Œå› æ­¤å‡çº§æ—¶é—´é€šå¸¸è¾ƒé•¿ï¼Œå‡çº§å¤±è´¥çš„æ¦‚ç‡ä¹Ÿæ›´å¤§ã€‚é‚£ä¹ˆèƒ½ä¸èƒ½åªä¼ é€å·®å¼‚æ•°æ®å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥ã€‚è¿™ç§æŠ€æœ¯è¢«ç§°ä½œå¢é‡å‡çº§&#x2F;å·®é‡å‡çº§&#x2F;å·®åˆ†å‡çº§ã€‚æˆ‘ä¸ªäººæ›´å–œæ¬¢å¢é‡å‡çº§è¿™ä¸ªå«æ³•ï¼Œå› ä¸ºå¢é‡ä¸€å®šæ˜¯å·®åˆ†ï¼Œä½†æ˜¯å·®åˆ†ä¸ä¸€å®šæ˜¯å¢é‡ã€‚</p><p>å¢é‡å‡çº§ç¡®å®é™ä½äº†ä¼ è¾“è¿‡ç¨‹ä¸­çš„æ•°æ®é‡ï¼Œä½†ä¹Ÿå¸¦æ¥äº†ç‰ˆæœ¬ç®¡ç†å¤æ‚çš„é—®é¢˜ï¼Œæ‰€ä»¥è¯´ä¸èƒ½å› ä¸ºæœ‰äº†å¢é‡å‡çº§ï¼Œå…¨é‡å‡çº§å°±ä¸ç”¨äº†ã€‚</p><table><tbody><tr>    <td align="center" rowspan="3">å…¨é‡å‡çº§</td>    <td align="center">å®Œæ•´å…¨é‡å‡çº§</td>    <td align="center">ï¼ˆâœ˜ï¼‰</td></tr><tr>    <td align="center">å‹ç¼©å…¨é‡å‡çº§</td>    <td align="center">ï¼ˆâœ˜ï¼‰</td></tr><tr>    <td align="center">å·®åˆ†å…¨é‡å‡çº§</td>    <td align="center">ï¼ˆâœ”ï¼‰</td></tr><tr>    <td align="center">å¢é‡å‡çº§</td>    <td align="center">å·®åˆ†å¢é‡å‡çº§</td>    <td align="center">ï¼ˆâœ”ï¼‰</td></tr></tbody></table><h2 id="æ§åˆ¶åˆ†åŒº"><a href="#æ§åˆ¶åˆ†åŒº" class="headerlink" title="æ§åˆ¶åˆ†åŒº"></a>æ§åˆ¶åˆ†åŒº</h2><p>ä¸ºäº†æ–¹ä¾¿å®ç°åº”ç”¨ç¨‹åºä¸å¼•å¯¼ç¨‹åºä¹‹é—´çš„ç›¸äº’åä½œï¼Œéœ€è¦å•ç‹¬æ‹¿å‡ºä¸€ä¸ªæ‰‡åŒºçš„ç©ºé—´ä½œä¸ºå‡çº§æ§åˆ¶åŒºã€‚</p><ul><li>å¦‚æœå¼€å¯å¿«é€Ÿå¯åŠ¨ï¼Œå‡çº§æ§åˆ¶åŒºå¿…é¡»æ”¾åœ¨å†…éƒ¨ FLASH ä¸­ã€‚</li><li>å¦‚æœå…³é—­å¿«é€Ÿå¯åŠ¨ï¼Œå‡çº§æ§åˆ¶åŒºå¯ä»¥æ”¾åœ¨å†…éƒ¨ FLASH ä¸­ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨å¤–éƒ¨ FLASH ä¸­ã€‚</li></ul><p><strong>å‡çº§æ§åˆ¶åŒºçš„æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š</strong></p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span> <span class="title">update_step_t</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    update_step_verify = <span class="number">0x7FFFFFFF</span>,</span><br><span class="line">    update_step_decode = <span class="number">0x0000FFFF</span>,</span><br><span class="line">    update_step_backup = <span class="number">0x00000FFF</span>,</span><br><span class="line">    update_step_docopy = <span class="number">0x000000FF</span>,</span><br><span class="line">    update_step_revert = <span class="number">0x0000000F</span>,</span><br><span class="line">    update_step_finish = <span class="number">0x00000000</span>,</span><br><span class="line">&#125; <span class="type">update_step_t</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">update_ctrl_t</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">uint32_t</span> update_step; <span class="comment">// å‡çº§é˜¶æ®µï¼šæŒ‡ç¤ºå‡çº§æµç¨‹æ‰§è¡Œåˆ°äº†å“ªä¸ªé˜¶æ®µ</span></span><br><span class="line">    <span class="type">uint32_t</span> stayin_flag; <span class="comment">// åœç•™æ ‡è¯†ï¼š0/-1è¡¨ç¤ºåœ¨å¼•å¯¼ç¨‹åºä¸­ä¸ä½œåœç•™</span></span><br><span class="line"></span><br><span class="line">    <span class="type">uint32_t</span> backup_size; <span class="comment">// å¼•å¯¼ç¨‹åºå†…éƒ¨å¤‡ä»½å’Œå›æ»šç”¨çš„å˜é‡ï¼ˆç¦æ­¢åœ¨åº”ç”¨ç¨‹åºä¸­ä¿®æ”¹ï¼‰</span></span><br><span class="line">    <span class="type">uint32_t</span> backup_hash; <span class="comment">// å¼•å¯¼ç¨‹åºå†…éƒ¨å¤‡ä»½å’Œå›æ»šç”¨çš„å˜é‡ï¼ˆç¦æ­¢åœ¨åº”ç”¨ç¨‹åºä¸­ä¿®æ”¹ï¼‰</span></span><br><span class="line">&#125; <span class="type">update_ctrl_t</span>;</span><br></pre></td></tr></table></figure><h2 id="å‡çº§åŒ…å¤´"><a href="#å‡çº§åŒ…å¤´" class="headerlink" title="å‡çº§åŒ…å¤´"></a>å‡çº§åŒ…å¤´</h2><p>ä¸ºäº†ä¿è¯åœ¨çº¿å‡çº§èƒ½å¤Ÿé¡ºåˆ©è¿›è¡Œï¼Œé™¤äº†å‡çº§æ•°æ®ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜è¦å‘è®¾å¤‡å‘é€ä¸€äº›é™„åŠ ä¿¡æ¯ï¼Œè¿™äº›é™„åŠ ä¿¡æ¯é€šå¸¸è¢«æ·»åŠ è‡³å‡çº§æ–‡ä»¶çš„å¤´éƒ¨ã€‚</p><table><tbody><tr>    <td align="center">åŒ…å¤´é•¿åº¦</td>    <td align="center">04B</td>    <td align="center">ä»ã€ŒåŒ…å¤´é•¿åº¦ã€å¼€å§‹è®¡ç®—</td></tr><tr>    <td align="center">åŒ…å¤´æ ¡éªŒ</td>    <td align="center">04B</td>    <td align="center">ä»ã€Œæ•°æ®é•¿åº¦ã€å¼€å§‹è®¡ç®—</td></tr><tr>    <td align="center">æ•°æ®é•¿åº¦</td>    <td align="center">04B</td>    <td align="center">ä»ã€Œå‰©ä½™æ•°æ®ã€å¼€å§‹è®¡ç®—</td></tr><tr>    <td align="center">æ•°æ®æ ¡éªŒ</td>    <td align="center">04B</td>    <td align="center">ä»ã€Œå‰©ä½™æ•°æ®ã€å¼€å§‹è®¡ç®—</td></tr><tr>    <td align="center">ã€€</td>    <td align="center"></td>    <td align="center"></td></tr><tr>    <td align="center">äº§å“ä»£ç </td>    <td align="center">08B</td>    <td align="center">é¿å…ç»™é”™è¯¯çš„è®¾å¤‡å‡çº§</td></tr><tr>    <td align="center">äº§å“ä»£ç </td>    <td align="center">08B</td>    <td align="center">é¿å…ç»™é”™è¯¯çš„è®¾å¤‡å‡çº§</td></tr><tr>    <td align="center">ã€€</td>    <td align="center"></td>    <td align="center"></td></tr><tr>    <td align="center">æ—§ç¨‹åº LEN å€¼</td>    <td align="center">04B</td>    <td align="center"> 0xFFFFFFFF:å…¨é‡é•œåƒåŒ…<br>0x00000000:å…¨é‡å·®åˆ†åŒ…<br>0xXXXXXXXX:å¢é‡å·®åˆ†åŒ…</td></tr><tr>    <td align="center">æ–°ç¨‹åº LEN å€¼</td>    <td align="center">04B</td>    <td align="center"></td></tr><tr>    <td align="center">æ—§ç¨‹åº CRC å€¼</td>    <td align="center">04B</td>    <td align="center"></td></tr><tr>    <td align="center">æ–°ç¨‹åº CRC å€¼</td>    <td align="center">04B</td>    <td align="center"></td></tr><tr>    <td align="center">æ—§ç¨‹åº MD5 å€¼</td>    <td align="center">16B</td>    <td align="center"></td></tr><tr>    <td align="center">æ–°ç¨‹åº MD5 å€¼</td>    <td align="center">16B</td>    <td align="center"></td></tr><tr>    <td align="center">......</td>    <td align="center"></td>    <td align="center"></td></tr><tr>    <td align="center">å¯ä»¥æŒ‰éœ€å¢åŠ </td>    <td align="center"></td>    <td align="center"></td></tr></tbody></table><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">update_pack_t</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">// åŒ…å¤´ ################################################</span></span><br><span class="line">    <span class="type">uint32_t</span> header_size;               <span class="comment">// åŒ…å¤´é•¿åº¦</span></span><br><span class="line">    <span class="type">uint32_t</span> header_hash;               <span class="comment">// åŒ…å¤´æ ¡éªŒ</span></span><br><span class="line">    <span class="type">uint32_t</span> remain_size;               <span class="comment">// åŒ…ä½“é•¿åº¦</span></span><br><span class="line">    <span class="type">uint32_t</span> remain_hash;               <span class="comment">// åŒ…ä½“æ ¡éªŒ</span></span><br><span class="line"></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> device_code[<span class="number">8</span>];       <span class="comment">// äº§å“ä»£ç </span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> device_data[<span class="number">8</span>];       <span class="comment">// äº§å“ä»£ç </span></span><br><span class="line"></span><br><span class="line">    <span class="type">uint32_t</span> oldapp_size;               <span class="comment">// æ—§ç¨‹åºå¤§å°ï¼ˆLENï¼‰ï¼ˆ0xFFFFFFFF-å…¨é‡é•œåƒåŒ…, 0x00000000-å…¨é‡å·®åˆ†åŒ…, 0xXXXXXXXX-å¢é‡å·®åˆ†åŒ…ï¼‰</span></span><br><span class="line">    <span class="type">uint32_t</span> newapp_size;               <span class="comment">// æ–°ç¨‹åºå¤§å°ï¼ˆLENï¼‰</span></span><br><span class="line">    <span class="type">uint32_t</span> oldapp_hash;               <span class="comment">// æ—§ç¨‹åºæ ¡éªŒï¼ˆCRCï¼‰</span></span><br><span class="line">    <span class="type">uint32_t</span> newapp_hash;               <span class="comment">// æ–°ç¨‹åºæ ¡éªŒï¼ˆCRCï¼‰</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> oldapp_hash_md5[<span class="number">16</span>];  <span class="comment">// æ—§ç¨‹åºæ ¡éªŒï¼ˆMD5ï¼‰</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> newapp_hash_md5[<span class="number">16</span>];  <span class="comment">// æ–°ç¨‹åºæ ¡éªŒï¼ˆMD5ï¼‰</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŒ…ä½“ ################################################</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> remain_data[];        <span class="comment">// å…¨é‡é•œåƒåŒ…ã€å…¨é‡å·®åˆ†åŒ…ã€å¢é‡å·®åˆ†åŒ…ã€‚</span></span><br><span class="line"></span><br><span class="line">&#125; <span class="type">update_pack_t</span>;</span><br></pre></td></tr></table></figure><p><strong>å˜é•¿åŒ…å¤´</strong></p><p><img src="/sulfurandcu.io/clnyhr2n3004y10rq322c66uu/update.head.scalable.png"></p><div class="note info no-icon"><p>å»ºè®®å°†å‡çº§åŒ…å¤´è®¾è®¡æˆé•¿åº¦å¯å˜çš„ï¼Œä»¥ä¾¿åœ¨æ‰©å±•åè¿˜èƒ½å…¼å®¹ç°åœºçš„æ—§è®¾å¤‡ã€‚</p></div><h2 id="å‡çº§æ–‡ä»¶"><a href="#å‡çº§æ–‡ä»¶" class="headerlink" title="å‡çº§æ–‡ä»¶"></a>å‡çº§æ–‡ä»¶</h2><div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img src="/sulfurandcu.io/clnyhr2n3004y10rq322c66uu/update.file.full.image.png"></div><div class="group-picture-column"><img src="/sulfurandcu.io/clnyhr2n3004y10rq322c66uu/update.file.full.patch.png"></div><div class="group-picture-column"><img src="/sulfurandcu.io/clnyhr2n3004y10rq322c66uu/update.file.diff.patch.png"></div></div></div><h2 id="å¦‚ä½•ç§»æ¤å¼•å¯¼ç¨‹åºï¼Ÿ"><a href="#å¦‚ä½•ç§»æ¤å¼•å¯¼ç¨‹åºï¼Ÿ" class="headerlink" title="å¦‚ä½•ç§»æ¤å¼•å¯¼ç¨‹åºï¼Ÿ"></a>å¦‚ä½•ç§»æ¤å¼•å¯¼ç¨‹åºï¼Ÿ</h2><h3 id="åˆ›å»ºä¸€ä¸ªåˆ†æ”¯"><a href="#åˆ›å»ºä¸€ä¸ªåˆ†æ”¯" class="headerlink" title="åˆ›å»ºä¸€ä¸ªåˆ†æ”¯"></a>åˆ›å»ºä¸€ä¸ªåˆ†æ”¯</h3><p>å½“å‰æ¨¡æ¿å·¥ç¨‹ç”¨çš„æ˜¯ vscode å’Œ eide æ’ä»¶ï¼Œè¯·è‡ªè¡Œæœç´¢ eide æ’ä»¶çš„ä½¿ç”¨æ–¹å¼æˆ–å‚è§ï¼š<a href="https://em-ide.com/zh-cn/docs/intro/">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><p>åŸºäºæ¨¡æ¿å·¥ç¨‹åˆ›å»ºå°ç¨‹åºåˆ†æ”¯æ˜¯æ¯”è¾ƒæ¨èçš„æ–¹å¼ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ baseline ä¸­çš„ä»£ç è‡ªè¡Œåˆ›å»ºä¸€ä¸ªä¸ä½¿ç”¨ eide çš„å·¥ç¨‹ï¼Œæ¯”å¦‚ï¼šKeilã€IARã€‚</p><h3 id="ä¿®æ”¹æ¿çº§é…ç½®ï¼ˆbsp-cfg-hï¼‰"><a href="#ä¿®æ”¹æ¿çº§é…ç½®ï¼ˆbsp-cfg-hï¼‰" class="headerlink" title="ä¿®æ”¹æ¿çº§é…ç½®ï¼ˆbsp_cfg.hï¼‰"></a>ä¿®æ”¹æ¿çº§é…ç½®ï¼ˆbsp_cfg.hï¼‰</h3><ul><li><p><strong>é…ç½® FLASH çš„ SPIx å·</strong></p>  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define BSP_USING_SPI1</span><br></pre></td></tr></table></figure></li><li><p><strong>é…ç½® RS485 çš„ URTx å·</strong></p>  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define BSP_USING_UART1</span><br></pre></td></tr></table></figure></li><li><p><strong>é…ç½® FLASH çš„é€šä¿¡å¼•è„šï¼ˆSPIï¼‰</strong></p>  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define FLASH_SPI_SCK_PRT               GPIO_PORT_X         // SCLK</span><br><span class="line">#define FLASH_SPI_SCK_PIN               GPIO_PIN_XX</span><br><span class="line">#define FLASH_SPI_SCK_FNC               GPIO_FUNC_X</span><br><span class="line">#define FLASH_SPI_TXD_PRT               GPIO_PORT_X         // MOSI</span><br><span class="line">#define FLASH_SPI_TXD_PIN               GPIO_PIN_XX</span><br><span class="line">#define FLASH_SPI_TXD_FNC               GPIO_FUNC_X</span><br><span class="line">#define FLASH_SPI_RXD_PRT               GPIO_PORT_X         // MISO</span><br><span class="line">#define FLASH_SPI_RXD_PIN               GPIO_PIN_XX</span><br><span class="line">#define FLASH_SPI_RXD_FNC               GPIO_FUNC_X</span><br></pre></td></tr></table></figure></li><li><p><strong>é…ç½® FLASH çš„ç‰‡é€‰å¼•è„š</strong></p>  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define FLASH_CSB_PIN                   GET_PIN(X, XX)</span><br><span class="line">#define FLASH_CSB_LVL                   PIN_LOW</span><br></pre></td></tr></table></figure></li><li><p><strong>é…ç½® FLASH çš„ä¾›ç”µå¼•è„šï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</strong></p>  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define FLASH_PWR_PIN</span><br><span class="line">#define FLASH_PWR_LVL</span><br></pre></td></tr></table></figure></li><li><p><strong>é…ç½® RS485 çš„é€šä¿¡å¼•è„šï¼ˆURTï¼‰</strong></p>  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define RS485_URT_TXD_PRT               GPIO_PORT_X</span><br><span class="line">#define RS485_URT_TXD_PIN               GPIO_PIN_XX</span><br><span class="line">#define RS485_URT_TXD_FNC               GPIO_FUNC_X</span><br><span class="line">#define RS485_URT_RXD_PRT               GPIO_PORT_X</span><br><span class="line">#define RS485_URT_RXD_PIN               GPIO_PIN_XX</span><br><span class="line">#define RS485_URT_RXD_FNC               GPIO_FUNC_X</span><br></pre></td></tr></table></figure></li><li><p><strong>é…ç½® RS485 çš„æ”¶å‘å¼•è„š</strong></p>  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define RS485_RTS_PIN                   GET_PIN(X, XX)</span><br><span class="line">#define RS485_RTS_LVL                   RT_SERIAL_HALF_DUPLEX_TX_HIGH // é«˜ç”µå¹³å‘é€ï½œä½ç”µå¹³å‘é€</span><br><span class="line">#define RS485_RTS_DLY                   50 // åˆ‡æ¢ä¸ºå‘é€æ¨¡å¼åè¦å»¶æ—¶çš„æ—¶é—´ï¼ˆå¾®ç§’ï¼‰</span><br></pre></td></tr></table></figure></li><li><p><strong>é…ç½® LED çš„æ§åˆ¶å¼•è„šï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</strong></p>  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define LED_PIN                         GET_PIN(X, XX)</span><br></pre></td></tr></table></figure></li><li><p><strong>é…ç½® WDT çš„å–‚ç‹—å¼•è„šï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</strong></p>  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define WDT_PIN                         GET_PIN(X, XX)</span><br></pre></td></tr></table></figure></li></ul><h3 id="ä¿®æ”¹å­˜å‚¨é…ç½®ï¼ˆfal-cfg-hï¼‰"><a href="#ä¿®æ”¹å­˜å‚¨é…ç½®ï¼ˆfal-cfg-hï¼‰" class="headerlink" title="ä¿®æ”¹å­˜å‚¨é…ç½®ï¼ˆfal_cfg.hï¼‰"></a>ä¿®æ”¹å­˜å‚¨é…ç½®ï¼ˆfal_cfg.hï¼‰</h3><ul><li><p><strong>é…ç½®å¿«é€Ÿå¯åŠ¨</strong></p>  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define BOOTLOADER_USING_FAST_MODE</span><br></pre></td></tr></table></figure></li><li><p><strong>é…ç½®å­˜å‚¨ç©ºé—´</strong></p>  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define __booter_zone_size              ( 40 * 1024)        // å¼•å¯¼åŒºï¼ˆå°ç¨‹åºï¼‰</span><br><span class="line">#define __update_zone_size              (  8 * 1024)        // æ§åˆ¶åŒº</span><br><span class="line">#define __paramt_zone_size              ( 16 * 1024)        // å‚æ•°åŒº</span><br><span class="line">#define __runapp_zone_size              (448 * 1024)        // è¿è¡ŒåŒºï¼ˆå¤§ç¨‹åºï¼‰</span><br><span class="line">#define __backup_zone_size              (448 * 1024)        // æš‚å­˜åŒº</span><br><span class="line">#define __decode_zone_size              (448 * 1024)        // è§£ç åŒº</span><br><span class="line"></span><br><span class="line">#define __update_zone_addr              (__booter_zone_size)</span><br><span class="line">#define __runapp_zone_addr              (__booter_zone_size + __update_zone_size + __paramt_zone_size)</span><br><span class="line"></span><br><span class="line">/* partition table */</span><br><span class="line">#define FAL_PART_TABLE \</span><br><span class="line">&#123;   \</span><br><span class="line">    &#123;FAL_PART_MAGIC_WORD, &quot;bootloader&quot;, &quot;chipflash&quot;,                  0, __booter_zone_size, 0&#125;, /* å¼•å¯¼åŒº */ \</span><br><span class="line">    &#123;FAL_PART_MAGIC_WORD, &quot;update&quot;,     &quot;chipflash&quot;, __update_zone_addr, __update_zone_size, 0&#125;, /* æ§åˆ¶åŒº */ \</span><br><span class="line">    &#123;FAL_PART_MAGIC_WORD, &quot;runapp&quot;,     &quot;chipflash&quot;, __runapp_zone_addr, __runapp_zone_size, 0&#125;, /* è¿è¡ŒåŒº */ /* åŸå…ˆçš„æ—§ç¨‹åº */ \</span><br><span class="line">    \</span><br><span class="line">    &#123;FAL_PART_MAGIC_WORD, &quot;backup&quot;,     &quot;norflash0&quot;,                  0, __backup_zone_size, 0&#125;, /* æš‚å­˜åŒº */ /* å¤‡ä»½çš„æ—§ç¨‹åº */ /* ä¸‹è½½çš„å‡çº§åŒ… */ \</span><br><span class="line">    &#123;FAL_PART_MAGIC_WORD, &quot;decode&quot;,     &quot;norflash0&quot;, __backup_zone_size, __decode_zone_size, 0&#125;, /* è§£ç åŒº */ /* è§£ç çš„æ–°ç¨‹åº */ \</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="å¦‚ä½•åˆ¶ä½œå‡çº§æ–‡ä»¶ï¼Ÿ"><a href="#å¦‚ä½•åˆ¶ä½œå‡çº§æ–‡ä»¶ï¼Ÿ" class="headerlink" title="å¦‚ä½•åˆ¶ä½œå‡çº§æ–‡ä»¶ï¼Ÿ"></a>å¦‚ä½•åˆ¶ä½œå‡çº§æ–‡ä»¶ï¼Ÿ</h2><h3 id="åˆ¶ä½œç°åœºç”¨çš„å…¨é‡å‡çº§åŒ…"><a href="#åˆ¶ä½œç°åœºç”¨çš„å…¨é‡å‡çº§åŒ…" class="headerlink" title="åˆ¶ä½œç°åœºç”¨çš„å…¨é‡å‡çº§åŒ…"></a>åˆ¶ä½œç°åœºç”¨çš„å…¨é‡å‡çº§åŒ…</h3><p>åœ¨ build ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ‰¹å¤„ç†è„šæœ¬ï¼š</p><figure class="highlight bat"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> ================================================================================</span><br><span class="line"><span class="built_in">echo</span> script.bat</span><br><span class="line"><span class="built_in">echo</span> ================================================================================</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> exepath=.\build</span><br><span class="line"><span class="built_in">set</span> binpath=.\build\gcc</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> product_code=XXXX0000</span><br><span class="line"><span class="built_in">set</span> product_data=<span class="number">00000000</span></span><br><span class="line"><span class="built_in">set</span> <span class="built_in">ver</span>=<span class="variable">%binpath%</span>\main.old.specified.version.bin</span><br><span class="line"><span class="built_in">set</span> old=<span class="variable">%binpath%</span>\main.old.bin</span><br><span class="line"><span class="built_in">set</span> new=<span class="variable">%binpath%</span>\main.bin</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> ooo=<span class="variable">%binpath%</span>\empty.bin</span><br><span class="line"><span class="built_in">set</span> patch_full=<span class="variable">%binpath%</span>\patch_full.bin</span><br><span class="line"><span class="built_in">set</span> patch_diff=<span class="variable">%binpath%</span>\patch_diff.bin</span><br><span class="line"><span class="built_in">set</span> patch_diff_specified_version=<span class="variable">%binpath%</span>\patch_diff.specified.version.bin</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> UpdateFullZIP=<span class="variable">%binpath%</span>\update.pkg.full.zip.bin</span><br><span class="line"><span class="built_in">set</span> UpdateDiffZIP=<span class="variable">%binpath%</span>\update.pkg.diff.zip.bin</span><br><span class="line"><span class="built_in">set</span> UpdateDiffZIP_SPECIFIED_VERSION=<span class="variable">%binpath%</span>\update.pkg.diff.zip.specified.version.bin</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span>. &gt; <span class="variable">%binpath%</span>\empty.bin</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> ================================================================================</span><br><span class="line"><span class="built_in">echo</span> backup</span><br><span class="line"><span class="built_in">echo</span> ================================================================================</span><br><span class="line"><span class="built_in">copy</span> <span class="variable">%new%</span> <span class="variable">%old%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> ================================================================================</span><br><span class="line"><span class="built_in">echo</span> hdiffi.exe</span><br><span class="line"><span class="built_in">echo</span> ================================================================================</span><br><span class="line"><span class="variable">%exepath%</span>\hdiffi.exe -c-tuz-<span class="number">1024</span> -f <span class="variable">%ooo%</span> <span class="variable">%new%</span> <span class="variable">%patch_full%</span></span><br><span class="line"><span class="variable">%exepath%</span>\hdiffi.exe -c-tuz-<span class="number">1024</span> -f <span class="variable">%old%</span> <span class="variable">%new%</span> <span class="variable">%patch_diff%</span></span><br><span class="line"><span class="variable">%exepath%</span>\hdiffi.exe -c-tuz-<span class="number">1024</span> -f <span class="variable">%ver%</span> <span class="variable">%new%</span> <span class="variable">%patch_diff_specified_version%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> ================================================================================</span><br><span class="line"><span class="built_in">echo</span> header.exe</span><br><span class="line"><span class="built_in">echo</span> ================================================================================</span><br><span class="line"><span class="variable">%exepath%</span>\update_header_v2.exe  <span class="variable">%product_code%</span>  <span class="variable">%product_data%</span>  <span class="variable">%UpdateFullZIP%</span>  <span class="variable">%patch_full%</span>  <span class="variable">%new%</span></span><br><span class="line"><span class="variable">%exepath%</span>\update_header_v2.exe  <span class="variable">%product_code%</span>  <span class="variable">%product_data%</span>  <span class="variable">%UpdateDiffZIP%</span>  <span class="variable">%patch_diff%</span>  <span class="variable">%new%</span>  <span class="variable">%old%</span></span><br><span class="line"><span class="variable">%exepath%</span>\update_header_v2.exe  <span class="variable">%product_code%</span>  <span class="variable">%product_data%</span>  <span class="variable">%UpdateDiffZIP_SPECIFIED_VERSION%</span>  <span class="variable">%patch_diff_specified_version%</span>  <span class="variable">%new%</span>  <span class="variable">%ver%</span></span><br></pre></td></tr></table></figure><p>æŠŠ hdiffi.exe å’Œ update_header_v2.exe æ‹·è´åˆ° .&#x2F;build ç›®å½•ä¸‹</p><p><img src="/sulfurandcu.io/clnyhr2n3004y10rq322c66uu/update.header.v2.png"></p><p>ä¿®æ”¹ä»¥ä¸‹å˜é‡ï¼š</p><ul><li>exepath &#x3D; hdiffi.exe å’Œ update_header_v2.exe æ‰€åœ¨çš„è·¯å¾„</li><li>binpath &#x3D; main.bin æ‰€åœ¨çš„è·¯å¾„</li><li>old &#x3D; ã€Œä¸Šæ¬¡ç¼–è¯‘çš„ç¨‹åºã€æ‰€åœ¨çš„è·¯å¾„</li><li>new &#x3D; ã€Œè¿™æ¬¡ç¼–è¯‘çš„ç¨‹åºã€æ‰€åœ¨çš„è·¯å¾„</li><li>product_code &#x3D; å®é™…é¡¹ç›®çš„äº§å“ä»£ç ï¼ˆè¿™ä¸ªäº§å“ä»£ç æ˜¯ä¸ºäº†é¿å…åœ¨å‡çº§æ—¶å‡é”™äº§å“è€Œè®¾ç½®çš„ï¼‰</li></ul><p>è¿è¡Œè¯¥æ‰¹å¤„ç†æ–‡ä»¶ï¼Œç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š</p><ul><li>update.pkg.full.zip.bin ç°åœºç”¨çš„å…¨é‡å‡çº§åŒ…</li><li>update.pkg.diff.zip.bin æµ‹è¯•ç”¨çš„å¢é‡å‡çº§åŒ…</li></ul><p>å¦‚æœæƒ³è¦ç¨‹åºç¼–è¯‘å®Œä¹‹åè‡ªåŠ¨è°ƒç”¨è¯¥è„šæœ¬ï¼Œè¾¾åˆ°è‡ªåŠ¨ç”Ÿæˆå…¨é‡å‡çº§åŒ…çš„ç›®çš„ï¼Œè¯·å‚ç…§ä¸‹å›¾ä¿®æ”¹ EIDE ç¼–è¯‘é€‰é¡¹ã€‚</p><p><img src="/sulfurandcu.io/clnyhr2n3004y10rq322c66uu/update.bat.png"></p><div class="note danger no-icon"><p><strong>æ³¨æ„ï¼</strong>è¿™é‡Œç”Ÿæˆçš„å¢é‡å‡çº§åŒ…æ˜¯æœ¬æ¬¡ç¼–è¯‘ä¸ä¸Šæ¬¡ç¼–è¯‘ä¹‹é—´çš„å·®å¼‚ï¼Œä»…ç”¨äºæµ‹è¯•ï¼Œç°åœºå®é™…æ€ä¹ˆç”¨è¯·ç»§ç»­å¾€ä¸‹çœ‹ã€‚</p></div><h3 id="åˆ¶ä½œç°åœºç”¨çš„å¢é‡å‡çº§åŒ…"><a href="#åˆ¶ä½œç°åœºç”¨çš„å¢é‡å‡çº§åŒ…" class="headerlink" title="åˆ¶ä½œç°åœºç”¨çš„å¢é‡å‡çº§åŒ…"></a>åˆ¶ä½œç°åœºç”¨çš„å¢é‡å‡çº§åŒ…</h3><p><strong>ç”¨æ‰¹å¤„ç†è„šæœ¬åˆ¶ä½œ</strong></p><p>æŠŠæ—§ç‰ˆç¨‹åºæ‹·è´åˆ°è„šæœ¬ä¸­<code>%binpath%</code>å¯¹åº”çš„ç›®å½•ï¼Œå¹¶é‡å‘½åä¸º<code>%ver%</code>å¯¹åº”çš„åç§°ã€‚</p><p>è¿è¡Œä¸Šé¢çš„è„šæœ¬ï¼Œç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š</p><ul><li>update.pkg.diff.zip.specified.version.bin ç°åœºç”¨çš„å¢é‡å‡çº§åŒ…</li></ul><p><strong>ç”¨å›¾å½¢åŒ–å·¥å…·åˆ¶ä½œ</strong></p><ul><li>é€‰æ‹©æ—§ç‰ˆç¨‹åº</li><li>é€‰æ‹©æ–°ç‰ˆç¨‹åº</li><li>ç‚¹å‡»ç”ŸæˆæŒ‰é’®</li></ul><div class="note info no-icon"><p><strong>æ‰¹å¤„ç†è„šæœ¬</strong>æœ‰åˆ©äºå®ç°è‡ªåŠ¨åŒ–ï¼Œä½†æ˜¯ç”¨èµ·æ¥æœ‰ç‚¹éš¾åº¦ã€‚<strong>å›¾å½¢åŒ–å·¥å…·</strong>ç”¨èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ä¸å¤ªå¥½å®ç°è‡ªåŠ¨åŒ–ã€‚å»ºè®®ä¸¤ç§æ–¹å¼ä¸€èµ·ä½¿ç”¨ï¼Œå„å–æ‰€é•¿ã€‚</p></div><h2 id="å¦‚ä½•å®ç°åœ¨çº¿å‡çº§ï¼Ÿ"><a href="#å¦‚ä½•å®ç°åœ¨çº¿å‡çº§ï¼Ÿ" class="headerlink" title="å¦‚ä½•å®ç°åœ¨çº¿å‡çº§ï¼Ÿ"></a>å¦‚ä½•å®ç°åœ¨çº¿å‡çº§ï¼Ÿ</h2><h3 id="åœ¨å¼•å¯¼ç¨‹åºä¸­å‡çº§"><a href="#åœ¨å¼•å¯¼ç¨‹åºä¸­å‡çº§" class="headerlink" title="åœ¨å¼•å¯¼ç¨‹åºä¸­å‡çº§"></a>åœ¨å¼•å¯¼ç¨‹åºä¸­å‡çº§</h3><ul><li>ä½¿ç”¨ USB-485 æ•°æ®çº¿è¿æ¥ç”µè„‘å’Œè®¾å¤‡ï¼Œç„¶åä½¿ç”¨ä¸²å£è°ƒè¯•å·¥å…·æ‰“å¼€å¯¹åº”çš„ COM å£ã€‚</li><li>é…ç½®ä¸²å£å’Œä¼ è¾“åè®®ï¼š115200, 8, 1, N, Y-Modem&#x3D;1024ã€‚</li><li>æ•²å‡»é”®ç›˜ä¸Šçš„ TAB é”®ï¼Œå¼•å¯¼ç¨‹åºä¼šæ‰“å°å‡ºæ‰€æœ‰æ”¯æŒçš„å‘½ä»¤ã€‚</li><li>æ‰§è¡Œ download å‘½ä»¤ï¼Œå¼•å¯¼ç¨‹åºè¿›å…¥ ymodem æ¥æ”¶æ¨¡å¼ï¼Œç­‰å¾…ä¸Šä½æœºä¸‹å‘å‡çº§æ–‡ä»¶ã€‚</li><li>åœ¨ windterm ä¸­å•å‡»å³é”®ï¼Œé€‰æ‹©ï¼šä¼ è¾“äºŒè¿›åˆ¶ -&gt; å‘é€ YModemã€‚</li><li>é€‰æ‹©åˆ¶ä½œå¥½çš„å‡çº§æ–‡ä»¶å¹¶ä¸‹å‘ã€‚</li><li>ç­‰å¾…æ–‡ä»¶ä¼ è¾“å®Œæ¯•ã€‚</li><li>æ”¶åˆ°å‡çº§æ–‡ä»¶åï¼Œå¼•å¯¼ç¨‹åºå¼€å§‹æ‰§è¡Œå‡çº§æµç¨‹ã€‚</li><li>å¾…å‡çº§æµç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œè‡ªåŠ¨è·³è½¬è‡³åº”ç”¨ç¨‹åºã€‚</li></ul><p><strong>å‚è€ƒè§†é¢‘ï¼š</strong></p><p><img src="/sulfurandcu.io/clnyhr2n3004y10rq322c66uu/update.flow.gif"></p><h3 id="åœ¨åº”ç”¨ç¨‹åºä¸­å‡çº§"><a href="#åœ¨åº”ç”¨ç¨‹åºä¸­å‡çº§" class="headerlink" title="åœ¨åº”ç”¨ç¨‹åºä¸­å‡çº§"></a>åœ¨åº”ç”¨ç¨‹åºä¸­å‡çº§</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;FAL, &quot;bootloader&quot;, &quot;chipflash&quot;, addr, size, 0&#125;, /* å¼•å¯¼åŒº */</span><br><span class="line">&#123;FAL, &quot;update&quot;,     &quot;chipflash&quot;, addr, size, 0&#125;, /* æ§åˆ¶åŒº */</span><br><span class="line">&#123;FAL, &quot;runapp&quot;,     &quot;chipflash&quot;, addr, size, 0&#125;, /* è¿è¡ŒåŒº */ /* åŸå…ˆçš„æ—§ç¨‹åº */</span><br><span class="line"></span><br><span class="line">&#123;FAL, &quot;backup&quot;,     &quot;norflash0&quot;, addr, size, 0&#125;, /* æš‚å­˜åŒº */ /* å¤‡ä»½çš„æ—§ç¨‹åº */ /* ä¸‹è½½çš„å‡çº§åŒ… */</span><br><span class="line">&#123;FAL, &quot;decode&quot;,     &quot;norflash0&quot;, addr, size, 0&#125;, /* è§£ç åŒº */ /* è§£ç çš„æ–°ç¨‹åº */</span><br></pre></td></tr></table></figure><ul><li>åœ¨åº”ç”¨ç¨‹åºä¸­æ¥æ”¶å‡çº§æ–‡ä»¶å¹¶å­˜å‚¨åˆ° â€œbackupâ€ åˆ†åŒºã€‚</li><li>æ ¡éªŒå‡çº§æ–‡ä»¶ï¼Œå¦‚æœæ˜¯å·®åˆ†å‡çº§åˆ™è¿˜è¦æ ¡éªŒæ—§ç¨‹åºã€‚</li><li>å¦‚æœæ ¡éªŒå¤±è´¥ï¼Œåˆ™å°† â€œbackupâ€ åˆ†åŒºæ“¦é™¤ï¼Œç»“æŸã€‚</li><li>å¦‚æœæ ¡éªŒæˆåŠŸï¼Œåˆ™å°† â€œupdateâ€ åˆ†åŒºä¸­çš„å‡çº§æ ‡è¯†è®¾ç½®ä¸º <code>update_step_verify</code>ã€‚</li><li>é‡å¯è¿›å…¥å¼•å¯¼ç¨‹åºï¼Œå¼€å§‹æ‰§è¡Œå‡çº§æµç¨‹ã€‚</li><li>å¾…å‡çº§æµç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œè‡ªåŠ¨è·³è½¬è‡³åº”ç”¨ç¨‹åºã€‚</li></ul><div class="note info no-icon"><p>ä¸ºäº†æé«˜åæœŸçš„æ‰©å±•èƒ½åŠ›ï¼Œåœ¨è§£æå‡çº§åŒ…å¤´æ—¶è¦ä»¥ã€Œå˜é•¿ã€çš„æ€æƒ³æ¥å¤„ç†ã€‚</p></div>]]></content>
    
    
    <summary type="html">&lt;pre class=&quot;mermaid&quot;&gt;
flowchart LR
%%{init: { &amp;quot;flowchart&amp;quot;: { &amp;quot;curve&amp;quot;: &amp;quot;basis&amp;quot; } } }%%
    full_update(å…¨é‡å·®åˆ†åŒ…)
    diff_update(å¢é‡å·®åˆ†åŒ…)
    app(å¤§ç¨‹åº)
    iap(å°ç¨‹åº)
    dnload(æ•°æ®æš‚å­˜åŒº)
    backup(æ•°æ®æš‚å­˜åŒº)
    runapp(ç¨‹åºè¿è¡ŒåŒº)
    decode(æ•°æ®è§£ç åŒº)

    full_update--&amp;gt;app
    full_update--&amp;gt;iap
    diff_update--&amp;gt;app
    diff_update--&amp;gt;iap

    app--&amp;gt;dnload
    iap--&amp;gt;dnload

    dnload--è·³è½¬è‡³å°ç¨‹åº--&amp;gt;backup

    backup-.ãˆ£&amp;lt;br&amp;gt;å›æ»šæ—§ç¨‹åº.-&amp;gt;runapp
    backup--ãˆ &amp;lt;br&amp;gt;è§£ç å‡çº§åŒ…--&amp;gt;decode
    decode--ãˆ¢&amp;lt;br&amp;gt;å†™å…¥æ–°ç¨‹åº--&amp;gt;runapp
    runapp--ãˆ¡&amp;lt;br&amp;gt;å¤‡ä»½æ—§ç¨‹åº--&amp;gt;backup
&lt;/pre&gt;</summary>
    
    
    
    <category term="å¼€å‘ç¬”è®°" scheme="https://sulfurandcu.github.io/sulfurandcu.io/categories/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="åµŒå…¥å¼è½¯ä»¶å¼€å‘" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="åœ¨çº¿å‡çº§" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%9C%A8%E7%BA%BF%E5%8D%87%E7%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>åµŒå…¥å¼ IAP åœ¨çº¿å‡çº§ï¼åŸºç¡€æ¦‚å¿µ</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/clnyhr2n2004x10rq71zl3lqj.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/clnyhr2n2004x10rq71zl3lqj.html</id>
    <published>2023-09-30T16:00:01.000Z</published>
    <updated>2023-09-30T16:00:01.000Z</updated>
    
    <content type="html"><![CDATA[<center>ä¼ ç»Ÿç¼–ç¨‹æ–¹å¼</center><pre class="mermaid">flowchart LR%%{init: { &quot;flowchart&quot;: { &quot;curve&quot;: &quot;basis&quot; } } }%%A(å…ˆå–ä¸‹èŠ¯ç‰‡)---&gt;B(å†çƒ§å½•ç¨‹åº)---&gt;C(åè£…å›æ¿å¡)</pre><center>ç°ä»£ç¼–ç¨‹æ–¹å¼</center><pre class="mermaid">flowchart LR%%{init: { &quot;flowchart&quot;: { &quot;curve&quot;: &quot;basis&quot; } } }%%A(&quot;åœ¨ç”µè·¯ç¼–ç¨‹&lt;br&gt;(ï¼©ï¼£ï¼°)&quot;)---&gt;B(&quot;åœ¨ç³»ç»Ÿç¼–ç¨‹&lt;br&gt;(ï¼©ï¼³ï¼°)&quot;)---&gt;C(&quot;åœ¨åº”ç”¨ç¼–ç¨‹&lt;br&gt;(ï¼©ï¼¡ï¼°)&quot;)</pre><span id="more"></span><h2 id="ä¼ ç»Ÿç¼–ç¨‹æ–¹å¼"><a href="#ä¼ ç»Ÿç¼–ç¨‹æ–¹å¼" class="headerlink" title="ä¼ ç»Ÿç¼–ç¨‹æ–¹å¼"></a>ä¼ ç»Ÿç¼–ç¨‹æ–¹å¼</h2><p>ä¼ ç»Ÿç¼–ç¨‹æ–¹å¼æ˜¯å…ˆå°†ç¨‹åºçƒ§å½•è‡³ä¸»æ§èŠ¯ç‰‡ä¸­å†ç„Šæ¥åˆ°ç”µè·¯æ¿ä¸Šã€‚</p><p><strong>å¼€å‘é˜¶æ®µ</strong></p><ul><li>â€ ä»ç”µè·¯æ¿ä¸Šå–ä¸‹èŠ¯ç‰‡</li><li>â ä½¿ç”¨çƒ§å½•å™¨çƒ§å†™ç¨‹åº</li><li>â‚ å°†èŠ¯ç‰‡è£…å›è‡³ç”µè·¯æ¿</li></ul><p><strong>é‡äº§é˜¶æ®µ</strong></p><ul><li>â€ ä» tray ç›˜å–å‡ºèŠ¯ç‰‡</li><li>â ä½¿ç”¨çƒ§å½•å™¨çƒ§å†™ç¨‹åº</li><li>â‚ å°†èŠ¯ç‰‡æ”¾å› tray ç›˜</li></ul><p><strong>ç»´æŠ¤é˜¶æ®µ</strong></p><ul><li>â€ ä»ç”µè·¯æ¿ä¸Šæ‹†ä¸‹èŠ¯ç‰‡</li><li>â ä½¿ç”¨çƒ§å½•å™¨çƒ§å†™ç¨‹åº</li><li>â‚ å°†èŠ¯ç‰‡ç„Šå›è‡³ç”µè·¯æ¿</li></ul><h2 id="ç°ä»£ç¼–ç¨‹æ–¹å¼"><a href="#ç°ä»£ç¼–ç¨‹æ–¹å¼" class="headerlink" title="ç°ä»£ç¼–ç¨‹æ–¹å¼"></a>ç°ä»£ç¼–ç¨‹æ–¹å¼</h2><p>ç°ä»£ç¼–ç¨‹æ–¹å¼å¯ä»¥ç›´æ¥è¿›è¡Œæ¿ä¸Šçƒ§å½•ï¼Œä¸ç”¨å†å–ä¸‹èŠ¯ç‰‡æ”¾åˆ°ä¸“ç”¨çš„çƒ§å½•å™¨ä¸Šçƒ§å½•ï¼Œæå¤§åœ°æé«˜äº†å¼€å‘ã€ç”Ÿäº§ä»¥åŠç»´æŠ¤æ•ˆç‡ã€‚</p><p>ç°ä»£ç¼–ç¨‹æ–¹å¼åˆå¯åˆ†ä¸ºï¼š</p><ul><li>åœ¨ç”µè·¯ç¼–ç¨‹ ICP (Circuit)</li><li>åœ¨ç³»ç»Ÿç¼–ç¨‹ ISP (System)</li><li>åœ¨åº”ç”¨ç¼–ç¨‹ IAP (Application)</li></ul><table><thead><tr><th align="center">ç¼–ç¨‹æ–¹å¼</th><th align="center">åœ¨ç”µè·¯ç¼–ç¨‹</th><th align="center">åœ¨ç³»ç»Ÿç¼–ç¨‹</th><th align="center">åœ¨åº”ç”¨ç¼–ç¨‹</th></tr></thead><tbody><tr><td align="center">æ ¸å¿ƒæ€æƒ³</td><td align="center">å€ŸåŠ©å¤–éƒ¨çƒ§å½•å™¨<br>é€šè¿‡JTAG&#x2F;SWDæ¥å£<br>å®ç°åœ¨ç”µè·¯ç¼–ç¨‹</td><td align="center">å€ŸåŠ©èŠ¯ç‰‡å†…éƒ¨<br>å›ºåŒ–çš„å¼•å¯¼ç¨‹åºå’ŒBOOTå¼•è„š<br>ä»¥åŠç‰‡ä¸Šæ¥å£<br>å®ç°åœ¨ç³»ç»Ÿç¼–ç¨‹</td><td align="center">å€ŸåŠ©ç”¨æˆ·è‡ªå·±<br>ç¼–å†™çš„å¼•å¯¼ç¨‹åºã€åº”ç”¨ç¨‹åº<br>ä»¥åŠç‰‡ä¸Šæ¥å£ã€æ¿ä¸Šæ¥å£<br>å®ç°åœ¨åº”ç”¨ç¼–ç¨‹</td></tr><tr><td align="center">å¼•å¯¼ç¨‹åº</td><td align="center">ä¸éœ€è¦</td><td align="center">éœ€è¦èŠ¯ç‰‡å‚å®¶ç¼–å†™<br>å¹¶å›ºåŒ–åˆ°æŸä¸€åœ°å€ç©ºé—´</td><td align="center">éœ€è¦ç”¨æˆ·è‡ªå·±ç¼–å†™<br>å¹¶çƒ§å½•è‡³å†…éƒ¨flashå­˜å‚¨å™¨</td></tr><tr><td align="center">è¿›å…¥æ–¹å¼</td><td align="center">éšæ—¶å¾…å‘½</td><td align="center">éœ€è¦æ›´æ”¹BOOTå¼•è„šçš„ç”µå¹³<br>ç„¶åç¡¬ä»¶å¤ä½<br>è¿›å…¥å†…éƒ¨å›ºåŒ–çš„å¼•å¯¼ç¨‹åº</td><td align="center">éšæ—¶å¾…å‘½</td></tr><tr><td align="center">é…å¥—è½¯ä»¶</td><td align="center">çƒ§å½•è½¯ä»¶</td><td align="center">èŠ¯ç‰‡å‚å®¶æä¾›çš„<br>ä¸Šä½æœºISPç¼–ç¨‹è½¯ä»¶</td><td align="center">ç”¨æˆ·è‡ªå·±å¼€å‘çš„æ•°æ®ä¼ è¾“è½¯ä»¶</td></tr><tr><td align="center">é€šä¿¡æ¥å£</td><td align="center">JTAG&#x2F;SWD</td><td align="center">å–å†³äºèŠ¯ç‰‡ä¸­å›ºåŒ–çš„å¼•å¯¼ç¨‹åº<br>URT&#x2F;SPI&#x2F;IIC&#x2F;CAN&#x2F;USB</td><td align="center">ç†è®ºä¸Šå¯ä»¥æ”¯æŒä»»æ„æ¥å£<br>URT&#x2F;SPI&#x2F;IIC<br>485&#x2F;CAN&#x2F;USB<br>WiFi&#x2F;BLE&#x2F;IrDA<br>PLC&#x2F;ETH&#x2F;4G&#x2F;5G&#x2F;NBIoT</td></tr><tr><td align="center">ç¨‹åºå‡çº§<br>æ˜¯å¦éœ€è¦<br>æ‹†è£…èŠ¯ç‰‡</td><td align="center">ä¸éœ€è¦<br>æ‹†è£…èŠ¯ç‰‡</td><td align="center">ä¸éœ€è¦<br>æ‹†è£…èŠ¯ç‰‡</td><td align="center">ä¸éœ€è¦<br>æ‹†è£…èŠ¯ç‰‡</td></tr><tr><td align="center">ç¨‹åºå‡çº§<br>æ˜¯å¦éœ€è¦<br>æ‹†è£…å¤–å£³</td><td align="center">éœ€è¦<br>æ‹†å¼€è®¾å¤‡å¤–å£³</td><td align="center">é€šä¿¡æ¥å£å®Œå¤‡çš„æƒ…å†µä¸‹<br>ä¸éœ€è¦<br>æ‹†å¼€è®¾å¤‡å¤–å£³<br>485&#x2F;CAN&#x2F;USB</td><td align="center">é€šä¿¡æ¥å£å®Œå¤‡çš„æƒ…å†µä¸‹<br>ä¸éœ€è¦<br>æ‹†å¼€è®¾å¤‡å¤–å£³<br>485&#x2F;CAN&#x2F;USB&#x2F;WiFi&#x2F;BLE&#x2F;IrDA</td></tr><tr><td align="center">ç¨‹åºå‡çº§<br>æ˜¯å¦éœ€è¦<br>å‰å¾€ç°åœº</td><td align="center">éœ€è¦<br>å‰å¾€è®¾å¤‡å®‰è£…ç°åœº</td><td align="center">éœ€è¦<br>å‰å¾€è®¾å¤‡å®‰è£…ç°åœº</td><td align="center">è¿œç¨‹é€šä¿¡åŠŸèƒ½å®Œå¤‡çš„æƒ…å†µä¸‹<br>ä¸éœ€è¦<br>å‰å¾€è®¾å¤‡å®‰è£…ç°åœº<br>PLC&#x2F;ETH&#x2F;4G&#x2F;5G&#x2F;NBIoT</td></tr></tbody></table><div class="note info no-icon"><p>ICP ä¸»è¦æ˜¯åœ¨å¼€å‘é˜¶æ®µä½¿ç”¨ï¼Œå…¶çƒ§å½•é€Ÿåº¦æ˜¯ ISP å’Œ IAP æ‰€æ— æ³•æ¯”æ‹Ÿçš„ã€‚</p></div><div class="note info no-icon"><p>IAP ä¸ ISP ç±»ä¼¼ï¼Œéƒ½æœ‰ bootloader å¼•å¯¼ç¨‹åºï¼Œå› æ­¤æ— éœ€ä½¿ç”¨çƒ§å½•å™¨ã€‚äºŒè€…çš„åŒºåˆ«åœ¨äºï¼ŒISP çš„å¼•å¯¼ç¨‹åºç”±èŠ¯ç‰‡å‚å®¶ç¼–å†™ï¼Œæ¯”è¾ƒç®€å•ï¼Œæ— æ³•å®ç°ç”¨æˆ·çš„å®šåˆ¶åŒ–éœ€æ±‚ï¼›è€Œ IAP çš„å¼•å¯¼ç¨‹åºæ˜¯ç”±ç”¨æˆ·è‡ªå·±å®ç°ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚è‡ªè¡Œä¿®æ”¹ã€‚å¦å¤– ISP è¿›å…¥ boot ç¨‹åºçš„æ–¹å¼æ˜¯é€šè¿‡æ›´æ”¹ BOOT å¼•è„šçš„ç”µå¹³ï¼›è€Œ IAP åˆ™æ˜¯ä»ç”¨æˆ·ç¨‹åºä¸­é€šè¿‡è½¯ä»¶å¤ä½æˆ–è€…è·³è½¬çš„æ–¹å¼ç›´æ¥è¿›å…¥ bootloader ç¨‹åºï¼Œå› æ­¤ç›¸è¾ƒäº ISP æ¥è¯´ä¼šæ›´åŠ çµæ´»ã€‚</p></div><div class="note info no-icon"><p>é€šè¿‡ WiFi&#x2F;BLE&#x2F;4G&#x2F;5G&#x2F;NBIoT ç­‰æ— çº¿é€šä¿¡æŠ€æœ¯å®ç° IAP åŠŸèƒ½çš„æ–¹æ¡ˆä¹Ÿè¢«ç§°ä½œ OTA ç©ºä¸­ä¸‹è½½æŠ€æœ¯ã€‚</p></div><table><thead><tr><th align="center">BOOT1</th><th align="center">BOOT0</th><th align="center">BOOT MODE</th></tr></thead><tbody><tr><td align="center">X</td><td align="center">0</td><td align="center">boot from 0x08000000 : main memory</td></tr><tr><td align="center">0</td><td align="center">1</td><td align="center">boot from 0x1FFF0000 : boot memory</td></tr><tr><td align="center">1</td><td align="center">1</td><td align="center">boot from 0x20000000 : sram memory</td></tr></tbody></table>]]></content>
    
    
    <summary type="html">&lt;center&gt;ä¼ ç»Ÿç¼–ç¨‹æ–¹å¼&lt;/center&gt;

&lt;pre class=&quot;mermaid&quot;&gt;
flowchart LR
%%{init: { &amp;quot;flowchart&amp;quot;: { &amp;quot;curve&amp;quot;: &amp;quot;basis&amp;quot; } } }%%
A(å…ˆå–ä¸‹èŠ¯ç‰‡)---&amp;gt;B(å†çƒ§å½•ç¨‹åº)---&amp;gt;C(åè£…å›æ¿å¡)
&lt;/pre&gt;

&lt;center&gt;ç°ä»£ç¼–ç¨‹æ–¹å¼&lt;/center&gt;

&lt;pre class=&quot;mermaid&quot;&gt;
flowchart LR
%%{init: { &amp;quot;flowchart&amp;quot;: { &amp;quot;curve&amp;quot;: &amp;quot;basis&amp;quot; } } }%%
A(&amp;quot;åœ¨ç”µè·¯ç¼–ç¨‹&amp;lt;br&amp;gt;(ï¼©ï¼£ï¼°)&amp;quot;)---&amp;gt;B(&amp;quot;åœ¨ç³»ç»Ÿç¼–ç¨‹&amp;lt;br&amp;gt;(ï¼©ï¼³ï¼°)&amp;quot;)---&amp;gt;C(&amp;quot;åœ¨åº”ç”¨ç¼–ç¨‹&amp;lt;br&amp;gt;(ï¼©ï¼¡ï¼°)&amp;quot;)
&lt;/pre&gt;</summary>
    
    
    
    <category term="å¼€å‘ç¬”è®°" scheme="https://sulfurandcu.github.io/sulfurandcu.io/categories/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="åµŒå…¥å¼è½¯ä»¶å¼€å‘" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="åœ¨çº¿å‡çº§" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%9C%A8%E7%BA%BF%E5%8D%87%E7%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>åµŒå…¥å¼ IAP åœ¨çº¿å‡çº§ï¼ç›®å½•ç´¢å¼•</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/clnyhr2n2004t10rq7rdi2ftx.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/clnyhr2n2004t10rq7rdi2ftx.html</id>
    <published>2023-09-30T16:00:00.000Z</published>
    <updated>2023-09-30T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<hr><p><a href="/sulfurandcu.io/clnyhr2n2004x10rq71zl3lqj.html">åœ¨çº¿å‡çº§ï¼ˆ#01ï¼‰åŸºç¡€æ¦‚å¿µ</a><br><a href="/sulfurandcu.io/clnyhr2n3004y10rq322c66uu.html">åœ¨çº¿å‡çº§ï¼ˆ#02ï¼‰æ•´ä½“æ–¹æ¡ˆ</a><br><a href="/sulfurandcu.io/clnyhr2n4005410rqfyjmedv1.html">åœ¨çº¿å‡çº§ï¼ˆ#03ï¼‰ç¨‹åºè®¾è®¡</a><br><a href="/sulfurandcu.io/cloidefbf00hzv0rqa7zg722r.html">åœ¨çº¿å‡çº§ï¼ˆ#04ï¼‰å·®åˆ†è¿˜åŸ hpatchlite ç§»æ¤</a></p><hr><span id="more"></span><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p><a href="https://itexp.blog.csdn.net/article/details/83793309">https://itexp.blog.csdn.net/article/details/83793309</a></p><p><a href="https://blog.csdn.net/qq_24130227/article/details/123752964">https://blog.csdn.net/qq_24130227/article/details/123752964</a><br><a href="https://blog.csdn.net/qq_24130227/article/details/108379324">https://blog.csdn.net/qq_24130227/article/details/108379324</a><br><a href="https://blog.csdn.net/qq_24130227/article/details/113003329">https://blog.csdn.net/qq_24130227/article/details/113003329</a><br><a href="https://blog.csdn.net/qq_24130227/article/details/120061873">https://blog.csdn.net/qq_24130227/article/details/120061873</a><br><a href="https://blog.csdn.net/qq_24130227/article/details/108427842">https://blog.csdn.net/qq_24130227/article/details/108427842</a></p>]]></content>
    
    
    <summary type="html">&lt;hr&gt;
&lt;p&gt;&lt;a href=&quot;/sulfurandcu.io/clnyhr2n2004x10rq71zl3lqj.html&quot;&gt;åœ¨çº¿å‡çº§ï¼ˆ#01ï¼‰åŸºç¡€æ¦‚å¿µ&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;/sulfurandcu.io/clnyhr2n3004y10rq322c66uu.html&quot;&gt;åœ¨çº¿å‡çº§ï¼ˆ#02ï¼‰æ•´ä½“æ–¹æ¡ˆ&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;/sulfurandcu.io/clnyhr2n4005410rqfyjmedv1.html&quot;&gt;åœ¨çº¿å‡çº§ï¼ˆ#03ï¼‰ç¨‹åºè®¾è®¡&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;/sulfurandcu.io/cloidefbf00hzv0rqa7zg722r.html&quot;&gt;åœ¨çº¿å‡çº§ï¼ˆ#04ï¼‰å·®åˆ†è¿˜åŸ hpatchlite ç§»æ¤&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;</summary>
    
    
    
    <category term="å¼€å‘ç¬”è®°" scheme="https://sulfurandcu.github.io/sulfurandcu.io/categories/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="åµŒå…¥å¼è½¯ä»¶å¼€å‘" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="å•ç‰‡æœº" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%8D%95%E7%89%87%E6%9C%BA/"/>
    
    <category term="iap" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/iap/"/>
    
    <category term="bootloader" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/bootloader/"/>
    
  </entry>
  
  <entry>
    <title>é—®é¢˜è®°å½•ï¼šåå¤§ HC32F460 æ»¤æ³¢ç”µè·¯å¤±æ•ˆ</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/clorxokmu004nmgrq9tl4hiss.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/clorxokmu004nmgrq9tl4hiss.html</id>
    <published>2023-08-08T16:00:00.000Z</published>
    <updated>2023-08-08T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨ä½¿ç”¨ç”µå‹æ¯”è¾ƒå™¨æ—¶å‘ç°ç¡¬ä»¶æ»¤æ³¢ç”µè·¯ä¼šå‡ºç°å¤±æ•ˆçš„æƒ…å†µï¼Œç»åˆ†ææ˜¯å…¶é‡‡æ ·é¢‘ç‡è¿‡é«˜æ‰€è‡´ã€‚</p><p><img src="/sulfurandcu.io/clorxokmu004nmgrq9tl4hiss/manual.png"></p><p>å‚è€ƒæ‰‹å†Œä¸­ç»˜åˆ¶çš„æ˜¯ç†æƒ³æ¡ä»¶ä¸‹çš„æ³¢å½¢ï¼ŒçœŸå®æƒ…å†µå¹¶éå¦‚æ­¤ï¼ŒINP åœ¨é€¼è¿‘ INM æ—¶ä¼šä¼´éšç€å™ªå£°&#x2F;æŠ–åŠ¨ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¡¬ä»¶æ»¤æ³¢ç”µè·¯æ¥æ¶ˆé™¤è¿™ç§æŠ–åŠ¨ï¼Œå›¾ä¸­ç»¿è‰²çº¿æ®µè¡¨ç¤ºå„é‡‡æ ·ç‚¹ï¼Œå…¶é¢‘ç‡å³ä¸ºé‡‡æ ·é¢‘ç‡ã€‚</p><iframe src="https://www.desmos.com/calculator/7r0bi5urxv?embed" width="800" height="500" style="border: 1px solid #ccc" frameborder=0></iframe><p>é‡‡æ ·é¢‘ç‡è¾ƒä½æ—¶ï¼Œæ»¤æ³¢ç”µè·¯å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯éšç€é‡‡æ ·é¢‘ç‡çš„å‡é«˜ï¼Œå…¶å¯é æ€§åè€Œä¼šé™ä½ã€‚</p><span id="more"></span><iframe src="https://www.desmos.com/calculator/2kz1rewo6h?embed" width="800" height="500" style="border: 1px solid #ccc" frameborder=0></iframe><iframe src="https://www.desmos.com/calculator/2py3qizn5x?embed" width="800" height="500" style="border: 1px solid #ccc" frameborder=0></iframe>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ€è¿‘åœ¨ä½¿ç”¨ç”µå‹æ¯”è¾ƒå™¨æ—¶å‘ç°ç¡¬ä»¶æ»¤æ³¢ç”µè·¯ä¼šå‡ºç°å¤±æ•ˆçš„æƒ…å†µï¼Œç»åˆ†ææ˜¯å…¶é‡‡æ ·é¢‘ç‡è¿‡é«˜æ‰€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/sulfurandcu.io/clorxokmu004nmgrq9tl4hiss/manual.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;å‚è€ƒæ‰‹å†Œä¸­ç»˜åˆ¶çš„æ˜¯ç†æƒ³æ¡ä»¶ä¸‹çš„æ³¢å½¢ï¼ŒçœŸå®æƒ…å†µå¹¶éå¦‚æ­¤ï¼ŒINP åœ¨é€¼è¿‘ INM æ—¶ä¼šä¼´éšç€å™ªå£°&amp;#x2F;æŠ–åŠ¨ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¡¬ä»¶æ»¤æ³¢ç”µè·¯æ¥æ¶ˆé™¤è¿™ç§æŠ–åŠ¨ï¼Œå›¾ä¸­ç»¿è‰²çº¿æ®µè¡¨ç¤ºå„é‡‡æ ·ç‚¹ï¼Œå…¶é¢‘ç‡å³ä¸ºé‡‡æ ·é¢‘ç‡ã€‚&lt;/p&gt;
&lt;iframe src=&quot;https://www.desmos.com/calculator/7r0bi5urxv?embed&quot; width=&quot;800&quot; height=&quot;500&quot; style=&quot;border: 1px solid #ccc&quot; frameborder=0&gt;&lt;/iframe&gt;

&lt;p&gt;é‡‡æ ·é¢‘ç‡è¾ƒä½æ—¶ï¼Œæ»¤æ³¢ç”µè·¯å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯éšç€é‡‡æ ·é¢‘ç‡çš„å‡é«˜ï¼Œå…¶å¯é æ€§åè€Œä¼šé™ä½ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="é—®é¢˜è®°å½•" scheme="https://sulfurandcu.github.io/sulfurandcu.io/categories/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="åå¤§åŠå¯¼ä½“" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%8D%8E%E5%A4%A7%E5%8D%8A%E5%AF%BC%E4%BD%93/"/>
    
    <category term="HC32F460" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/HC32F460/"/>
    
  </entry>
  
  <entry>
    <title>é—®é¢˜è®°å½•ï¼šåå¤§ HC32F460 åˆ‡æ¢è¿è¡Œæ¨¡å¼å¯¼è‡´å®•æœº</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/cloqsamms004qg4rq5jubc4h4.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/cloqsamms004qg4rq5jubc4h4.html</id>
    <published>2023-07-26T16:00:00.000Z</published>
    <updated>2023-07-26T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç°è±¡æè¿°"><a href="#ç°è±¡æè¿°" class="headerlink" title="ç°è±¡æè¿°"></a>ç°è±¡æè¿°</h2><ul><li>ä»é«˜é€Ÿ&#x2F;è¶…é«˜é€Ÿæ¨¡å¼å‘è¶…ä½é€Ÿæ¨¡å¼åˆ‡æ¢æ—¶ mcu å¼‚å¸¸æ­»æœº</li></ul><h2 id="åŸºç¡€ä¿¡æ¯"><a href="#åŸºç¡€ä¿¡æ¯" class="headerlink" title="åŸºç¡€ä¿¡æ¯"></a>åŸºç¡€ä¿¡æ¯</h2><ul><li>å½“å‰ä½¿ç”¨åå¤§ 2.2.0 ç‰ˆé©±åŠ¨ç¨‹åº</li><li>å½“å‰ä½¿ç”¨åå¤§ 1.2.1 ç‰ˆå‚è€ƒæ‰‹å†Œ</li></ul><h2 id="åŸå› åˆ†æ"><a href="#åŸå› åˆ†æ" class="headerlink" title="åŸå› åˆ†æ"></a>åŸå› åˆ†æ</h2><p>é€šè¿‡è°ƒè¯•å‘ç°æ¯æ¬¡è¿è¡Œè‡³ <code>M4_SYSREG-&gt;PWR_PWRC2</code> èµ‹å€¼æ—¶ç¨‹åºå°±ä¼šè·‘é£ğŸ˜¶</p><p><img src="/sulfurandcu.io/cloqsamms004qg4rq5jubc4h4/HC32F460-RM-Rev1.2-Register.png" alt="ç”µæºæ¨¡å¼æ§åˆ¶å¯„å­˜å™¨ 2"></p><figure class="highlight c"><figcaption><span>hc32f460_pwc.c</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="type">en_result_t</span> <span class="title function_">PWC_HS2LS</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    M4_SYSREG-&gt;PWR_PWRC2 = <span class="number">0xE1</span>U;</span><br><span class="line">    M4_SYSREG-&gt;PWR_MDSWCR = <span class="number">0x10</span>U;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">en_result_t</span> <span class="title function_">PWC_HP2LS</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    M4_SYSREG-&gt;PWR_PWRC2 = <span class="number">0xD1</span>U;</span><br><span class="line">    M4_SYSREG-&gt;PWR_MDSWCR = <span class="number">0x10</span>U;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç…äº†ä¸€çœ¼ã€Šå‚è€ƒæ‰‹å†Œ Rev1.2.1ã€‹å¥½åƒä¹Ÿæ²¡å•¥é—®é¢˜ï¼Œåˆçœ‹äº†ã€Šå‚è€ƒæ‰‹å†Œ Rev1.3ã€‹åï¼Œæˆ‘å¾—å‘â€¦ğŸ™„ï¼</p><p>ä¸¤ç‰ˆæ‰‹å†Œç«Ÿç„¶ä¸ä¸€æ ·ï¼</p><span id="more"></span><h3 id="Rev1-2-1"><a href="#Rev1-2-1" class="headerlink" title="Rev1.2.1"></a>Rev1.2.1</h3><p><img src="/sulfurandcu.io/cloqsamms004qg4rq5jubc4h4/HC32F460-RM-Rev1.2.png" alt="è¿è¡Œæ¨¡å¼çš„åˆ‡æ¢æµç¨‹ï¼ˆRev1.2ï¼‰"></p><h3 id="Rev1-3-0"><a href="#Rev1-3-0" class="headerlink" title="Rev1.3.0"></a>Rev1.3.0</h3><p><img src="/sulfurandcu.io/cloqsamms004qg4rq5jubc4h4/HC32F460-RM-Rev1.3.png" alt="è¿è¡Œæ¨¡å¼çš„åˆ‡æ¢æµç¨‹ï¼ˆRev1.3ï¼‰"></p><p>è¿™å¦¥å¦¥çš„æ˜¯åå¤§çš„é”…äº†â€¦</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ç°è±¡æè¿°&quot;&gt;&lt;a href=&quot;#ç°è±¡æè¿°&quot; class=&quot;headerlink&quot; title=&quot;ç°è±¡æè¿°&quot;&gt;&lt;/a&gt;ç°è±¡æè¿°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ä»é«˜é€Ÿ&amp;#x2F;è¶…é«˜é€Ÿæ¨¡å¼å‘è¶…ä½é€Ÿæ¨¡å¼åˆ‡æ¢æ—¶ mcu å¼‚å¸¸æ­»æœº&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;åŸºç¡€ä¿¡æ¯&quot;&gt;&lt;a href=&quot;#åŸºç¡€ä¿¡æ¯&quot; class=&quot;headerlink&quot; title=&quot;åŸºç¡€ä¿¡æ¯&quot;&gt;&lt;/a&gt;åŸºç¡€ä¿¡æ¯&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;å½“å‰ä½¿ç”¨åå¤§ 2.2.0 ç‰ˆé©±åŠ¨ç¨‹åº&lt;/li&gt;
&lt;li&gt;å½“å‰ä½¿ç”¨åå¤§ 1.2.1 ç‰ˆå‚è€ƒæ‰‹å†Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;åŸå› åˆ†æ&quot;&gt;&lt;a href=&quot;#åŸå› åˆ†æ&quot; class=&quot;headerlink&quot; title=&quot;åŸå› åˆ†æ&quot;&gt;&lt;/a&gt;åŸå› åˆ†æ&lt;/h2&gt;&lt;p&gt;é€šè¿‡è°ƒè¯•å‘ç°æ¯æ¬¡è¿è¡Œè‡³ &lt;code&gt;M4_SYSREG-&amp;gt;PWR_PWRC2&lt;/code&gt; èµ‹å€¼æ—¶ç¨‹åºå°±ä¼šè·‘é£ğŸ˜¶&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/sulfurandcu.io/cloqsamms004qg4rq5jubc4h4/HC32F460-RM-Rev1.2-Register.png&quot; alt=&quot;ç”µæºæ¨¡å¼æ§åˆ¶å¯„å­˜å™¨ 2&quot;&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight c&quot;&gt;&lt;figcaption&gt;&lt;span&gt;hc32f460_pwc.c&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;en_result_t&lt;/span&gt; &lt;span class=&quot;title function_&quot;&gt;PWC_HS2LS&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;type&quot;&gt;void&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    M4_SYSREG-&amp;gt;PWR_PWRC2 = &lt;span class=&quot;number&quot;&gt;0xE1&lt;/span&gt;U;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    M4_SYSREG-&amp;gt;PWR_MDSWCR = &lt;span class=&quot;number&quot;&gt;0x10&lt;/span&gt;U;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;en_result_t&lt;/span&gt; &lt;span class=&quot;title function_&quot;&gt;PWC_HP2LS&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;type&quot;&gt;void&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    M4_SYSREG-&amp;gt;PWR_PWRC2 = &lt;span class=&quot;number&quot;&gt;0xD1&lt;/span&gt;U;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    M4_SYSREG-&amp;gt;PWR_MDSWCR = &lt;span class=&quot;number&quot;&gt;0x10&lt;/span&gt;U;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ç…äº†ä¸€çœ¼ã€Šå‚è€ƒæ‰‹å†Œ Rev1.2.1ã€‹å¥½åƒä¹Ÿæ²¡å•¥é—®é¢˜ï¼Œåˆçœ‹äº†ã€Šå‚è€ƒæ‰‹å†Œ Rev1.3ã€‹åï¼Œæˆ‘å¾—å‘â€¦ğŸ™„ï¼&lt;/p&gt;
&lt;p&gt;ä¸¤ç‰ˆæ‰‹å†Œç«Ÿç„¶ä¸ä¸€æ ·ï¼&lt;/p&gt;</summary>
    
    
    
    <category term="é—®é¢˜è®°å½•" scheme="https://sulfurandcu.github.io/sulfurandcu.io/categories/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="åå¤§åŠå¯¼ä½“" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%8D%8E%E5%A4%A7%E5%8D%8A%E5%AF%BC%E4%BD%93/"/>
    
    <category term="HC32F460" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/HC32F460/"/>
    
  </entry>
  
  <entry>
    <title>å¼€å‘æŒ‡å—ï¼šåå¤§ HC32F460 æ—¶é’Ÿæ§åˆ¶å•å…ƒ</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup.html</id>
    <published>2023-07-16T16:00:00.000Z</published>
    <updated>2023-07-16T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="clock"><a href="#clock" class="headerlink" title="clock"></a>clock</h2><p><img src="/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/clock-tree-sketch.png"></p><span id="more"></span><p><img src="/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/clock-tree-manual.png"></p><p><img src="/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/clock-work.png"></p><p><img src="/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/clock-work-manual.png"></p><p><img src="/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/clock-work-note.png"></p><h2 id="pll"><a href="#pll" class="headerlink" title="pll"></a>pll</h2><p><img src="/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/pll.png"></p><h2 id="systick"><a href="#systick" class="headerlink" title="systick"></a>systick</h2><p><img src="/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/systick.png"></p><p><img src="/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/systick-manual.jpg"></p><center>ã€ŠARM Â® CortexM4 Devices Generic User Guideã€‹</center><br><p><img src="/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/systick-register.png"></p><center>hc32f460's systick control and status register</center><br><div class="note danger no-icon"><p>åå¤§ HC32F460 çš„ systick å˜€å—’å®šæ—¶å™¨ä½¿ç”¨å†…æ ¸æ—¶é’Ÿï¼ˆHCLKï¼‰</p></div><figure class="highlight c"><figcaption><span>HC32F460.h</span></figcaption><table><tr><td class="code"><pre><span class="line">********************************************************************************</span><br><span class="line">* @file  HC32F460.h</span><br><span class="line">* @brief Headerfile <span class="keyword">for</span> HC32F460 series MCU</span><br><span class="line">********************************************************************************</span><br><span class="line"></span><br><span class="line">********************************************************************************</span><br><span class="line">Configuration of the Cortex-M4 Processor and Core Peripherals</span><br><span class="line">********************************************************************************</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __CM4_REV                 1     <span class="comment">// !&lt; Core revision r0p1</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __FPU_PRESENT             1     <span class="comment">// !&lt; FPU present</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __MPU_PRESENT             1     <span class="comment">// !&lt; HC32F460 provides an MPU</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __NVIC_PRIO_BITS          4     <span class="comment">// !&lt; HC32F460 uses 4 Bits for the Priority Levels</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __Vendor_SysTickConfig    0     <span class="comment">// !&lt; Set to 1 if different SysTick Config is used</span></span></span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span>core_cm4.h</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">if</span> defined (__Vendor_SysTickConfig) &amp;&amp; (__Vendor_SysTickConfig == 0U)</span></span><br><span class="line"><span class="type">uint32_t</span> <span class="title function_">SysTick_Config</span><span class="params">(<span class="type">uint32_t</span> ticks)</span></span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><div class="note danger no-icon"><p>åå¤§ HC32F460 çš„ systick å˜€å—’å®šæ—¶å™¨ä½¿ç”¨ cmsis(core_cm4.h) ä¸­é»˜è®¤çš„é…ç½®å‡½æ•°</p></div><h2 id="å¤–è®¾æ—¶é’Ÿæºï¼ˆURTï¼‰"><a href="#å¤–è®¾æ—¶é’Ÿæºï¼ˆURTï¼‰" class="headerlink" title="å¤–è®¾æ—¶é’Ÿæºï¼ˆURTï¼‰"></a>å¤–è®¾æ—¶é’Ÿæºï¼ˆURTï¼‰</h2><p><img src="/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/PCLK1-URT.png"></p><center>Ã·2 è¡¨ç¤ºå¼€å¯è¿‡é‡‡æ ·åŠŸèƒ½</center><p><img src="/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/PCLK1-URT-example.png"></p><p><img src="/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/PCLK1-URT-baudrate-manual.jpg"></p><!--å…¬å¼ä½¿ç”¨å·¥å…· https://latexlive.com/ ç”Ÿæˆ\begin{align}& Baudrate = \frac{ä¸²å£é¢‘ç‡}{08\ \times\ (1\ +æ•´æ•°åˆ†é¢‘å¯„å­˜å™¨)} \ \ \ \ (å…³é—­è¿‡é‡‡æ ·) \\& Baudrate = \frac{ä¸²å£é¢‘ç‡}{16\ \times\ (1\ +æ•´æ•°åˆ†é¢‘å¯„å­˜å™¨)} \ \ \ \ (å¼€å¯è¿‡é‡‡æ ·) \\\end{align}--></p><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" rowspacing="3pt" displaystyle="true"><mtr><mtd></mtd><mtd><mi>B</mi><mi>a</mi><mi>u</mi><mi>d</mi><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mfrac><mrow><mo>ä¸²å£é¢‘ç‡</mo></mrow><mrow><mn>08</mn><mtext>&nbsp;</mtext><mo>Ã—</mo><mtext>&nbsp;</mtext><mo stretchy="false">(</mo><mn>1</mn><mtext>&nbsp;</mtext><mo>+</mo><mo>æ•´æ•°åˆ†é¢‘å¯„å­˜å™¨</mo><mo stretchy="false">)</mo></mrow></mfrac><mtext>&nbsp;</mtext><mtext>&nbsp;</mtext><mtext>&nbsp;</mtext><mtext>&nbsp;</mtext><mo stretchy="false">(</mo><mo>å…³é—­è¿‡é‡‡æ ·</mo><mo stretchy="false">)</mo></mtd></mtr></mtable></math><br><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" rowspacing="3pt" displaystyle="true"><mtr><mtd></mtd><mtd><mi>B</mi><mi>a</mi><mi>u</mi><mi>d</mi><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mfrac><mrow><mo>ä¸²å£é¢‘ç‡</mo></mrow><mrow><mn>16</mn><mtext>&nbsp;</mtext><mo>Ã—</mo><mtext>&nbsp;</mtext><mo stretchy="false">(</mo><mn>1</mn><mtext>&nbsp;</mtext><mo>+</mo><mo>æ•´æ•°åˆ†é¢‘å¯„å­˜å™¨</mo><mo stretchy="false">)</mo></mrow></mfrac><mtext>&nbsp;</mtext><mtext>&nbsp;</mtext><mtext>&nbsp;</mtext><mtext>&nbsp;</mtext><mo stretchy="false">(</mo><mo>å¼€å¯è¿‡é‡‡æ ·</mo><mo stretchy="false">)</mo></mtd></mtr></mtable></math><br><div class="note info no-icon"><p>å…¬å¼ä¸­æ•´æ•°åˆ†é¢‘å¯„å­˜å™¨çš„å–å€¼èŒƒå›´ä¸º 0x00 ~ 0xFFï¼ˆUSART_BRR[b15~b08]ï¼‰</p></div><h2 id="å¤–è®¾æ—¶é’Ÿæºï¼ˆSPIï¼‰"><a href="#å¤–è®¾æ—¶é’Ÿæºï¼ˆSPIï¼‰" class="headerlink" title="å¤–è®¾æ—¶é’Ÿæºï¼ˆSPIï¼‰"></a>å¤–è®¾æ—¶é’Ÿæºï¼ˆSPIï¼‰</h2><p><img src="/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/PCLK1-SPI.png"></p><h2 id="å¤–è®¾æ—¶é’Ÿæºï¼ˆI2Cï¼‰"><a href="#å¤–è®¾æ—¶é’Ÿæºï¼ˆI2Cï¼‰" class="headerlink" title="å¤–è®¾æ—¶é’Ÿæºï¼ˆI2Cï¼‰"></a>å¤–è®¾æ—¶é’Ÿæºï¼ˆI2Cï¼‰</h2><p><img src="/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/PCLK3-I2C.png"></p><h2 id="å¤–è®¾æ—¶é’Ÿæºï¼ˆCMPï¼‰"><a href="#å¤–è®¾æ—¶é’Ÿæºï¼ˆCMPï¼‰" class="headerlink" title="å¤–è®¾æ—¶é’Ÿæºï¼ˆCMPï¼‰"></a>å¤–è®¾æ—¶é’Ÿæºï¼ˆCMPï¼‰</h2><p><img src="/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/PCLK3-CMP.png"></p><div class="note danger no-icon"><p>æ¯”è¾ƒæ»¤æ³¢å™¨çš„é‡‡æ ·é¢‘ç‡è¶Šä½â†’æ»¤æ³¢æ•ˆæœè¶Šå¥½ï¼</p></div>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;clock&quot;&gt;&lt;a href=&quot;#clock&quot; class=&quot;headerlink&quot; title=&quot;clock&quot;&gt;&lt;/a&gt;clock&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/sulfurandcu.io/cloqtbfnv000dmgrq0l3acbup/clock-tree-sketch.png&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="å¼€å‘ç¬”è®°" scheme="https://sulfurandcu.github.io/sulfurandcu.io/categories/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="åå¤§åŠå¯¼ä½“" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%8D%8E%E5%A4%A7%E5%8D%8A%E5%AF%BC%E4%BD%93/"/>
    
    <category term="HC32F460" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/HC32F460/"/>
    
  </entry>
  
  <entry>
    <title>é›†æˆå¼€å‘ç¯å¢ƒï¼åˆé›†</title>
    <link href="https://sulfurandcu.github.io/sulfurandcu.io/clo3okqut006mi0rq9ecvb34e.html"/>
    <id>https://sulfurandcu.github.io/sulfurandcu.io/clo3okqut006mi0rq9ecvb34e.html</id>
    <published>2023-07-04T16:00:00.000Z</published>
    <updated>2023-07-04T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<hr><p>å„ä¸ªå¹³å°ä¸‹çš„å¼€å‘ç¯å¢ƒæ­å»ºæ•™ç¨‹</p><ul><li><a href="/sulfurandcu.io/clo2c1l6m00de1wrqg1jcfbqd.html">ARM.GCC</a></li><li><a href="/sulfurandcu.io/404/index.html">ARM.MDK (TODO)</a></li><li><a href="/sulfurandcu.io/404/index.html">ARM.IAR (TODO)</a></li><li><a href="/sulfurandcu.io/404/index.html">ARM.SES (TODO)</a></li><li><a href="/sulfurandcu.io/404/index.html">ARM.ADS (TODO)</a></li><li><a href="/sulfurandcu.io/404/index.html">RV5.GCC (TODO)</a></li><li><a href="/sulfurandcu.io/404/index.html">RV5.IAR (TODO)</a></li><li><a href="/sulfurandcu.io/404/index.html">RV5.SES (TODO)</a></li><li><a href="/sulfurandcu.io/404/index.html">C51.MDK (TODO)</a></li><li><a href="/sulfurandcu.io/404/index.html">C51.IAR (TODO)</a></li><li><a href="/sulfurandcu.io/404/index.html">MSP.IAR (TODO)</a></li><li><a href="/sulfurandcu.io/404/index.html">AVR.IAR (TODO)</a></li><li><a href="/sulfurandcu.io/404/index.html">PIC.XXX (TODO)</a></li></ul><hr><span id="more"></span><h2 id="æ­å»ºæ–¹æ¡ˆ"><a href="#æ­å»ºæ–¹æ¡ˆ" class="headerlink" title="æ­å»ºæ–¹æ¡ˆ"></a>æ­å»ºæ–¹æ¡ˆ</h2><ul><li><strong>VSC</strong><ul><li><a href="https://devblogs.microsoft.com/cppblog/vscode-embedded-development/">Microsoft Embedded Tools</a></li><li><a href="https://github.com/Marus/cortex-debug/wiki">Cortex Debug</a></li><li><a href="https://em-ide.com/zh-cn/">Embedded IDE</a></li><li><a href="https://docs.espressif.com/projects/esp-idf/zh_CN/v4.3.1/esp32/index.html">vscode for espidf</a></li><li><a href="https://www.essemi.com/index/article/plist?cid=141">vscode for essemi</a></li></ul></li><li><strong>VS</strong><ul><li><a href="https://devblogs.microsoft.com/cppblog/visual-studio-embedded-development/">Microsoft Embedded Software Development in Visual Studio</a></li><li><a href="https://visualgdb.com/">VisualGDB by SysPROGS</a></li></ul></li><li><strong>Eclipse</strong></li><li><strong>Eclipse Based</strong><ul><li><a href="https://www.rt-thread.io/studio.html">EclipseBased: RT-Thread Studio</a></li><li><a href="http://www.mounriver.com/">EclipseBased: MounRiver Studio</a></li><li><a href="https://www.rvmcu.com/nucleistudio.html">EclipseBased: NucleiIDE Studio</a></li></ul></li></ul><h2 id="é€šç”¨æ–¹æ¡ˆ"><a href="#é€šç”¨æ–¹æ¡ˆ" class="headerlink" title="é€šç”¨æ–¹æ¡ˆ"></a>é€šç”¨æ–¹æ¡ˆ</h2><ul><li><a href="https://www.keil.arm.com/">KeilStudioCloud</a></li><li><a href="https://developer.arm.com/Tools%20and%20Software/Arm%20Development%20Studio">ADS</a><ul><li>ARM</li></ul></li><li><a href="https://www.keil.com/">MDK</a><ul><li>ARM <a href="https://www.keil.com/pr/article/1302.htm">(ARM 6 Will start shipping towards The End of 2023)</a></li><li>C51</li></ul></li><li><a href="https://www.iar.com/products/architectures/">IAR</a><ul><li>RV5</li><li>ARM</li><li>AVR</li><li>MSP</li><li>STM</li><li>C51</li></ul></li><li><a href="https://www.segger.com/products/development-tools/embedded-studio/">SES</a><ul><li>ARM</li><li>RV5</li></ul></li><li><a href="https://embeetle.com/#">EmbeetleIDE</a></li></ul><h2 id="ä¸“ç”¨æ–¹æ¡ˆ"><a href="#ä¸“ç”¨æ–¹æ¡ˆ" class="headerlink" title="ä¸“ç”¨æ–¹æ¡ˆ"></a>ä¸“ç”¨æ–¹æ¡ˆ</h2><ul><li><strong>Eclipse Based</strong><ul><li><a href="https://www.st.com/en/development-tools/sw4stm32.html">ST: SW4STM32 System Workbench for STM32</a></li><li><a href="https://www.st.com/en/development-tools/truestudio.html">ST: TrueStudio by Atollic before 2017</a></li><li><a href="">ST: STM32CubeIDE release in 2019 &#x3D; TrueStudio+STM32CubeMX</a></li><li><a href="https://www.renesas.com/us/en/software-tool/e-studio">Renesas: E2Studio</a></li></ul></li><li><strong>NetBeans Based</strong><ul><li><a href="https://www.microchip.com/en-us/tools-resources/develop/mplab-x-ide">Microchip: MPLAB X IDE</a></li></ul></li></ul><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p><a href="https://elmagnifico.tech/2022/03/14/Embeded-IDE/">https://elmagnifico.tech/2022/03/14/Embeded-IDE/</a><br><a href="https://elmagnifico.tech/2022/03/15/Embedded-Software-Development-VS-VSC/">https://elmagnifico.tech/2022/03/15/Embedded-Software-Development-VS-VSC/</a></p>]]></content>
    
    
    <summary type="html">&lt;hr&gt;
&lt;p&gt;å„ä¸ªå¹³å°ä¸‹çš„å¼€å‘ç¯å¢ƒæ­å»ºæ•™ç¨‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/sulfurandcu.io/clo2c1l6m00de1wrqg1jcfbqd.html&quot;&gt;ARM.GCC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/sulfurandcu.io/404/index.html&quot;&gt;ARM.MDK (TODO)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/sulfurandcu.io/404/index.html&quot;&gt;ARM.IAR (TODO)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/sulfurandcu.io/404/index.html&quot;&gt;ARM.SES (TODO)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/sulfurandcu.io/404/index.html&quot;&gt;ARM.ADS (TODO)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/sulfurandcu.io/404/index.html&quot;&gt;RV5.GCC (TODO)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/sulfurandcu.io/404/index.html&quot;&gt;RV5.IAR (TODO)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/sulfurandcu.io/404/index.html&quot;&gt;RV5.SES (TODO)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/sulfurandcu.io/404/index.html&quot;&gt;C51.MDK (TODO)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/sulfurandcu.io/404/index.html&quot;&gt;C51.IAR (TODO)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/sulfurandcu.io/404/index.html&quot;&gt;MSP.IAR (TODO)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/sulfurandcu.io/404/index.html&quot;&gt;AVR.IAR (TODO)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/sulfurandcu.io/404/index.html&quot;&gt;PIC.XXX (TODO)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;</summary>
    
    
    
    <category term="å¼€å‘ç¬”è®°" scheme="https://sulfurandcu.github.io/sulfurandcu.io/categories/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="åµŒå…¥å¼è½¯ä»¶å¼€å‘" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="é›†æˆå¼€å‘ç¯å¢ƒ" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"/>
    
    <category term="IDE" scheme="https://sulfurandcu.github.io/sulfurandcu.io/tags/IDE/"/>
    
  </entry>
  
</feed>
